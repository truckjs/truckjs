{"version":3,"sources":["modules/view.js","modules/component.js","modules/environment.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.get-names.js","../jspm_packages/npm/core-js@1.2.6/library/modules/es6.object.get-own-property-names.js","../jspm_packages/npm/core-js@1.2.6/library/fn/object/get-own-property-names.js","../jspm_packages/npm/babel-runtime@5.8.35/core-js/object/get-own-property-names.js","modules/promises.js","modules/fetch.js","../jspm_packages/npm/core-js@1.2.6/library/fn/object/create.js","../jspm_packages/npm/babel-runtime@5.8.35/core-js/object/create.js","modules/oop.js","modules/validators.js","modules/form.js","modules/formatters.js","modules/anim.js","widgets/activity-indicator.js","widgets/editable.js","widgets/select-list.js","modules/stack.js","widgets/multi-select-list.js","widgets/paging.js","widgets/popover.js","widgets/block.js","widgets/popup.js","widgets/range.js","widgets/segmented.js","widgets/sheets.js","widgets/slideout.js","widgets/stepper.js","widgets/switches.js","widgets/center.js","widgets/buttons.js","widgets/navbar.js","widgets/setup.js","widgets/screens.js","modules/mediator.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.to-object.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.object-sap.js","../jspm_packages/npm/core-js@1.2.6/library/modules/es6.object.keys.js","../jspm_packages/npm/core-js@1.2.6/library/fn/object/keys.js","../jspm_packages/npm/babel-runtime@5.8.35/core-js/object/keys.js","../jspm_packages/npm/core-js@1.2.6/library/modules/es6.object.to-string.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.string-at.js","../jspm_packages/npm/core-js@1.2.6/library/modules/es6.string.iterator.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.add-to-unscopables.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.iter-step.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.iobject.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.defined.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.to-iobject.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.iter-create.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.iter-define.js","../jspm_packages/npm/core-js@1.2.6/library/modules/es6.array.iterator.js","../jspm_packages/npm/core-js@1.2.6/library/modules/web.dom.iterable.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.library.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.export.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.strict-new.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.iter-call.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.is-array-iter.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.to-integer.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.to-length.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.classof.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.iterators.js","../jspm_packages/npm/core-js@1.2.6/library/modules/core.get-iterator-method.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.for-of.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.set-proto.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.same-value.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.an-object.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.species-constructor.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.a-function.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.ctx.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.invoke.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.html.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.is-object.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.dom-create.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.task.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.cof.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.microtask.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.property-desc.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.hide.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.redefine.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.redefine-all.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.has.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.set-to-string-tag.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.fails.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.descriptors.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.set-species.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.shared.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.uid.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.global.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.wks.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.iter-detect.js","../jspm_packages/npm/process@0.11.2/browser.js","../jspm_packages/npm/process@0.11.2.js","../jspm_packages/github/jspm/nodelibs-process@0.1.2/index.js","../jspm_packages/github/jspm/nodelibs-process@0.1.2.js","../jspm_packages/npm/core-js@1.2.6/library/modules/es6.promise.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.core.js","../jspm_packages/npm/core-js@1.2.6/library/fn/promise.js","../jspm_packages/npm/babel-runtime@5.8.35/core-js/promise.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.js","../jspm_packages/npm/core-js@1.2.6/library/fn/object/define-property.js","../jspm_packages/npm/babel-runtime@5.8.35/core-js/object/define-property.js","../jspm_packages/npm/babel-runtime@5.8.35/helpers/create-class.js","../jspm_packages/npm/babel-runtime@5.8.35/helpers/class-call-check.js","domstack.js","truck.js","modules/box.js","modules/model.js","widgets/router.js","widgets/navigation.js","widgets/tabbar.js"],"names":["$","extend","view","index","helpers","defineHelper","callback","View","options","__element","undefined","element","__template","template","__model","model","__mediator","mediator","__index","__rendered","__variable","variable","__events","events","__isBoundTo","__dontGetTemplate","noTemplate","__startIndexFrom","startIndexFrom","__canRender","__startFrom","__stopAfter","__restartTime","__renderViewEveryTime","__lastRenderTime","__re","__escapeHTML","escapeHTML","__renderCount","parsedTemplate","parseView","interpolate","replace","Template","Function","split","join","handleEvents","length","forEach","item","on","event","extractTemplate","size","children","eq","is","html","empty","childNodes","render","data","append","renderIterableData","type","Data","removeClass","Number","interateModelToTemplate","Date","now","renderSingleObjectView","run","m","d","bindModelToView","handle","mediators","MediatorStack","push","token","uuid","exec","count","start","after","time","_Object$keys","indexOf","getHandle","getType","resetIndex","number","isNaN","getTemplate","setTemplate","getModel","setModel","unbind","bindToModel","getMediator","getData","isRendered","isEmpty","jQuery","objectType","array","bind","Mediator","__v","addEvent","off","getElement","setElement","stop","isStopped","restart","getRestartTime","renderViewAfter","setTimeout","renderViewEvery","loop","getLastModTime","apply","stopRenderViewEvery","getLastRenderTime","boolean","isEscapingHTML","getRenderCount","Component","comp","name","isiPhone","test","navigator","userAgent","isiPad","isiPod","isiOS","isAndroid","isBlackberry","isTouchEnabled","document","isOnline","onLine","isStandalone","standalone","isWin","isIE10","isIE11","isWebkit","isDesktop","isSafari","isChrome","isNativeAndroid","$__System","registerDynamic","$__require","exports","module","toIObject","getNames","toString","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","e","slice","get","call","default","__esModule","schedule","func","self","queue","add","cycle","unshift","isThenable","obj","_then","obj_type","then","notify","i","this","chain","notifyIsolated","state","success","failure","ret","reject","msg","promise","TypeError","resolve","err","triggered","deferred","deferred_wrapper","MakeDeferred","arguments","iteratePromises","Constructor","arr","resolver","rejecter","idx","Deferred","Promise","executor","isValidPromise","constructor","val","config","_Object$defineProperty","value","writable","configurable","Item","next","first","last","f","PromisePrototype","prototype","len","msgs","Array","normalizeName","String","toLowerCase","normalizeValue","Headers","headers","map","_Object$getOwnPropertyNames","consumed","body","bodyUsed","_Promise","fileReaderReady","reader","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","arrayBuffer","ArrayBuffer","Error","set","rejected","text","decode","json","JSON","parse","normalizeMethod","method","upcased","toUpperCase","methods","Request","input","url","credentials","mode","referrer","form","trim","bytes","shift","decodeURIComponent","xhr","head","pairs","getAllResponseHeaders","header","key","Response","bodyInit","status","ok","statusText","JSONPCallbacks","jsonp","opts","generateCallbackName","callbackName","settings","timeout","clear","response","clearTimeout","script","createElement","async","defer","src","appendChild","parentNode","removeChild","pos","splice","fetch","list","values","getAll","has","hasOwnProperty","thisArg","clone","redirectStatuses","redirect","RangeError","location","init","responseURL","getResponseHeader","request","XMLHttpRequest","responseText","open","withCredentials","responseType","setRequestHeader","send","polyfill","P","D","create","mixin","sourceObj","targetObj","_Object$create","Temp","hasOwn","O","_arguments","Properties","prop","setValidityStatus","checkValidity","valid","addClass","expression","fn","isNotEmpty","ctx","nodeName","validateAlphabetic","letters","match","validateText","validateNumber","numbers","validateAlphaNumeric","validateUserName","minimum","username","validateEmail","email","validatePhoneNumber","int","phone","phoneNumber","convertLettersToNumbers","phonenumber","character","charAt","validateUrl","validateAge","age","validateCheckbox","checked","validateRadioButtons","choice","each","button","validateSelectBox","selectedIndex","validateSwitch","checkbox","find","validateSelectList","radio","iz","validateMultiSelectList","checkboxes","validatePassword","input1","input2","validateWithRegex","regex","console","customValidators","registerCustomValidator","Form","validateElement","dir","__passed","convertToObject","attr","__errors","__result","convertObjectToJSON","delimiter","arrays","_name","nameParts","currResult","j","namePart","arrName","substr","arrIdx","min","element2","inputs","cv","filter","validator","el","getErrors","errors","formatNumber","amount","separator","decimal","sep","num","Math","round","toFixed","sum","isArray","reduce","a","b","currency","symbol","sym","dec","zero","formatTime","temp","temp2","ampm","sortDate","date1","date2","sortNumbers","sortNumbersDescending","transformProperty","styles","style","hasTranslate3d","webkitTransform","msTransform","MozTransform","transform","insertBefore","getComputedStyle","getPropertyValue","hasTransitions","styl","componentEvents","_bind","_unbind","prefix","capture","cssEmitter","CssEmitter","watch","once","yieldsAafterTransition","supported","emitter","n","global","called","id","Emitter","addEventListener","_callbacks","removeListener","removeAllListeners","removeEventListener","callbacks","cb","emit","args","listeners","hasListeners","cssEase","in","out","in-out","snap","linear","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-out-in-back","ease-in-circ","ease-out-circ","ease-in-out-circ","ease-out-in-circ","ease-in-back","ease-out-back","ease-in-out-back","anim","Anim","query","_props","_rotate","_transitionProps","_transforms","duration","defaults","requestAnimationFrame","selector","querySelector","has3d","ease","translate","currentStyle","select","skew","x","y","skewX","skewY","to","translateX","translateY","scale","scaleX","scaleY","matrix","m11","m12","m21","m22","m31","m32","rotate","setVendorProperty","animate","props","_duration","parseFloat","delay","setProperty","transition","curr","parseInt","current","sub","applyProperties","parent","pop","reset","webkitTransitionDuration","mozTransitionDuration","msTransitionDuration","oTransitionDuration","Busy","color","position","$this","spinner","iOSBusy","androidBusy","androidActivityIndicator","css","height","width","winBusy","hasClass","EditList","editLabel","doneLabel","deleteLabel","cancelLabel","noop","deletable","movable","modelProp","__data","__view","deleteButton","editButton","deletionIndicator","dispelDeletable","enableDeletable","moveUpIndicator","moveDownIndicator","nav","closest","hide","prepend","AdjustNavbarLayout","setupDeletability","insertAdjacentHTML","classList","contains","remove","siblings","show","__newarray","purge","concat","_this","prev","itemClone","prevClone","offsetHeight","-webkit-transform","nextClone","listItem","direction","-webkit-transition","getView","SelectList","selected","__selection","getAttribute","setAttribute","removeAttr","removeProp","getSelection","Stack","_len","_key","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","sort","_len6","_key6","__orderBy","_len7","_key7","_len8","_key8","object","_len9","_key9","reverse","_len10","_key10","_len11","_key11","every","_len12","_key12","some","arrayItem","stringify","arrayItemValue","MultiSelectList","selections","sel","dataObj","unique","Paging","screen","pager","currentSection","articles","pageForward","pagerButton","currentArticle","pageBack","eventStart","Popover","title","content","popover","popoverID","__calcPopPos","offset","left","calcLeft","calcTop","popoverOffset","top","clientHeight","innerWidth","ClosePopover","Unblock","Block","trigger","AlignPopover","triggerID","onresize","nodeType","opacity","Popup","message","cancelButton","continueButton","popup","ClosePopup","CenterPopup","eventEnd","stopPropagation","tmpTop","innerHeight","pageYOffset","tmpLeft","floor","clientWidth","ShowPopup","Range","newPlace","newPoint","background-size","Segmented","createSegmentedButton","__segmented","labels","segmented","Sheet","background","slideDown","sheet","HideSheet","ShowSheet","SlideOut","slideoutID","buttonID","slideOutButton","slideOut","slideout","slideOutBtn","toggleClass","menuItems","hazClass","screens","screenToShow","Router","dispatch","populate","Stepper","max","stepper","defaultValue","increaseSymbol","decreaseSymbol","decreaseButton","label","increaseButton","increaseStepperValue","currentValue","newValue","decreaseStepperValue","getValue","Switch","__checked","onCallback","offCallback","swipeOn","swipeOff","documentElement","checkState","__switch","removeAttribute","Center","parentHeight","parentWidth","margin-left","margin-right","truckBackButtonSVG","decorateBackButton","handleOneSibling","sib","sibling","h1","whichSide","oppositeSide","rtl","hidden","visibleSibling","calculateLongest","widthA","widthB","sibwidth","headerWidth","getCurrent","getNext","getPrevious","__array","setExecutable","receiver","stopAfter","setStopAfter","__exec","mtor","stopCount","receive","startDispatch","stopDispatch","defined","$export","core","fails","KEY","exp","S","F","toObject","$keys","keys","toInteger","TO_STRING","that","s","l","charCodeAt","$at","iterated","_t","_i","point","done","cof","propertyIsEnumerable","IObject","descriptor","setToStringTag","IteratorPrototype","NAME","LIBRARY","redefine","Iterators","$iterCreate","getProto","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","getMethod","kind","proto","TAG","DEF_VALUES","VALUES_BUG","$native","$default","entries","addToUnscopables","step","_k","Arguments","NodeList","HTMLCollection","PROTOTYPE","source","own","IS_FORCED","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","target","C","param","anObject","iterator","ArrayProto","ceil","ARG","T","callee","classof","getIteratorMethod","isArrayIter","toLength","getIterFn","iterable","iterFn","getDesc","isObject","check","setPrototypeOf","buggy","__proto__","aFunction","SPECIES","c","un","process","channel","port","invoke","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","ONREADYSTATECHANGE","listner","nextTick","port2","port1","onmessage","postMessage","importScripts","macrotask","Observer","MutationObserver","WebKitMutationObserver","isNode","flush","domain","exit","enter","toggle","node","createTextNode","observe","characterData","task","bitmap","enumerable","createDesc","setDesc","def","tag","stat","defineProperty","DESCRIPTORS","SHARED","store","px","random","__g","uid","Symbol","SAFE_CLOSING","riter","from","skipClosing","safe","iter","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","fun","browser","env","argv","version","versions","addListener","binding","cwd","chdir","umask","_nodeRequire","Wrapper","strictNew","forOf","setProto","same","speciesConstructor","asap","PROMISE","testResolve","USE_NATIVE","P2","works","thenableThenGotten","sameConstructor","getConstructor","PromiseCapability","$$resolve","$$reject","perform","record","isReject","v","reaction","handler","fail","h","p","isUnhandled","onunhandledrejection","reason","_d","$reject","r","$resolve","wrapper","onFulfilled","onRejected","catch","capability","all","abrupt","remaining","results","alreadyCalled","race","__e","$Object","getPrototypeOf","isEnum","getOwnPropertyDescriptor","setDescs","defineProperties","getKeys","getSymbols","getOwnPropertySymbols","desc","protoProps","staticProps","instance","DOMStack","collection","Truck","context","__this","idRE","classRE","tagRE","readyRE","elements","getId","getElementById","getTag","getElementsByTagName","getClass","getElementsByClassName","getNode","querySelectorAll","readyState","targetObject","sourceObject","lib","charset","randomLetter","HTMLString","wrapperMap","option","legend","area","thead","tr","col","td","__default","optgroup","tbody","tfoot","colgroup","caption","th","innerHTML","lastChild","nodeValue","require","insertScript","firstScript","loadScript","handleError","setupLoad","milliseconds","newElement","targetElement","newEl","targEl","replaceChild","isEmptyObject","isInteger","isFloat","encode","encodeURIComponent","tagsToReplace","&","<",">","(",")","str","replaceTag","safe_tags_replace","_type","camelize","string","letter","deCamelize","capitalize","substring","newstr","arg","__is","_this2","not","elems","items","__has","_this3","prevElement","previousElementSibling","prevAll","__siblings","__self","__sibs","nextElement","nextElementSibling","nextAll","__parent","property","pixelRE","postFix","testForPixelSupport","defaultView","before","__before","_this4","__after","nextSibling","_this5","firstChild","prependTo","appendTo","cloneNode","wrap","tempNode","empNode","whichClone","unwrap","getBoundingClientRect","borderTop","borderLeft","parentPos","compareOffsets1","val1","val2","textContent","innerText","replaceWith","contnet","className","classes","__attr","hasAttribute","attribute","disable","disabled","cursor","enable","display","TruckDataCache","removeData","_this6","serializeArray","field","serialize","traditional","params","scope","hash","TruckEventStack","TruckEventCache","capturePhase","deleteFromEventStack","toDelete","evtStck","eventStack","deleteOrder","evt","delegate","delegateElement","ancestor","undelegate","createEvent","evtObj","initEvent","dispatchEvent","eventMove","eventCancel","gestureLength","pointerEnabled","msPointerEnabled","parentIfText","swipeDirection","x1","x2","y1","y2","abs","longTap","longTapTimeout","touch","cancelLongTap","cancelAll","touchTimeout","tapTimeout","swipeTimeout","longTapDelay","singleTapDelay","delta","twoTouches","originalEvent","isPrimary","preventDefault","pageX","pageY","touches","targetTouches","isDoubleTap","_method","iznt","_","haz","haznt","hazntClass","hazAttr","hazntAttr","Box","globalObject","callWhenReady","truckBoxInstance","libraryMethod","__args","ready","isLibraryDriver","driverName","driver","DriverType","__createBlob","parts","properties","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","builder","getBlob","__binStringToArrayBuffer","bin","buf","Uint8Array","__blobAjax","onreadystatechange","__checkBlobSupportWithoutCaching","idb","txn","transaction","DETECT_BLOB__support_STORE","objectStore","put","oncomplete","blobTxn","getBlobReq","onsuccess","storedBlob","URL","createObjectURL","res","revokeObjectURL","__checkBlobSupport","supportsBlobs","__encodeBlob","onloadend","base64","btoa","__truck_box_encoded_blob","readAsBinaryString","__decodeBlob","encodedBlob","arrayBuff","atob","__isEncodedBlob","__initStorage","ignoreErrors","dbInfo","db","dbContexts","dbContext","box","readyPromises","truckbox","__getOriginalConnection","_isUpgradeNeeded","__defaultConfig","__getUpgradedConnection","__dbInfo","k","__getConnection","upgradeNeeded","close","dbArgs","openreq","indexedDB","onupgradeneeded","createObjectStore","boxName","oldVersion","ex","warn","newVersion","defaultVersion","isNewStore","objectStoreNames","isDowngrade","isUpgrade","incVersion","req","executeCallback","openCursor","iterationNumber","blobSupport","onabort","advanced","advance","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","asyncStorage","__driver","dbInfoPromise","openDatabase","description","setDriver","LOCALSTORAGE","t","executeSql","truckBoxSerializer","serializer","rows","deserialize","originalValue","sqlError","code","QUOTA_ERR","webSQLStorage","keyPrefix","localStorage","removeItem","getItem","keyPrefixLength","setItem","localStorageWrapper","valueString","buffer","marker","SERIALIZED_MARKER","TYPE_ARRAYBUFFER","TYPE_INT8ARRAY","TYPE_UINT8ARRAY","TYPE_UINT8CLAMPEDARRAY","TYPE_INT16ARRAY","TYPE_UINT16ARRAY","TYPE_INT32ARRAY","TYPE_UINT32ARRAY","TYPE_FLOAT32ARRAY","TYPE_FLOAT64ARRAY","bufferToString","fileReader","BLOB_TYPE_PREFIX","TYPE_BLOB","SERIALIZED_MARKER_LENGTH","serializedString","TYPE_SERIALIZED_MARKER_LENGTH","blobType","BLOB_TYPE_PREFIX_REGEX","matcher","stringToBuffer","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","bufferLength","encoded1","encoded2","encoded3","encoded4","BASE_CHARS","base64String","CustomDrivers","INDEXEDDB","WEBSQL","DefaultDriverOrder","LibraryMethods","DefaultConfig","driverSupport","IDBKeyRange","TruckBox","__config","__driverSet","__initDriver","__ready","__wrapLibraryMethodsWithReady","defineDriver","driverObject","errorCallback","complianceError","namingError","customDriverMethods","customDriverMethod","supportPromise","__support","supportResult","getDriver","getDriverPromise","log","getSerializer","serializerPromise","drivers","setDriverToConfig","initDriver","supportedDrivers","driverPromiseLoop","currentDriverIndex","__extend","__getSupportedDrivers","oldDriverSetDone","supports","libraryMethodsAndProperties","createInstance","truckBox","Model","__handle","__name","__boxName","__key","__autobox","__lastBoxTime","__lastModifiedTime","checkPublicationName","propagateDataLoop","cntrl","propagateData","doNotPropogate","mod","hasData","isIterable","setProp","getProp","setObject","mergeObject","_data","__d","insert","pluck","sortBy","orderBy","sortByProperty","sortOrder","numberOfProperties","delete","poke","setHandle","setItemProp","getItemProp","deleteItemProp","autobox","setToAutobox","isBoxed","isAutoBoxed","getLastBoxTime","TruckRoutes","addRoute","route","getFullRoute","getRoutesStack","getCurrentLoc","pushRoute","popRoute","unshiftRoute","shiftRoute","baseRouteOnly","isNavigating","getScreen","makeScreenCurrent","makeScreenPrevious","makeScreenNext","GoToScreen","destination","currentScreen","destinationScreen","scrollTop","GoBack","desintation","dest","GoBackToScreen","handleNavigationEvent","TabBar","icons","__tabbarScreens","screenPrefix","selectedScreen","showIcons","setToCurrent","setToNext","makeTab","icon","tab","tabbarTmpl","tabbar","__tabbarButtons","__selectedTabbarButton","__selectedTabbarScreen","tabbarButtons","routes","fullRoute","navRoutesFull","navRoutes","routing","whichRoute","getSelectedTab","getSelectedScreen","setSelectedTab"],"mappings":"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","file":"truck.min.js","sourceRoot":"/source/","sourcesContent":["// Truck Module - View:\nimport '../truck';\nimport './model';\n\n//=============\n// Define View:\n//=============\n\n$.extend({\n\n  /* jshint, evil: false, validthis:true, unused:false, smarttabs: true, nonew false */\n  view: {\n    index: 0\n  },\n\n  helpers: {},\n\n  defineHelper: callback => {\n    $.extend($.helpers, callback);\n  },\n\n\n  View: options => {\n    /*\n    options = {\n      element: undefined,\n      template: stringTemplate,\n      noTemplate: false;\n      model: undefined,\n      variable: 'whatever',\n      events: [\n        {\n          element: selector || 'self',\n          event: 'click',\n          callback: function() {}\n        },\n        {\n          element: selector2 || 'self',\n          event: 'touchstart',\n          callback: function() {}\n        }\n      ]\n    }\n    */\n\n    //====================\n    // Private Properties:\n    //====================\n    let __element;\n    if (!options) options = {};\n    if (options && options.element) {\n      __element = $(options.element) || $();\n    }\n    const $this = this;\n    let __template = options.template;\n    let __model = options.model;\n    let __mediator = options.mediator;\n    let __index = options.index || 1;\n    let __rendered = false;\n    let __variable = options.variable || 'data';\n    let __events = options.events || [];\n    let __isBoundTo = options.model;\n    let __dontGetTemplate = options.noTemplate || false;\n    let __startIndexFrom = options.startIndexFrom || false;\n    let __canRender = true;\n    let __startFrom = 0;\n    let __stopAfter = 0;\n    let __restartTime = 0;\n    let __renderViewEveryTime = false;\n    let __lastRenderTime = 0;\n    const __re = /data-src/img;\n    let __escapeHTML = options.escapeHTML || false;\n    let __renderCount = 0;\n\n    //===================\n    // Private Functions:\n    //===================\n    \n    let parsedTemplate;\n\n    const parseView = (template, variable) => {\n      const interpolate = /\\{=([\\s\\S]+?)\\}/img;\n      variable = variable || 'data';\n      template.replace(\"'\", \"\\'\");\n      /* jshint ignore:start */\n      const Template = new Function(variable,\n        \"var p=[];\" + \"p.push('\" + template\n        .replace(/[\\r\\t\\n]/g, \" \")\n        .split(\"'\").join(\"\\\\'\")\n        .replace(interpolate, \"',$1,'\")\n        // Executable:\n        .split('{{').join(\"');\")\n        .split('}}').join(\"p.push('\") + \"');\" +\n        \"return p.join('');\");\n      return Template;\n      /* jshint ignore:end */\n    };\n\n    // Binding any events provided in View options:\n    const handleEvents = () => {\n      if (!__element) return;\n      if (__events.length) {\n        __events.forEach(item => {\n          if (item && item.element === 'self' || item && !item.element) {\n            __element.on(item.event, item.callback);\n          } else {\n            __element.on(item.event, item.element, item.callback);\n          }\n        });\n      }\n    };\n\n    // Get template from element:\n    const extractTemplate = () => {\n      if (!__element || !__element.size()) return;\n      if (__dontGetTemplate) return;\n      if (!__template) {\n        if (__element.children()[0] && __element.children().eq(0).is('script')) {\n          __template = __element.children('script').html();\n          __element.empty();\n        } else if (__element.children()[0] && __element.children().eq(0).is('template')) {\n          __template = __element.children('template').html();\n          __element.empty();\n        } else if (!__element[0].childNodes) {\n          return;\n        } else {\n          if (__element[0] && __element[0].childNodes) {\n            if (!__template) __template = __element.html();\n          }\n          __element.empty();\n        }\n        if (__template) __template = __template.replace(__re, 'src');\n\n        parseView(__template, __variable);\n      } else {\n        __template = __template.replace(__re, 'src');\n        parseView(__template, __variable);\n      }\n    };\n    parsedTemplate = extractTemplate();\n\n    if (__events) {\n      handleEvents(__events);\n    }\n\n    //==============================================\n    // Return closure to encapsulate methods & data:\n    //==============================================\n    var view = {}\n    $.extend(view, {\n\n      render: (data, append) => {\n        if (!__element) return;\n        let __data = data;\n\n        if (__template) {\n          __template = __template.replace(__re, 'src');\n          parsedTemplate = parseView(__template, __variable);\n        } else {\n          return;\n        }\n\n        /////////////////////////////////////////////\n        // Private functions for the render method.\n        // These need access to the returned instance.\n        /////////////////////////////////////////////\n\n        // Uncloaks, checks index and loops data:\n        const renderIterableData = data => {\n          if ($.type(data) === 'boolean') return;\n          const Data = data ? data : __model;\n          __element.removeClass('cloak');\n          if (__element.data('index')) {\n            __index = Number(__element.data('index'));\n            $.view.index = Number(__element.data('index'));\n          } else {\n            __index = 1;\n            $.view.index = 1;\n          }\n          interateModelToTemplate(Data);\n          __renderCount++;\n        };\n\n        // Used by renderIterableData.\n        // Loops over data to render template.\n        // Handles index value as well.\n        const interateModelToTemplate = (Data, append) => {\n          if (!append) {\n            __element.empty();\n          }\n          if (__startIndexFrom) $.view.index = __startIndexFrom;\n          Data.forEach(item => {\n            __index += 1;\n            if (__escapeHTML) {\n              item = $.escapeHTML(item);\n            }\n            if (parsedTemplate) {\n              __element.append(parsedTemplate(item));\n              $.view.index += 1;\n            } else if (__template) {\n\n            }\n          });\n          __lastRenderTime = Date.now();\n          __rendered = true;\n          $.view.index = 1;\n        };\n        /* jshint ignore:start */\n        // Render view with object of key/value pairs:\n        var renderSingleObjectView = append => {\n          __model.run((m, d) => {\n            if (!append) {\n              __element.empty();\n            }\n            if (__escapeHTML) {\n              d = $.escapeHTML(d);\n            }\n            __element.append(parsedTemplate(d)); // jshint ignore:line\n            __element.removeClass('cloak');\n            __lastRenderTime = Date.now();\n            __rendered = true;\n            __renderCount++;\n          });\n        };\n        /* jshint ignore:end */\n\n        // Biding View to Model if Model provided\n        var bindModelToView = handle => {\n          if (!handle || typeof handle !== 'string') return;\n          if (!$.mediators[handle]) $.mediators[handle] = $.MediatorStack();\n          $.mediators[handle].push({\n            token: $.uuid(),\n            callback: () => {\n              view.render();\n            },\n            exec: true,\n            count: 0,\n            start: 0,\n            after: 0,\n            time: 0\n          });\n          __mediator = $.mediators[handle];\n        };\n\n        // Check extracted template:\n        if (!parsedTemplate && __template && $.type(__template) === 'string') {\n          parsedTemplate = parseView(__template, __variable);\n        }\n\n        // If the user supplied data to render:\n        // If it's an array:\n        if ($.type(data) === 'array') {\n          $.view.index = __startIndexFrom || 1;\n          if (!__canRender) return;\n          if (!append) {\n            __element.empty();\n          }\n          data.forEach(item => {\n            if (__escapeHTML) {\n              item = $.escapeHTML(item);\n            }\n            __element.append(parsedTemplate(item)); // jshint ignore:line\n            $.view.index += 1;\n            __index += 1;\n          });\n          __rendered = true;\n          $.view.index = 0;\n          __element.removeClass('cloak');\n          return;\n\n          // Else if it is an object:\n        } else if ($.type(data) === 'object' || $.type(data) === 'string' || $.type(data) === 'number') {\n          $.view.index = __startIndexFrom || 1;\n          if (!append) {\n            __element.empty();\n          }\n          __element.append(parsedTemplate(data)); // jshint ignore:line\n          __element.removeClass('cloak');\n          __rendered = true;\n          return;\n        }\n\n        // Check if model exists on __model.\n        // Don't rendering view if no model.\n        // (Model should be pokable)\n        //=================================\n        if (__model && Object.keys(__model).indexOf('poke') > -1) {\n          if (!__canRender) {\n            // Check to see if view can restart\n            // after set time:\n            if (__restartTime > 0) {\n              if (__restartTime < Date.now()) {\n                __canRender = true;\n                __restartTime = 0;\n                bindModelToView(__model.getHandle());\n              } else {\n                return;\n              }\n            } else {\n              return;\n            }\n          }\n\n          // If view was stoped with render limit,\n          // check if set to stop after x times:\n          if (__stopAfter > 0) {\n\n            // If the limit not reached, render:\n            if (__startFrom < __stopAfter) {\n              __startFrom++;\n              bindModelToView(__model.getHandle());\n\n              // If designated count reached, stop rendering:\n            } else if (__startFrom >= __stopAfter) {\n              __canRender = false;\n              __startFrom = 0;\n              __stopAfter = 0;\n            }\n\n            // Otherwise just render the view:\n          } else {\n            if (__canRender) {\n              bindModelToView(__model.getHandle());\n            }\n          }\n\n          // If model's data is single object:\n          if (__model.getType() === 'object') {\n            renderSingleObjectView();\n\n            // If model's data is an array:\n          } else if (__model.getType() === 'array' && !data) {\n            renderIterableData(data);\n            $.view.index = 0;\n            __index = 0;\n          }\n        }\n      },\n\n      empty: () => {\n        if (!__element) return;\n        __element.empty();\n      },\n\n      resetIndex: () => {\n        if (!__element) return;\n        __index = 0;\n        __element.data('index', 0);\n        $.view.index = 0;\n      },\n\n      startIndexFrom: number => {\n        if (!__element) return;\n        if (number === 0 || (number && !isNaN(number))) {\n          __startIndexFrom = number;\n          $.view.index = number;\n          view.render();\n        }\n      },\n\n      getTemplate: () => {\n        return __template;\n      },\n\n      setTemplate: template => {\n        if (!template) return;\n        __template = template;\n      },\n\n      getModel: () => {\n        return __model;\n      },\n\n      setModel: model => {\n        if (!model || model === __model) return;\n        __model = model;\n        if (__model.size()) {\n          view.render();\n        }\n        if (__isBoundTo) {\n          view.unbind();\n          view.bindToModel(model);\n        }\n      },\n\n      getMediator: () => {\n        return __mediator.getData()[0];\n      },\n\n      isRendered: () => {\n        return __rendered;\n      },\n\n      isEmpty: () => {\n        if (!__element) return;\n        if (typeof jQuery === 'undefined' && __element.objectType && __element.objectType === 'domstack') {\n          if (__element.array[0].children.length) return false;\n        } else if (__element[0].children.length) {\n          return false;\n        } else {\n          return true;\n        }\n      },\n\n      bind: model => {\n        if (!model) return;\n        var mediator = $.Mediator(model.getHandle());\n        __mediator = mediator;\n        var __v = this;\n        __model = model;\n        mediator.run(data => {\n          if (!__element) return;\n          __v.render();\n        });\n        if (!__element) return;\n        view.render();\n      },\n\n      unbind: () => {\n        __model = undefined;\n      },\n\n      addEvent: (events, replace) => {\n        if (replace) {\n          __events = events & events.length ? events : [events];\n        } else {\n          if (events && events.length) {\n            events.forEach(event => {\n              __events.push(event)\n            });\n          } else if (events) {\n            __events.push(events);\n          }\n        }\n        handleEvents();\n      },\n\n      /*\n        options: event, element (for a delegated event), callback\n      */\n      off: (event, element, callback) => {\n        __element.off(event, element, callback);\n      },\n\n      getElement: () => {\n        return __element;\n      },\n\n      setElement: element => {\n        if (!element) return;\n        __element = $(element);\n        $(element).empty();\n        handleEvents();\n      },\n\n      stop: after => {\n        // Stop after x number of times:\n        if (!isNaN(after)) {\n          __stopAfter = after;\n          __startFrom = 0;\n\n          // Else stop immediately:\n        } else {\n          __canRender = false;\n        }\n      },\n\n      isStopped: () => {\n        return !__canRender;\n      },\n\n      restart: time => {\n        // Restart after designated time:\n        if (!isNaN(time)) {\n          __restartTime = (Date.now() + (time * 1000));\n          __canRender = false;\n\n          // Else restart immediately:\n        } else {\n          __canRender = true;\n          view.render();\n        }\n      },\n\n      getRestartTime: () => {\n        return __restartTime;\n      },\n\n      renderViewAfter: (time, data) => {\n        if (!time || isNaN(time) || time <= 0) return;\n        var view = this;\n        setTimeout(() => {\n          view.render(data);\n        }, time * 1000);\n      },\n\n      renderViewEvery: (time, callback) => {\n        if (!time || isNaN(time)) return;\n        if (Object.keys(__model).indexOf('poke') > -1) {\n\n          // if the user set loop to stop:\n          __renderViewEveryTime = true;\n          var view = this;\n\n          // Define loop for rendering view:\n          var loop = (view, callback) => {\n            if (!__renderViewEveryTime) return;\n\n            // Use setTimeout to loop:\n            setTimeout(() => {\n              // If the model changed since last render:\n              if (__lastRenderTime < __model.getLastModTime()) {\n\n                if (callback && $.type(callback) === 'function') {\n                  callback.apply(view);\n                }\n                view.render();\n              }\n\n              loop(this, callback);\n            }.bind(view), time * 1000);\n          };\n          loop(view, callback);\n        }\n      },\n\n      // set flag to stop renderViewEvery:\n      stopRenderViewEvery: () => {\n        __renderViewEveryTime = false;\n      },\n\n      getLastRenderTime: () => {\n        return __lastRenderTime;\n      },\n\n      escapeHTML: boolean => {\n        if (boolean) {\n          __escapeHTML = true;\n        }\n      },\n\n      isEscapingHTML: () => {\n        return __escapeHTML;\n      },\n\n      getRenderCount: () => {\n        return __renderCount;\n      }\n    });\n    return view;\n  }\n});","// Truck Module - Component:\nimport '../truck';\nimport './view';\n\n$.extend({\n  Component: options => {\n    var comp = $.Component;\n    $[options.name] = () => {\n      comp.options = options;\n      delete comp.options.name\n      return $.View(comp.options);\n    };\n  }\n});","// Truck Module - Environment:\nimport '../truck';\n\n$.extend({\nisiPhone: /iphone/img.test(navigator.userAgent),\n\nisiPad: /ipad/img.test(navigator.userAgent),\n\nisiPod: /ipod/img.test(navigator.userAgent),\n\nisiOS: /ip(hone|od|ad)/img.test(navigator.userAgent),\n\nisAndroid: (/android/img.test(navigator.userAgent) && !/trident/img.test(navigator.userAgent)),\n\nisBlackberry: /blackberry/img.test(navigator.userAgent),\n\nisTouchEnabled: !/trident/img.test(navigator.userAgent) && !/edge/img.test(navigator.userAgent) && 'createTouch' in document,\n\nisOnline: navigator.onLine,\n\nisStandalone: navigator.standalone,\n\nisWin: /edge/img.test(navigator.userAgent) || /trident/img.test(navigator.userAgent),\n\nisIE10: /msie 10/img.test(navigator.userAgent),\n\nisIE11: (/windows nt/img.test(navigator.userAgent) && /trident/img.test(navigator.userAgent)),\n\nisWebkit: (!/trident/img.test(navigator.userAgent) && !/edge/img.test(navigator.userAgent) && /webkit/img.test(navigator.userAgent)),\n\nisDesktop: (!/mobile/img.test(navigator.userAgent)),\n\nisSafari: (!/edge/img.test(navigator.userAgent) && !/Chrome/img.test(navigator.userAgent) && /Safari/img.test(navigator.userAgent) && !/android/img.test(navigator.userAgent)),\n\nisChrome: !/trident/img.test(navigator.userAgent) && !/edge/img.test(navigator.userAgent) && /Chrome/img.test(navigator.userAgent) && !((/samsung/img.test(navigator.userAgent) || /Galaxy Nexus/img.test(navigator.userAgent) || /HTC/img.test(navigator.userAgent) || /LG/img.test(navigator.userAgent)) && !/trident/img.test(navigator.userAgent) && !/edge/img.test(navigator.userAgent) && /android/i.test(navigator.userAgent) && /webkit/i.test(navigator.userAgent)),\n\nisNativeAndroid: ((/samsung/img.test(navigator.userAgent) || /Galaxy Nexus/img.test(navigator.userAgent) || /HTC/img.test(navigator.userAgent) || /LG/img.test(navigator.userAgent)) && !/trident/img.test(navigator.userAgent) && !/edge/img.test(navigator.userAgent) && /android/i.test(navigator.userAgent) && /webkit/i.test(navigator.userAgent))\n});","/* */ \nvar toIObject = require('./$.to-iobject'),\n    getNames = require('./$').getNames,\n    toString = {}.toString;\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];\nvar getWindowNames = function(it) {\n  try {\n    return getNames(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\nmodule.exports.get = function getOwnPropertyNames(it) {\n  if (windowNames && toString.call(it) == '[object Window]')\n    return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n","/* */ \nrequire('./$.object-sap')('getOwnPropertyNames', function() {\n  return require('./$.get-names').get;\n});\n","/* */ \nvar $ = require('../../modules/$');\nrequire('../../modules/es6.object.get-own-property-names');\nmodule.exports = function getOwnPropertyNames(it) {\n  return $.getNames(it);\n};\n","/* */ \nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-names\"), __esModule: true };","// Truck Module - Promises:\nimport '../truck';\n\nexport default (function() {\n  //==================================\n  // Define polyfill for ES6 Promises:\n  //==================================\n  /*jshint validthis:true */\n  let extend;\n  let cycle;\n  let queue;\n  extend = function(obj, name, val, config) {\n    return Object.defineProperty(obj, name, {\n      value: val,\n      writable: true,\n      configurable: config !== false\n    });\n  };\n  queue = (function() {\n    let first, last, item;\n    function Item(func, self) {\n      this.func = func;\n      this.self = self;\n      this.next = undefined;\n    }\n    return {\n      add: function(func, self) {\n        item = new Item(func, self);\n        if (last) {\n          last.next = item;\n        } else {\n          first = item;\n        }\n        last = item;\n        item = undefined;\n      },\n      unshift: function() {\n        let f = first;\n        first = last = cycle = undefined;\n        while (f) {\n          f.func.call(f.self);\n          f = f.next;\n        }\n      }\n    };\n  })();\n  function schedule(func, self) {\n    queue.add(func, self);\n    if (!cycle) {\n      cycle = setTimeout(queue.unshift);\n    }\n  }\n  // Check that Promise is thenable:\n  function isThenable(obj) {\n    let _then, obj_type = typeof obj;\n    if (obj !== null &&\n      (obj_type === \"object\" || obj_type === \"function\")) {\n      _then = obj.then;\n    }\n    return typeof _then === \"function\" ? _then : false;\n  }\n  function notify() {\n    for (let i = 0; i < this.chain.length; i++) {\n      notifyIsolated(this, (this.state === 1) ? this.chain[i].success : this.chain[i].failure, this.chain[i]);\n    }\n    this.chain.length = 0;\n  }\n  function notifyIsolated(self, callback, chain) {\n    let ret, _then;\n    try {\n      if (callback === false) {\n        chain.reject(self.msg);\n      } else {\n        if (callback === true) {\n          ret = self.msg;\n        } else {\n          ret = callback.call(undefined, self.msg);\n        }\n        if (ret === chain.promise) {\n          chain.reject(new TypeError(\"Promise-chain cycle\"));\n        } else if (_then = isThenable(ret)) { // jshint ignore:line\n          _then.call(ret, chain.resolve, chain.reject);\n        } else {\n          chain.resolve(ret);\n        }\n      }\n    } catch (err) {\n      chain.reject(err);\n    }\n  }\n  function resolve(msg) {\n    let _then, deferred;\n    let self = this;\n    if (self.triggered) {\n      return;\n    }\n    self.triggered = true;\n    if (self.deferred) {\n      self = self.deferred;\n    }\n    try {\n      if (_then = isThenable(msg)) {  // jshint ignore:line\n        schedule(function() {\n          const deferred_wrapper = new MakeDeferred(self);\n          try {\n            _then.call(msg, function() { resolve.apply(deferred_wrapper, arguments); }, function() { reject.apply(deferred_wrapper, arguments); });\n          } catch (err) {\n            reject.call(deferred_wrapper, err);\n          }\n        });\n      } else {\n        self.msg = msg;\n        self.state = 1;\n        if (self.chain.length > 0) {\n          schedule(notify, self);\n        }\n      }\n    } catch (err) {\n      reject.call(new MakeDeferred(self), err);\n    }\n  }\n  function reject(msg) {\n    let self = this;\n    if (self.triggered) {\n      return;\n    }\n    self.triggered = true;\n    if (self.deferred) {\n      self = self.deferred;\n    }\n    self.msg = msg;\n    self.state = 2;\n    if (self.chain.length > 0) {\n      schedule(notify, self);\n    }\n  }\n  function iteratePromises(Constructor, arr, resolver, rejecter) {\n    for (let idx = 0; idx < arr.length; idx++) {\n      (function IIFE(idx) {\n        Constructor.resolve(arr[idx])\n          .then(function(msg) {\n          resolver(idx, msg);\n        }, rejecter);\n      })(idx);\n    }\n  }\n  function MakeDeferred(self) {\n    this.deferred = self;\n    this.triggered = false;\n  }\n  function Deferred(self) {\n    this.promise = self;\n    this.state = 0;\n    this.triggered = false;\n    this.chain = [];\n    this.msg = undefined;\n  }\n  function Promise(executor) {\n    if (typeof executor !== \"function\") {\n      throw new TypeError(\"Not a function\");\n    }\n    if (this.isValidPromise !== 0) {\n      throw new TypeError(\"Not a promise\");\n    }\n    // Indicate the Promise is initialized:\n    this.isValidPromise = 1;\n    let deferred = new Deferred(this);\n    this.then = function(success, failure) {\n      let obj = {\n        success: typeof success === \"function\" ? success : true,\n        failure: typeof failure === \"function\" ? failure : false\n      };\n      // `.then()` can be used against a different promise\n      // constructor for making a chained promise.\n      obj.promise = new this.constructor(function extractChain(resolve, reject) {\n        if (typeof resolve !== \"function\" || typeof reject !== \"function\") {\n          throw new TypeError(\"Not a function\");\n        }\n        obj.resolve = resolve;\n        obj.reject = reject;\n      });\n      deferred.chain.push(obj);\n      if (deferred.state !== 0) {\n        schedule(notify, deferred);\n      }\n      return obj.promise;\n    };\n    this.catch = function(failure) {\n      return this.then(undefined, failure);\n    };\n    try {\n      executor.call(undefined, function(msg) {\n        resolve.call(deferred, msg);\n      }, function(msg) {\n        reject.call(deferred, msg);\n      });\n    } catch (err) {\n      reject.call(deferred, err);\n    }\n  }\n  const PromisePrototype = extend({}, \"constructor\", Promise, false);\n  extend(Promise, \"prototype\", PromisePrototype, false);\n\n  // Check if Promise is initialized:\n  extend(PromisePrototype, \"isValidPromise\", 0, false);\n  extend(Promise, \"resolve\", function(msg) {\n    const Constructor = this;\n\n    // Make sure it is a valide Promise:\n    if (msg && typeof msg === \"object\" && msg.isValidPromise === 1) {\n      return msg;\n    }\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve !== \"function\" || typeof reject !== \"function\") {\n        throw new TypeError(\"Not a function\");\n      }\n      resolve(msg);\n    });\n  });\n  extend(Promise, \"reject\", function(msg) {\n    return new this(function executor(resolve, reject) {\n      if (typeof resolve !== \"function\" || typeof reject !== \"function\") {\n        throw new TypeError(\"Not a function\");\n      }\n      reject(msg);\n    });\n  });\n  extend(Promise, \"all\", function(arr) {\n    const Constructor = this;\n\n    // Make sure argument is an array:\n    if (Object.prototype.toString.call(arr) !== \"[object Array]\") {\n      return Constructor.reject(new TypeError(\"Not an array\"));\n    }\n    if (arr.length === 0) {\n      return Constructor.resolve([]);\n    }\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve !== \"function\" || typeof reject !== \"function\") {\n        throw new TypeError(\"Not a function\");\n      }\n      const len = arr.length;\n      let msgs = new Array(len);\n      let count = 0;\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        msgs[idx] = msg;\n        if (++count === len) {\n          resolve(msgs);\n        }\n      }, reject);\n    });\n  });\n  extend(Promise, \"race\", function(arr) {\n    const Constructor = this;\n\n    // Make sure argument is an array:\n    if (Object.prototype.toString.call(arr) !== \"[object Array]\") {\n      return Constructor.reject(new TypeError(\"Not an array\"));\n    }\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve !== \"function\" || typeof reject !== \"function\") {\n        throw new TypeError(\"Not a function\");\n      }\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        resolve(msg);\n      }, reject);\n    });\n  });\n\n  // If native Promise exists in window, do not use this.\n  if (\"Promise\" in window && \"resolve\" in window.Promise && \"reject\" in window.Promise && \"all\" in window.Promise && \"race\" in window.Promise) {\n    return;\n  } else {\n\n    // Otherwise do use this:\n    return window.Promise = Promise;\n  }\n})();","// Truck Module - Fetch:\nimport '../truck';\nimport './promises';\n\nexport default (function() {\n\n  /**\n   *\n   * JSONP with API like fetch.\n   */\n  $.extend({\n    // Container for jsonp methods:\n    JSONPCallbacks: [],\n    // JSONP method:\n    jsonp: function(url, opts) {\n      var settings = {\n        timeout: 2000,\n        callbackName: 'callback',\n        clear: true\n      };\n      if (opts) {\n        $.extend(settings, opts);\n      }\n      // Method to create callback:\n      function generateCallbackName() {\n        var base = 'callback';\n        var callbackName = settings.callbackName + '_' + ($.JSONPCallbacks.length + 1);\n        $.JSONPCallbacks.push(callbackName);\n        return callbackName;\n      }\n      var callbackName = generateCallbackName();\n      // Create and return Promise with result from request:\n      return new Promise(function(resolve, reject) {\n        var timeout;\n        window.jsonp = window.jsonp || {};\n        window.jsonp[callbackName] = function(response) {\n          resolve({\n            ok: true,\n            json: function() {\n              return Promise.resolve(response);\n            }\n          });\n          if (timeout) {\n            clearTimeout(timeout);\n          }\n        };\n        // Create script tag:\n        var script = document.createElement('script');\n        script.async = true;\n        script.defer = true;\n        script.src = url + (url.indexOf('?') > -1 ? '&' : '?') + 'callback=jsonp.' + callbackName;\n        document.body.appendChild(script);\n        // Delete script tag:\n        setTimeout(function() {\n          script.parentNode.removeChild(script);\n        });\n        // Clear JSONP methods from window:\n        if (settings.clear) {\n          var pos = $.JSONPCallbacks.indexOf(callbackName);\n          $.JSONPCallbacks.splice(pos, 1);\n        }\n        // Handle timeout:\n        timeout = setTimeout(function() {\n          reject(new Error('JSONP request to ' + url + ' timed out'));\n        }, settings.timeout);\n      });\n    },\n    // Helper function for fetch Promises.\n    // Returns the respons as parsed JSON.\n    // Usage: .then($.json)\n    json: function(response) {\n      return response.json();\n    }\n  });\n  if (window && window.fetch) {\n    return;\n  }\n  var self = window;\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name');\n    }\n    return name.toLowerCase();\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value;\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var list = this.map[name];\n    if (!list) {\n      list = [];\n      this.map[name] = list;\n    }\n    list.push(value);\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)];\n    return values ? values[0] : null;\n  };\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || [];\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name));\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)];\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this);\n      }, this);\n    }, this);\n  };\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'));\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    });\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    reader.readAsArrayBuffer(blob);\n    return fileReaderReady(reader);\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    reader.readAsText(blob);\n    return fileReaderReady(reader);\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true;\n      } catch(e) {\n        return false;\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function Body() {\n    this.bodyUsed = false;\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (!body) {\n        this._bodyText = '';\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type');\n      }\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected;\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob);\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob');\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]));\n        }\n      };\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer);\n      };\n\n      this.text = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected;\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob);\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text');\n        } else {\n          return Promise.resolve(this._bodyText);\n        }\n      };\n    } else {\n      this.text = function() {\n        var rejected = consumed(this);\n        return rejected ? rejected : Promise.resolve(this._bodyText);\n      };\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode);\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse);\n    };\n\n    return this;\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return (methods.indexOf(upcased) > -1) ? upcased : method;\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read');\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      if (!body) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = input;\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests');\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this);\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=');\n        var name = split.shift().replace(/\\+/g, ' ');\n        var value = split.join('=').replace(/\\+/g, ' ');\n        form.append(decodeURIComponent(name), decodeURIComponent(value));\n      }\n    });\n    return form;\n  }\n\n  function headers(xhr) {\n    var head = new Headers();\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n');\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':');\n      var key = split.shift().trim();\n      var value = split.join(':').trim();\n      head.append(key, value);\n    });\n    return head;\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = options.statusText;\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    });\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response;\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code');\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request;\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input;\n      } else {\n        request = new Request(input, init);\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL;\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL');\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    });\n  };\n  self.fetch.polyfill = true;\n})();","/* */ \nvar $ = require('../../modules/$');\nmodule.exports = function create(P, D) {\n  return $.create(P, D);\n};\n","/* */ \nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","// Truck Module - OOP:\nimport '../truck';\n\n$.extend({\n\n  // Mixin one object into another:\n  //===============================\n  mixin: (sourceObj, targetObj) => {\n    for (let key in sourceObj) {\n      // Do not replace property if it exists:\n      if (!(key in targetObj)) {\n          targetObj[key] = sourceObj[key];\n      }\n    }\n    return targetObj;\n  },\n\n  // Create a clone of an object.\n  // This preserves the protytpe chain \n  // to the original:\n  //==================================\n  clone: obj => {\n    if (typeof Object.create != 'function') {\n      Object.create = (() =>{\n        function Temp() {}\n        const hasOwn = Object.prototype.hasOwnProperty;\n\n        return O => {\n          if (typeof O != 'object') {\n            throw TypeError('Object prototype may only be an Object or null');\n          }\n          Temp.prototype = O;\n          let obj = new Temp();\n          Temp.prototype = null;\n          if (arguments.length > 1) {\n            const Properties = Object(arguments[1]);\n            for (var prop in Properties) {\n              if (hasOwn.call(Properties, prop)) {\n                obj[prop] = Properties[prop];\n              }\n            }\n          }\n          return obj;\n        };\n      })();\n    }\n    return Object.create(obj);\n  }\n});","// Truck Module - Validators:\nimport '../truck';\n\n// Set validity state of form elements:\nconst setValidityStatus = (element, valid) => {\n  if (valid) {\n    $(element).prop('valid', true);\n    $(element).prop('invalid', false);\n    $(element).addClass('valid').removeClass('invalid');\n  } else {\n    $(element).prop('valid', false);\n    $(element).prop('invalid', true);\n    $(element).addClass('invalid').removeClass('valid');\n  }\n};\n\n// Used to check input validity:\nconst checkValidity = (element, expression) => {\n  if (expression) {\n    setValidityStatus(element, true);\n  } else {\n    setValidityStatus(element, false);\n  }\n  return expression;\n};\n\n$.fn.extend({\n  isNotEmpty: function(ctx) {\n    if (this[0].nodeName !== 'INPUT') return;\n    return checkValidity(this, this[0].nodeName === 'INPUT' && this[0].value);\n  },\n\n  validateAlphabetic: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    const letters = /^[A-Za-z]+$/;\n    const value = this[0].nodeName === 'INPUT' && this[0].value;\n    checkValidity(this, value.match(letters));\n    if (value) {\n      return checkValidity(this, value.match(letters));\n    }\n  },\n\n  validateText: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    const letters = /^[A-Za-z\\W]+$/;\n    const value = this[0].nodeName === 'INPUT' && this[0].value;\n    checkValidity(this, value.match(letters));\n    if (value) {\n      return checkValidity(this, value.match(letters));\n    }\n  },\n\n  validateNumber: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    const numbers = /^[+-]?\\d+(\\.\\d+)?$/;\n    const value = this[0].nodeName === 'INPUT' && this[0].value;\n    checkValidity(this, value.match(numbers));\n    if (value) {\n      return checkValidity(this, value.match(numbers));\n    }\n  },\n\n  validateAlphaNumeric: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    const letters = /^[0-9a-zA-Z]+$/;\n    const value = this[0].nodeName === 'INPUT' && this[0].value;\n    checkValidity(this, value.match(letters));\n    if (value) {\n      return checkValidity(this, value.match(letters));\n    }\n  },\n\n  validateUserName: function(minimum) {\n    if (this[0].nodeName !== 'INPUT') return;\n    const letters = /^[a-zA-Z0-9]+$/;\n    const username = this[0].value;\n    if (!username) return checkValidity(this, username);\n    if (minimum && username.match(letters)) {\n      if (username.length >= minimum) {\n        return checkValidity(this, username);\n      } else {\n        return checkValidity(this, false);\n      }\n    } else {\n      return checkValidity(this, checkValidity(this, username.match(letters)));\n    }\n  },\n\n  validateEmail: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    const value = this[0].value;\n    const email = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (value) {\n      return checkValidity(this, value.match(email));\n    } else {\n      return checkValidity(this, false);\n    }\n  },\n\n  validatePhoneNumber: function(int) {\n    if (this[0].nodeName !== 'INPUT') return;\n    let phone;\n    let phoneNumber;\n    const convertLettersToNumbers = value => {\n      let phonenumber = \"\";\n      value = value.toLowerCase();\n      const len = value.length;\n      for (let i = 0; i < len; i++) {\n        let character = value.charAt(i);\n        switch (character) {\n          case '0':\n            phonenumber += \"0\";\n            break;\n          case '1':\n            phonenumber += \"1\";\n            break;\n          case '2':\n            phonenumber += \"2\";\n            break;\n          case '3':\n            phonenumber += \"3\";\n            break;\n          case '4':\n            phonenumber += \"4\";\n            break;\n          case '5':\n            phonenumber += \"5\";\n            break;\n          case '6':\n            phonenumber += \"6\";\n            break;\n          case '7':\n            phonenumber += \"7\";\n            break;\n          case '8':\n            phonenumber += \"8\";\n            break;\n          case '9':\n            phonenumber += \"9\";\n            break;\n          case '-':\n            phonenumber += \"-\";\n            break;\n          case 'a':\n          case 'b':\n          case 'c':\n            phonenumber += \"2\";\n            break;\n          case 'd':\n          case 'e':\n          case 'f':\n            phonenumber += \"3\";\n            break;\n          case 'g':\n          case 'h':\n          case 'i':\n            phonenumber += \"4\";\n            break;\n          case 'j':\n          case 'k':\n          case 'l':\n            phonenumber += \"5\";\n            break;\n          case 'm':\n          case 'n':\n          case 'o':\n            phonenumber += \"6\";\n            break;\n          case 'p':\n          case 'q':\n          case 'r':\n          case 's':\n            phonenumber += \"7\";\n            break;\n          case 't':\n          case 'u':\n          case 'v':\n            phonenumber += \"8\";\n            break;\n          case 'w':\n          case 'x':\n          case 'y':\n          case 'z':\n            phonenumber += \"9\";\n            break;\n        }\n      }\n      return phonenumber;\n    };\n    if (this[0].value) {\n\n      // International Numbers:\n      if (int) {\n        phoneNumber = this[0].value.replace(/[\\(\\)\\.\\-\\ ]/g, '');\n        return checkValidity(this, this.isNotEmpty() && !isNaN(phoneNumber));\n\n        // North America (US and Canada):\n      } else {\n        phoneNumber = this[0].value.replace(/[\\(\\)\\.\\-\\ ]/g, '');\n        phoneNumber = convertLettersToNumbers(phoneNumber);\n        phone = /((\\(\\d{3}\\)?)|(\\d{3}))([\\s-./]?)(\\d{3})([\\s-./]?)(\\d{4})/;\n        return checkValidity(this, phoneNumber.match(phone));\n      }\n    } else {\n      return checkValidity(this, false);\n    }\n  },\n\n  validateUrl: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    if (this[0].value) {\n      const url = /^(ftp|http|https):\\/\\/([w]{3}\\.)?(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/;\n      return checkValidity(this, this[0].value.match(url));\n    } else {\n      return checkValidity(this, false);\n    }\n  },\n\n  validateAge: function(minimum) {\n    if (this[0].nodeName !== 'INPUT') return;\n    if (!minimum) return;\n    const age = this[0].value;\n    if (age) {\n      return checkValidity(this, age >= minimum);\n    } else {\n      return checkValidity(this, false);\n    }\n  },\n\n  validateCheckbox: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    if (this[0].nodeName === 'INPUT' && this[0].type === 'checkbox') {\n      return checkValidity(this, this[0].checked === true);\n    }\n  },\n\n  validateRadioButtons: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    let choice = false;\n    if (this[0].nodeName === 'INPUT' && this[0].type === 'radio') {\n      $.each(this, function(idx, button) {\n        if (button.checked === true) {\n          choice = true;\n        }\n      });\n      return checkValidity(this, choice);\n    }\n  },\n\n  validateSelectBox: function() {\n    if (this[0].nodeName === 'SELECT') {\n      return checkValidity(this, this[0].selectedIndex);\n    } else {\n      return;\n    }\n  },\n\n  validateSwitch: function() {\n    const checkbox = this.find('input[type=checkbox]')[0];\n    if (checkbox.checked) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  validateSelectList: function() {\n    const radio = this.find('input[type=radio]');\n    if (radio.iz('[checked]')[0]) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n  validateMultiSelectList: function() {\n    const checkboxes = this.find('input[type=checkbox]');\n    let checked = false;\n    checkboxes.forEach(function(item) {\n      if ($(item).prop('checked')) {\n        checked = true;\n      }\n    });\n    if (checked) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n});\n\n$.extend({\n  validatePassword: function(input1, input2, minimum) {\n    if (minimum && $(input1).val().length < minimum || $(input2).val().length < minimum) {\n      $(input1).addClass('invalid').removeClass('valid');\n      $(input2).addClass('invalid').removeClass('valid');\n      return false;\n    } else {\n      const letters = /^(?=.*[a-zA-Z])(?=.*[0-9]).+$/;\n      if (!letters.test($(input1).val()) && !letters.test($(input2).val())) return false;\n      if ($(input1).val() === $(input2).val()) {\n        $(input1).removeClass('invalid').addClass('valid');\n        $(input2).removeClass('invalid').addClass('valid');\n      } else {\n        $(input1).addClass('invalid').removeClass('valid');\n        $(input2).addClass('invalid').removeClass('valid');\n      }\n      return $(input1).val() === $(input2).val();\n    }\n  },\n\n  validateWithRegex: function(input, regex) {\n    if (!regex) {\n      console.error('This method requires a regular expression.');\n      return;\n    }\n    const value = $(input).val();\n    if (value) {\n      return checkValidity(input, value.match(regex));\n    }\n  },\n\n  customValidators: [],\n\n  registerCustomValidator: function(name, regex) {\n    this.customValidators.push({name: name, regex: regex});\n  }\n});","// Truck Module - Form Validation & JSON:\nimport '../truck';\nimport './validators';\n\n$.extend({\n  //===========================================\n  // Setup Form object to convert data to JSON,\n  // and to validate form values:\n  //===========================================\n  Form: options => {\n    if (!options || $.type(options) !== 'array') return;\n\n    let __passed = false;\n    let __errors = [];\n    let __result = [];\n\n    // Helper to validate form elements:\n    //==================================\n    function validateElement(item) {\n      if (!item) return;\n      console.dir(item)\n      if (!__passed) {\n        __errors.push({\n          element: item.element,\n          type: item.type\n        });\n        if (item.callback) item.callback();\n      } else {\n        convertToObject($(item.element).attr('name'), $(item.element).val());\n      }\n    }\n\n    // Helper to convert form element names to JSON:\n    //==============================================\n    function convertToObject(name, value) {\n      __result.push({\n        name: name,\n        value: value\n      });\n    }\n\n    // Convert form names and values to JSON:\n    //=======================================\n    function convertObjectToJSON(data) {\n      const delimiter = '_';\n      let result = {};\n      let arrays = {};\n      data.forEach(item => {\n        const value = item.value;\n        if (value !== '') {\n          let name = item.name;\n          let nameParts = name.split(delimiter);\n          let currResult = result;\n          for (let j = 0; j < nameParts.length; j++) {\n            const namePart = nameParts[j];\n            let arrName;\n            if (namePart.indexOf('[]') > -1 && j === nameParts.length - 1) {\n\n              arrName = namePart.substr(0, namePart.indexOf('['));\n              if (!currResult[arrName]) {\n                currResult[arrName] = [];\n              }\n              currResult[arrName].push(value);\n            } else {\n              if (namePart.indexOf('[') > -1) {\n                arrName = namePart.substr(0, namePart.indexOf('['));\n                const arrIdx = namePart.replace(/^[a-z]+\\[|\\]$/gi, '');\n                if (!arrays[arrName]) {\n                  arrays[arrName] = {};\n                }\n                if (!currResult[arrName]) {\n                  currResult[arrName] = [];\n                }\n                if (j === nameParts.length - 1) {\n                  currResult[arrName].push(value);\n                } else {\n                  if (!arrays[arrName][arrIdx]) {\n                    currResult[arrName].push({});\n                    arrays[arrName][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\n                  }\n                }\n                currResult = arrays[arrName][arrIdx];\n              } else {\n                if (j < nameParts.length - 1) {\n                  if (!currResult[namePart]) {\n                    currResult[namePart] = {};\n                  }\n                  currResult = currResult[namePart];\n                } else {\n                  currResult[namePart] = value;\n                }\n              }\n            }\n          }\n        }\n      });\n      return result;\n    }\n\n    // Validate form elements:\n    //========================\n    options.forEach(item => {\n      if (!$(item.element)[0]) return;\n      switch (item.type) {\n        case 'notempty':\n          __passed = validateElement(item.element, item.type);\n          __errors.push({\n            element: item.element,\n            type: item.type\n          });\n          return;\n        case 'number':\n          __passed = $(item.element).validateNumber();\n          validateElement(item);\n          return;\n        case 'text':\n          __passed = $(item.element).validateText();\n          validateElement(item);\n          return;\n        case 'alphanumeric':\n          __passed = $(item.element).validateAlphaNumeric();\n          validateElement(item);\n          return;\n        case 'username':\n          __passed = $(item.element).validateUserName(item.min);\n          validateElement(item);\n          // minimum length\n          return;\n        case 'email':\n          __passed = $(item.element).validateEmail();\n          validateElement(item);\n          return;\n        case 'phone':\n          __passed = $(item.element).validatePhoneNumber();\n          validateElement(item);\n          return;\n        case 'url':\n          __passed = $(item.element).validateUrl();\n          validateElement(item);\n          return;\n        case 'age':\n          __passed = $(item.element).validateAge(item.min);\n          validateElement(item);\n          // minimum length\n          return;\n        case 'checkbox':\n          __passed = $(item.element).validateCheckbox();\n          if (__passed) {\n            // var checkbox = $(item.element)[0];\n            validateElement(item);\n          }\n          return;\n        case 'radio':\n          __passed = $(item.element).validateRadioButtons();\n          validateElement(item);\n          return;\n        case 'selectbox':\n          __passed = $(item.element).validateSelectBox();\n          validateElement(item);\n          return;\n        case 'password':\n          __passed = $.validatePassword(item.element, item.element2, item.min);\n          __errors.push({\n            element: item.element,\n            element2: item.element2,\n            type: item.type\n          });\n          // input1, input2, minimum length\n          return;\n        case 'switch':\n          __passed = $(item.element).validateSwitch();\n          if (__passed) {\n            validateElement(item);\n          }\n          return;\n        case 'selectlist':\n          __passed = $(item.element).validateSelectList();\n          if (__passed) {\n            validateElement(item);\n          }\n        case 'multiselectlist':\n          __passed = $(item.element).validateMultiSelectList();\n          var inputs;\n          if (__passed) {\n            inputs = $(item.element).find('input[type=checkbox]');\n            inputs.forEach(item => {\n              if (item.checked) {\n                convertToObject(item.name, item.value);\n              }\n            });\n          }\n      }\n      if (item.type.match(/custom/)) { \n        const cv = $.customValidators.filter(validator => {\n          return (validator.name) === item.type;\n        });\n        if (cv) {\n          const result = $.validateWithRegex(item.element, cv[0].regex);\n          if (result) {\n            const el = $(item.element);\n            convertToObject(el[0].name, el[0].value);\n          } else {\n            __errors.push({\n              element: item.element,\n              type: item.type\n            });\n            if (item.callback) item.callback();\n          }\n        }\n      }\n    });\n\n\n\n    return {\n      getErrors: () => {\n        if (__errors.length) {\n          return __errors;\n        }\n      },\n\n      errors: () => {\n        if (__errors.length) {\n          return true;\n        }\n      },\n\n      get: () => {\n        // console.log(__result)\n        return convertObjectToJSON(__result);\n      }\n    };\n  }\n});","// Truck Module - Formatters:\nimport '../truck';\n\n$.extend({\n  //==============================\n  // Format Numbers for Thousands:\n  //==============================\n  formatNumber: function(amount, separator, decimal) {\n    const sep = separator || \",\";\n    // Allow the user to round a float to a whole number:\n    if (decimal === 0) {\n      const num = Math.round(amount);\n      return Number(num).toString().replace(/(?=(?:\\d{3})+$)(?!^)/g, sep);\n    }\n    if (decimal === undefined) {\n      // Check if amount is a float:\n      if (typeof amount === 'number' && amount % 1 !== 0) {\n        return Number(amount).toString().replace(/\\d(?=(\\d{3})+\\.)/g, '$&' + sep);\n        // Otherwise treat it as an integer:\n      } else {\n        return Number(amount).toString().replace(/(?=(?:\\d{3})+$)(?!^)/g, sep);\n      }\n      // If a decimal value was provided,\n      // format it to that amount:\n    } else {\n      return Number(amount).toFixed(decimal).replace(/\\d(?=(\\d{3})+\\.)/g, '$&' + sep);\n    }\n  },\n\n  //=======================\n  // Return sum of numbers:\n  //=======================\n  sum: function(arr) {\n    let ret;\n    if (Array.isArray(arr) && arr.length) {\n      ret = arr;\n    } else {\n      ret = [].slice.apply(arguments);\n    }\n    return ret.reduce(function(a, b) {\n      return a + b;\n    });\n  },\n\n  //=================\n  // Format currency:\n  //=================\n  currency: function(amount, symbol, separator, decimal) {\n    const sym = symbol || \"$\";\n    const sep = separator || \",\";\n    const dec = decimal || 2;\n    let zero = false;\n    if (decimal === 0) {\n      zero = true;\n    }\n    // Private function to format amounts:\n    const formatNumber = function(amount, sep) {\n      // A decimal value of '0' means\n      // we need to round the amount off\n      // before adding in thousands separators:\n      if (zero) {\n        const num = Math.round(amount);\n        return Number(num).toString().replace(/^0+/, '').replace(/(?=(?:\\d{3})+$)(?!^)/g, sep);\n      } else {\n        // Otherwise, we can just add the thousands\n        // separators with the decimal placement\n        // provided by the user or the default:\n        return Number(amount).toFixed(dec).replace(/^0+/, '').replace(/\\d(?=(\\d{3})+\\.)/g, '$&' + sep);\n      }\n    };\n    return sym + formatNumber(amount, sep);\n  },\n\n  //=============\n  // Format Time:\n  //=============\n  formatTime: function(time) {\n    const temp = time.split(':');\n    const temp2 = temp[0] + ':' + temp[1];\n    const ampm = time.split(' ')[1];\n    return temp2 + ' ' + ampm;\n  },\n\n  sortDate: function(date1, date2) {\n    return new Date(date1) - new Date(date2);\n  },\n\n  //==============\n  // Sort Numbers:\n  //==============\n  sortNumbers: function(a, b) {\n    return a - b;\n  },\n\n  sortNumbersDescending: function(a, b) {\n    return b - a;\n  }\n});","// Truck Module - Animation:\nimport '../truck';\n\n$(function() {\n  function transformProperty() {\n    const styles = [\n      'webkitTransform',\n      'MozTransform',\n      'msTransform',\n      'transform'\n    ];\n\n    let el = document.createElement('p');\n    let style;\n    let ret;\n    for (let i = 0; i < styles.length; i++) {\n      style = styles[i];\n      if (null !== el.style[style]) {\n        ret = style;\n        break;\n      }\n    }\n    return ret;\n  }\n\n  function hasTranslate3d() {\n    const prop = transformProperty();\n    const map = {\n      webkitTransform: '-webkit-transform',\n      msTransform: '-ms-transform',\n      MozTransform: '-moz-transform',\n      transform: 'transform'\n    };\n\n    let el = document.createElement('div');\n    el.style[prop] = 'translate3d(1px,1px,1px)';\n    document.body.insertBefore(el, null);\n    const val = getComputedStyle(el).getPropertyValue(map[prop]);\n    document.body.removeChild(el);\n    return null !== val && val.length && 'none' != val;\n  }\n\n  function hasTransitions() {\n    const styl = document.body.style;\n    return 'transition' in styl || 'webkitTransition' in styl || 'MozTransition' in styl || 'msTransition' in styl;\n  }\n\n  function componentEvents() {\n    const bind = 'addEventListener';\n    const unbind = 'removeEventListener';\n    const prefix = bind !== 'addEventListener' ? 'on' : '';\n\n    return {\n      bind: function(el, type, fn, capture) {\n        el[bind](prefix + type, fn, capture || false);\n        return fn;\n      },\n\n      unbind: function(el, type, fn, capture) {\n        el[unbind](prefix + type, fn, capture || false);\n        return fn;\n      }\n    }\n  }\n\n  function cssEmitter() {\n\n    const events = componentEvents();\n\n    // CSS events:\n\n    const watch = [\n      'transitionend', 'webkitTransitionEnd', 'MSTransitionEnd', 'animationend', 'webkitAnimationEnd', 'MSAnimationEnd'\n    ];\n\n    function CssEmitter(element) {\n      if (!(this instanceof CssEmitter)) return new CssEmitter(element);\n      this.el = element;\n    }\n\n    CssEmitter.prototype.bind = function(fn) {\n      for (let i = 0; i < watch.length; i++) {\n        events.bind(this.el, watch[i], fn);\n      }\n      return this;\n    };\n\n    CssEmitter.prototype.unbind = function(fn) {\n      for (let i = 0; i < watch.length; i++) {\n        events.unbind(this.el, watch[i], fn);\n      }\n      return this;\n    };\n\n    CssEmitter.prototype.once = function(fn) {\n      const self = this;\n\n      function on() {\n        self.unbind(on);\n        fn.apply(self.el, arguments);\n      }\n      self.bind(on);\n      return this;\n    };\n\n    return CssEmitter;\n  }\n\n  function yieldsAafterTransition() {\n    const has = hasTransitions;\n    const emitter = cssEmitter();\n    const supported = has();\n    let n = 0;\n    const global = (function() {\n      return this;\n    })();\n    const once = function(fn) {\n      const id = n++;\n\n      function once() {\n        // no receiver\n        if (this == global) {\n          if (once.called) return;\n          once.called = true;\n          return fn.apply(this, arguments);\n        }\n\n        // receiver\n        const key = `__called_${id}__`;\n        if (this[key]) return;\n        this[key] = true;\n        return fn.apply(this, arguments);\n      }\n\n      return once;\n    }\n    function after(el, fn) {\n      if (!supported || !has(el)) return fn();\n      emitter(el).bind(fn);\n      return fn;\n    }\n    after.once = function(el, fn) {\n      const callback = once(fn);\n      after(el, fn = function() {\n        emitter(el).unbind(fn);\n        callback();\n      });\n    };\n    return after\n  }\n\n  function emitter() {\n    function Emitter(obj) {\n      if (obj) return mixin(obj);\n    }\n    function mixin(obj) {\n      for (let key in Emitter.prototype) {\n        obj[key] = Emitter.prototype[key];\n      }\n      return obj;\n    }\n\n    Emitter.prototype.on =\n      Emitter.prototype.addEventListener = function(event, fn) {\n        this._callbacks = this._callbacks || {};\n        (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n        .push(fn);\n        return this;\n      };\n\n    Emitter.prototype.once = function(event, fn) {\n      function on() {\n        this.off(event, on);\n        fn.apply(this, arguments);\n      }\n\n      on.fn = fn;\n      this.on(event, on);\n      return this;\n    };\n\n    Emitter.prototype.off =\n      Emitter.prototype.removeListener =\n      Emitter.prototype.removeAllListeners =\n      Emitter.prototype.removeEventListener = function(event, fn) {\n        this._callbacks = this._callbacks || {};\n\n        // all:\n        if (0 === arguments.length) {\n          this._callbacks = {};\n          return this;\n        }\n\n        // specific event:\n        let callbacks = this._callbacks['$' + event];\n        if (!callbacks) return this;\n\n        // remove all handlers:\n        if (1 == arguments.length) {\n          delete this._callbacks['$' + event];\n          return this;\n        }\n\n        // remove specific handler:\n        let cb;\n        for (let i = 0; i < callbacks.length; i++) {\n          cb = callbacks[i];\n          if (cb === fn || cb.fn === fn) {\n            callbacks.splice(i, 1);\n            break;\n          }\n        }\n        return this;\n      };\n\n    Emitter.prototype.emit = function(event) {\n      this._callbacks = this._callbacks || {};\n      const args = [].slice.call(arguments, 1);\n      let callbacks = this._callbacks['$' + event];\n\n      if (callbacks) {\n        callbacks = callbacks.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; ++i) {\n          callbacks[i].apply(this, args);\n        }\n      }\n\n      return this;\n    };\n\n    Emitter.prototype.listeners = function(event) {\n      this._callbacks = this._callbacks || {};\n      return this._callbacks['$' + event] || [];\n    };\n\n    Emitter.prototype.hasListeners = function(event) {\n      return !!this.listeners(event).length;\n    };\n    return Emitter;\n  }\n\n  function cssEase() {\n    return {\n      'in': 'ease-in',\n      'out': 'ease-out',\n      'in-out': 'ease-in-out',\n      'snap': 'cubic-bezier(0,1,.5,1)',\n      'linear': 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n\n      'ease-in-quad': 'cubic-bezier(0.550, 0.085, 0.680, 0.530)',\n      'ease-out-quad': 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n      'ease-in-out-quad': 'cubic-bezier(0.455, 0.030, 0.515, 0.955)',\n\n      'ease-in-cubic': 'cubic-bezier(0.550, 0.055, 0.675, 0.190)',\n      'ease-out-cubic': 'cubic-bezier(0.215, 0.610, 0.355, 1.000)',\n      'ease-in-out-cubic': 'cubic-bezier(0.645, 0.045, 0.355, 1.000)',\n\n      'ease-in-quart': 'cubic-bezier(0.895, 0.030, 0.685, 0.220)',\n      'ease-out-quart': 'cubic-bezier(0.165, 0.840, 0.440, 1.000)',\n      'ease-in-out-quart': 'cubic-bezier(0.770, 0.000, 0.175, 1.000)',\n\n      'ease-in-quint': 'cubic-bezier(0.755, 0.050, 0.855, 0.060)',\n      'ease-out-quint': 'cubic-bezier(0.230, 1.000, 0.320, 1.000)',\n      'ease-in-out-quint': 'cubic-bezier(0.860, 0.000, 0.070, 1.000)',\n\n      'ease-in-sine': 'cubic-bezier(0.470, 0.000, 0.745, 0.715)',\n      'ease-out-sine': 'cubic-bezier(0.390, 0.575, 0.565, 1.000)',\n      'ease-in-out-sine': 'cubic-bezier(0.445, 0.050, 0.550, 0.950)',\n\n      'ease-in-expo': 'cubic-bezier(0.950, 0.050, 0.795, 0.035)',\n      'ease-out-expo': 'cubic-bezier(0.190, 1.000, 0.220, 1.000)',\n      'ease-in-out-expo': 'cubic-bezier(1.000, 0.000, 0.000, 1.000)',\n      'ease-out-in-back': 'cubic-bezier(0,1,1,0)',\n\n      'ease-in-circ': 'cubic-bezier(0.600, 0.040, 0.980, 0.335)',\n      'ease-out-circ': 'cubic-bezier(0.075, 0.820, 0.165, 1.000)',\n      'ease-in-out-circ': 'cubic-bezier(0.785, 0.135, 0.150, 0.860)',\n      'ease-out-in-circ': 'cubic-bezier((0.135, 0.885, 0.860, 0.140)',\n\n      'ease-in-back': 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n      'ease-out-back': 'cubic-bezier(0.175, 0.885, 0.320, 1.275)',\n      'ease-in-out-back': 'cubic-bezier(0.680, -0.550, 0.265, 1.550)'\n    };\n  }\n\n  $.extend({\n    anim: (function() {\n\n      const Emitter = emitter();\n\n      const query = function(selector) {\n        return document.querySelector(selector);\n      };\n\n      const after = yieldsAafterTransition();\n      const has3d = hasTranslate3d();\n      const ease = cssEase();\n      const translate = has3d ? ['translate3d(', ', 0)'] : ['translate(', ')'];\n      // module.exports = Anim;\n      const style = window.getComputedStyle || window.currentStyle;\n\n      // Initialize a new Anim with the given element:\n      function Anim(el) {\n        if (!(this instanceof Anim)) return new Anim(el);\n        if ('string' == typeof el) el = query(el);\n        if (!el) throw new TypeError('Anim must be initialized with element or selector');\n        this.el = el;\n        this._props = {};\n        this._rotate = 0;\n        this._transitionProps = [];\n        this._transforms = [];\n        this.duration(Anim.defaults.duration);\n        requestAnimationFrame(Anim)\n      }\n      Anim.ease = ease;\n\n      Anim.defaults = {\n        duration: 500\n      };\n\n      // Default element selection used by anim(selector):\n      Anim.select = function(selector) {\n        return $(selector)[0];\n      };\n\n      // Inherit from EventEmitter.prototype:\n      Emitter(Anim.prototype);\n\n      // Buffer transform:\n      Anim.prototype.transform = function(transform) {\n        this._transforms.push(transform);\n        return this;\n      };\n\n      // Skew x and y:\n      Anim.prototype.skew = function(x, y) {\n        return this.transform('skew(' + x + 'deg, ' + (y || 0) + 'deg)');\n      };\n\n      // Skew x by n:\n      Anim.prototype.skewX = function(n) {\n        return this.transform('skewX(' + n + 'deg)');\n      };\n\n      // Skew y by n:\n      Anim.prototype.skewY = function(n) {\n        return this.transform('skewY(' + n + 'deg)');\n      };\n\n      // Translate x and y axis:\n      Anim.prototype.translate =\n        Anim.prototype.to = function(x, y) {\n          return this.transform(translate.join('' + x + 'px, ' + (y || 0) + 'px'));\n        };\n\n      // Translate on x axis:\n      Anim.prototype.translateX =\n        Anim.prototype.x = function(n) {\n          return this.transform('translateX(' + n + 'px)');\n        };\n\n      // Translate on y axis:\n      Anim.prototype.translateY =\n        Anim.prototype.y = function(n) {\n          return this.transform('translateY(' + n + 'px)');\n        };\n\n      // Scale x and y axis by x, or\n      // individually scale x and y:\n      Anim.prototype.scale = function(x, y) {\n        return this.transform('scale(' + x + ', ' + (y || x) + ')');\n      };\n\n      // Scale x axis by n\n      Anim.prototype.scaleX = function(n) {\n        return this.transform('scaleX(' + n + ')');\n      };\n\n      // Scale y axis by n\n      Anim.prototype.scaleY = function(n) {\n        return this.transform('scaleY(' + n + ')');\n      };\n\n      // Define matrix transform:\n      Anim.prototype.matrix = function(m11, m12, m21, m22, m31, m32) {\n        return this.transform('matrix(' + [m11, m12, m21, m22, m31, m32].join(',') + ')');\n      };\n\n      // Rotate n degrees:\n      Anim.prototype.rotate = function(n) {\n        return this.transform('rotate(' + n + 'deg)');\n      };\n\n      // Set transition easing function to fn string.\n      // Following shortcuts available:\n      // no argument - \"ease\" is used\n      // \"in\" - \"ease-in\" is used\n      // \"out\" - \"ease-out\" is used\n      // \"in-out\" - \"ease-in-out\" is used\n      Anim.prototype.ease = function(fn) {\n        fn = ease[fn] || fn || 'ease';\n        return this.setVendorProperty('transition-timing-function', fn);\n      };\n\n      // Set animation properties:\n      Anim.prototype.animate = function(name, props) {\n        for (var i in props) {\n          if (props.hasOwnProperty(i)) {\n            this.setVendorProperty('animation-' + i, props[i]);\n          }\n        }\n        return this.setVendorProperty('animation-name', name);\n      };\n\n      // Set duration to n milliseconds:\n      Anim.prototype.duration = function(n) {\n        n = this._duration = 'string' == typeof n ? parseFloat(n) * 1000 : n;\n        return this.setVendorProperty('transition-duration', n + 'ms');\n      };\n\n      // Delay the animation by n milliseconds:\n      Anim.prototype.delay = function(n) {\n        n = 'string' == typeof n ? parseFloat(n) * 1000 : n;\n        return this.setVendorProperty('transition-delay', n + 'ms');\n      };\n\n      // Set prop to val, deferred until .end() is invoked:\n      Anim.prototype.setProperty = function(prop, val) {\n        this._props[prop] = val;\n        return this;\n      };\n\n      // Set a vendor prefixed prop with the given val:\n      Anim.prototype.setVendorProperty = function(prop, val) {\n        this.setProperty('-webkit-' + prop, val);\n        this.setProperty('-moz-' + prop, val);\n        this.setProperty('-ms-' + prop, val);\n        return this;\n      };\n\n      // Set prop to value, deferred until .end() is invoked\n      // and adds the property to the list of transition props:\n      Anim.prototype.set = function(prop, val) {\n        this.transition(prop);\n        this._props[prop] = val;\n        return this;\n      };\n\n      // ncrement prop by val, deferred until .end() is invoked\n      // and adds the property to the list of transition props:\n      Anim.prototype.add = function(prop, val) {\n        if (!style) return;\n        const self = this;\n        return this.on('start', function() {\n          const curr = parseInt(self.current(prop), 10);\n          self.set(prop, curr + val + 'px');\n        });\n      };\n\n      // Decrement prop by val, deferred until .end() is invoked\n      // and adds the property to the list of transition props:\n      Anim.prototype.sub = function(prop, val) {\n        if (!style) return;\n        const self = this;\n        return this.on('start', function() {\n          const curr = parseInt(self.current(prop), 10);\n          self.set(prop, curr - val + 'px');\n        });\n      };\n\n      // Get computed or \"current\" value of prop:\n      Anim.prototype.current = function(prop) {\n        return style(this.el).getPropertyValue(prop);\n      };\n\n      // Add prop to the list of internal transition properties:\n      Anim.prototype.transition = function(prop) {\n        if (!this._transitionProps.indexOf(prop)) return this;\n        this._transitionProps.push(prop);\n        return this;\n      };\n\n      // Commit style properties, aka apply them to \n      // the elemenet's style:\n      Anim.prototype.applyProperties = function() {\n        for (var prop in this._props) {\n          this.el.style.setProperty(prop, this._props[prop], '');\n        }\n        return this;\n      };\n\n      // Re-select element via selector, replacing\n      // the current element:\n      Anim.prototype.anim =\n        Anim.prototype.select = function(selector) {\n          this.el = Anim.select(selector);\n          return this;\n        };\n\n      // Defer the given fn until the animation\n      // is complete:\n      Anim.prototype.then = function(fn) {\n\n        // Invoke .end():\n        if (fn instanceof Anim) {\n          this.on('end', function() {\n            fn.run();\n          });\n\n          // Callback\n        } else if ('function' == typeof fn) {\n          this.on('end', fn);\n\n          // Chain:\n        } else {\n          let clone = new Anim(this.el);\n          clone._transforms = this._transforms.slice(0);\n          this.then(clone);\n          clone.parent = this;\n          return clone;\n        }\n\n        return this;\n      };\n\n      // Return parent:\n      Anim.prototype.pop = function() {\n        return this.parent;\n      };\n\n      // Reset duration:\n      Anim.prototype.reset = function() {\n        this.el.style.webkitTransitionDuration =\n          this.el.style.mozTransitionDuration =\n          this.el.style.msTransitionDuration =\n          this.el.style.oTransitionDuration = '';\n        return this;\n      };\n\n      Anim.prototype.run = function(fn) {\n        const self = this;\n\n        // Emit \"start\" event:\n        this.emit('start');\n\n        // Transforms:\n        if (this._transforms.length) {\n          this.setVendorProperty('transform', this._transforms.join(' '));\n        }\n\n        // Transition properties:\n        this.setVendorProperty('transition-properties', this._transitionProps.join(', '));\n        this.applyProperties();\n\n        // Callback given:\n        if (fn) this.then(fn);\n\n        // Emit \"end\" when complete:\n        after.once(this.el, function() {\n          self.reset();\n          self.emit('end');\n        });\n\n        return this;\n      };\n      return Anim;\n    })()\n  })\n});","// Truck Widget - Activity Indicator:\nimport '../truck';\nimport './setup';\nimport './block';\n\n$.fn.extend({\n  //===========================\n  // Setup activitiy indicator:\n  //===========================\n  Busy: function(options) {\n    let settings = {\n      size: 40,\n      color: '#666',\n      position: false\n    };\n    $.extend(settings, options);\n\n    const $this = this;\n    let spinner;\n    // For iOS:\n    const iOSBusy = () => {\n      let small;\n      if (parseInt(settings.size, 10) < 30) {\n        spinner = `<svg class='truck-busy small' width='${ settings.size }px' height='${ settings.size }px' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'>  <g x='0' y='0' width='100' height='100' fill='none' class='bk'><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(0 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(45 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(90 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(135 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(180 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(225 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(270 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(315 50 50) translate(0 -30)'></rect></g></svg>`;\n        $this.append(spinner);\n      } else {\n        spinner = `<svg class='truck-busy' width='${ settings.size }px' height='${ settings.size }px' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid' class='uil-default'> <g x='0' y='0' width='100' height='100' fill='none'><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(0 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(30 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(60 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(90 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(120 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(150 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(180 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(210 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(240 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(270 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(300 50 50) translate(0 -30)'></rect><rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(330 50 50) translate(0 -30)'></rect></g></svg>`;\n        $this.append(spinner);\n      }\n    };\n\n    // For Android:\n    const androidBusy = () => {\n      settings.id = $.uuid();\n      let androidActivityIndicator = null;\n      let position = settings.position ? (' ' + settings.position) : '';\n      if ($.isNativeAndroid) {\n        androidActivityIndicator = `<svg class=\"truck-busy${ position }\" version=\"1.1\" id=\"${ settings.id }\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\"><g><path fill=\"none\" stroke=\"${ settings.color }\" stroke-width=\"10\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M74.2,65c2.7-4.4,4.3-9.5,4.3-15c0-15.7-12.8-28.5-28.5-28.5S21.5,34.3,21.5,50c0,5.5,1.6,10.6,4.3,15\"/></g><polyline fill=\"none\" stroke=\"${ settings.color }\" stroke-width=\"10\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"89.4,56.1 74.3,65 65.4,49.9 \"/></svg>`;\n\n        $this.append(androidActivityIndicator);\n        return;\n      } else {\n        androidActivityIndicator = `<svg id=\"${ settings.id }\" class=\"truck-busy${ position }\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\"><circle stroke=\"url(#SVGID_1_)\" cx=\"50\" cy=\"50\" r=\"28.5\"/></svg>`;\n        $this.append(androidActivityIndicator);\n        $this.addClass('hasActivityIndicator');\n        if (settings.position) {\n          $('#' + settings.id).addClass(settings.position);\n        }\n        if (options.color) {\n          $('#' + settings.id).find('circle').css('stroke', options.color);\n        }\n      }\n      $('#' + settings.id).css({\n        'height': `${ settings.size }px`,\n        'width': `${ settings.size }px`\n      });\n      return $('#' + settings.id);\n    };\n\n    // For Windows 8/WP8:\n    const winBusy = () => {\n      const spinner = $(`<progress class=\"truck-busy\"></progress>`);\n      $(spinner).css({\n        'color': settings.color\n      });\n      $(spinner).attr('role', 'progressbar');\n      $(spinner).addClass('win-ring');\n      if (settings.position) $(spinner).addClass(settings.position);\n      $this.append(spinner);\n    };\n\n    // Create Busy control for appropriate OS:\n    if ($('body').hasClass('isWindows')) {\n      winBusy(options);\n    } else if ($('body').hasClass('isAndroid')) {\n      androidBusy(options);\n    } else if ($('body').hasClass('isiOS')) {\n      iOSBusy(options);\n    }\n  }\n});","// Truck Widget - Edit List:\nimport '../truck';\nimport './setup';\nimport '../modules/model';\n\n$.extend({\n  //=================================\n  // Setup an editable list, enabling\n  // reording of items and deletion:\n  //=================================\n  EditList: options => {\n    /*\n      options = {\n        editLabel: labelName,\n        doneLabel: labelName,\n        deleteLabel: labelName,\n        cancelLabel: cancelName,\n        callback: callback (Tapping \"Done\" fires this),\n        deletable: false (no deletables),\n        movable: false (no movables),\n        model: myModel,\n        modelProp: 'id',\n        view: myView\n      }\n    */\n    let settings = {\n      editLabel: 'Edit',\n      doneLabel: 'Done',\n      deleteLabel: 'Delete',\n      cancelLabel: 'Cancel',\n      callback: $.noop,\n      deletable: true,\n      movable: true,\n      model: undefined,\n      modelProp: 'id',\n      view: undefined\n    };\n\n    let __data = [];\n    if (!options) {\n      return;\n    }\n    $.extend(settings, options);\n    let __model = settings.model || false;\n\n    if (!settings.deletable && !settings.movable) {\n      return;\n    }\n    const __view = settings.view;\n\n    if (options) $.extend(settings, options);\n\n    let deleteButton;\n    let editButton;\n    let deletionIndicator;\n    let button;\n    let dispelDeletable = 'swiperight';\n    let enableDeletable = 'swipeleft';\n    let moveUpIndicator;\n    let moveDownIndicator;\n    const element = settings.element;\n    let deleteLabel;\n\n    let dir = $('html').attr('dir');\n    dir = dir ? dir.toLowerCase() : '';\n    if (dir === 'rtl') {\n      dispelDeletable = 'swipeleft';\n      enableDeletable = 'swiperight';\n    }\n    if ($('link[href*=windows]')[0]) {\n      deleteLabel = '';\n    }\n\n    if (settings.deletable) {\n      deleteButton = `<button class=\"delete\">\n        <label>${ settings.deleteLabel }</label>\n        <svg width=\"27px\" height=\"30px\" viewBox=\"0 0 27 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n            <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <g id=\"delete-icon\" fill=\"#3A3A3A\"><g transform=\"translate(3.000000, 1.000000)\">\n                <path d=\"M1,6 L20,6 L20,24.9986131 C20,26.6562333 18.6639569,28 16.9998779,28 L4.00012207,28 C2.3432004,28 1,26.6569187 1,24.9986131 L1,6 Z M4,9 L5,9 L5,25 L4,25 L4,9 Z M8,9 L9,9 L9,25 L8,25 L8,9 Z M12,9 L13,9 L13,25 L12,25 L12,9 Z M16,9 L17,9 L17,25 L16,25 L16,9 Z\" id=\"can\"></path><path d=\"M0,4.96611425 L0,1.67759301 L5.1776507,1.7511163 L6.482399,0 L14.5847825,0 L15.8789491,1.7511163 L21,1.7511163 L21,4.9447157 L0,4.96611425 L0,4.96611425 Z\" id=\"lid\"></path>\n                </g>\n              </g>\n            </g>\n        </svg>\n      </button>`;\n      deletionIndicator = `<span class=\"deletion-indicator\">\n        <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n          <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"deletion-indicator\">\n            <g id=\"ios-indicator\">\n              <circle id=\"ios-circle\" fill=\"#FF0000\" cx=\"10\" cy=\"10\" r=\"10\"></circle>\n              <path d=\"M3.5,10 L16.5,10\" id=\"ios-bar\" stroke=\"#FFFFFF\" stroke-width=\"2\" stroke-linecap=\"square\"></path></g><path d=\"M2,13 L9.9294326,16.8406135 L17.1937075,1.90173332\" id=\"checkmark\" stroke=\"#FA0303\" stroke-width=\"2\"></path>\n            </g>\n          </g>\n        </svg>\n      </span>`;\n      $(element).addClass('deletable');\n    }\n    if (settings.movable) {\n      moveUpIndicator = `<span class='move-up'>\n        <svg width=\"22px\" height=\"22px\" viewBox=\"0 0 22 22\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n          <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <g id=\"move-indicator\">\n              <circle id=\"circle\" cx=\"11\" cy=\"11\" r=\"10\"></circle>\n              <path d=\"M4,13.9645823 L10.9316382,5.94630319 L17.795297,13.9073417\" id=\"move-up\"></path>\n            </g>\n          </g>\n        </svg>\n      </span>`;\n      moveDownIndicator = `<span class='move-down'>\n        <svg width=\"22px\" height=\"22px\" viewBox=\"0 0 22 22\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n          <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <g id=\"move-indicator\">\n              <circle id=\"circle\" cx=\"11\" cy=\"11\" r=\"10\"></circle>\n              <path d=\"M4.0421421,7.98172087 L10.912246,16 L17.7960071,8.1103389\" id=\"move-down\"></path>\n            </g>\n          </g>\n        </svg>\n      </span>`;\n      $(element).addClass('editable');\n    }\n\n    editButton = `<button class=\"edit\">${ settings.editLabel }</button>`;\n    var nav = $(element).closest('screen').find('nav');\n    nav.append(editButton);\n    nav.find('.back').hide();\n    nav.prepend(`<button class=\"cancel\">${ settings.cancelLabel }</button>`);\n    nav.find('.cancel').hide();\n    $.AdjustNavbarLayout($(element).closest('screen'));\n\n    button = $(element).closest('screen').find('.edit');\n    $(element).find('li').forEach(ctx => {\n      if (!$(ctx).has('.deletion-indicator').length) {\n        if (settings.deletable) {\n          $(ctx).prepend(deletionIndicator);\n        }\n        if (settings.movable) {\n          $(ctx).append(moveDownIndicator);\n          $(ctx).append(moveUpIndicator);\n        }\n        if (settings.deletable) {\n          $(ctx).append(deleteButton);\n        }\n      }\n    });\n\n    // Callback to setup indicator interactions:\n    const setupDeletability = (callback, list, button) => {\n      $(() => {\n\n        // Check for view and update its template:\n        if (__view) {\n          let temp = $('<div></div>');\n          temp[0].insertAdjacentHTML('afterbegin', __view.getTemplate());\n          temp.find('li').prepend(deletionIndicator);\n          temp.find('li').append(moveDownIndicator);\n          temp.find('li').append(moveUpIndicator);\n          const template = temp.html();\n          __view.setTemplate(template);\n        }\n\n        button.on('tap', function() {\n          const $this = this;\n\n          // When button is in \"Edit\" state:\n          if (this.classList.contains('edit')) {\n            setTimeout(function() {\n              $this.classList.remove('edit');\n              $this.classList.add('done');\n              $($this).text(settings.doneLabel);\n              $(list).addClass('showIndicators');\n              $($this).siblings('.back').hide();\n              $($this).siblings('.cancel').show();\n            });\n\n            // When button is in \"Done\" state:\n          } else if (this.classList.contains('done')) {\n            // Execute callback if edit was performed:\n            //========================================\n            if ($(list).data('list-edit')) {\n              callback.call(callback, list);\n            }\n            setTimeout(function() {\n              $this.classList.remove('done');\n              $this.classList.add('edit');\n              $($this).text(settings.editLabel);\n              $(list).removeClass('showIndicators');\n              $(list).find('li').removeClass('selected');\n              $($this).siblings('.cancel').hide();\n            });\n            let movedItems = [];\n            $(list).find('li').forEach((ctx, idx) => {\n              __data.push($(ctx).attr('data-id'));\n            });\n\n            // Reorder model based on user choice:\n            if (__model) {\n              let __newarray = [];\n              __data.filter(item => {\n                const ret = __model.filter(b => {\n                  return b[settings.modelProp] === item;\n                });\n                __newarray.push(ret[0]);\n              });\n              __data = [];\n              __model.purge();\n              __model.concat(__newarray, true);\n              __newarray = [];\n            }\n          }\n          setTimeout(() => {\n            $.AdjustNavbarLayout($(element).closest('screen'));\n          })\n        });\n\n        // Handle deletion indicators:\n        $(list).off('tap', '.deletion-indicator');\n        $(list).on('tap', '.deletion-indicator', function() {\n          if ($(this).closest('li').hasClass('selected')) {\n            $(this).closest('li').removeClass('selected');\n            return;\n          } else {\n            $(this).closest('li').addClass('selected');\n          }\n        });\n\n        // Handle swipe gestures:\n        $(list).on(dispelDeletable, 'li', function() {\n          // If no deletables, disable swipes:\n          if (!settings.deletable) return;\n          // Else reveal delete button:\n          $(this).removeClass('selected');\n        });\n\n        $(list).on(enableDeletable, 'li', function() {\n          // If no deletables, disable swipes:\n          if (!settings.deletable) return;\n          // Else reveal delete button:\n          $(this).addClass('selected');\n        });\n\n        // Move list item up:\n        $(list).on('tap', '.move-up', function(e) {\n          let item = $(this).closest('li');\n          if (item.is('li:first-child')) {\n            return;\n          } else {\n            // Mark list as edited:\n            $(list).data('list-edit', true);\n            item = $(this).closest('li');\n            let prev = item.prev();\n            // Clone the items to replace the\n            // transitioned ones alter:\n            let itemClone = item.clone();\n            let prevClone = prev.clone();\n            let height = item[0].offsetHeight;\n            item.css({\n              \"-webkit-transform\": `translate3d(0,-${ height }px,0)`,\n              \"transform\": `translate3d(0,-${ height }px,0)`\n            });\n\n            prev.css({\n              \"-webkit-transform\": `translate3d(0,${height}px,0)`,\n              \"transform\": `translate3d(0,${ height }px,0)`\n            });\n            setTimeout(() => {\n              $.replace(prevClone, item);\n              $.replace(itemClone, prev);\n            }, 250);\n          }\n        });\n\n        // Move list item down:\n        $(list).on('tap', '.move-down', function(e) {\n          let item = $(this).closest('li');\n          let next = item.next();\n          if (item.is('li:last-child')) {\n            return;\n          } else {\n            // Clone the items to replace the\n            // transitioned ones alter:\n            let itemClone = item.clone();\n            let nextClone = next.clone();\n            // Mark list as edited:\n            $(list).data('list-edit', true);\n\n            let height = item[0].offsetHeight;\n            item.css({\n              '-webkit-transform': `translate3d(0,${ height }px,0)`,\n              transform: `translate3d(0,${ height }px,0)`\n            });\n            next.css({\n              \"-webkit-transform\": `translate3d(0,-${ height }px,0)`,\n              \"transform\": `translate3d(0,-${ height }px,0)`\n            });\n            setTimeout(() => {\n              $.replace(nextClone, item);\n              $.replace(itemClone, next);\n            }, 250);\n          }\n        });\n\n        // Handle deletion of list item:\n        $(list).on('tap', '.delete', function() {\n          const $this = this;\n          const listItem = $(this).parent();\n\n          // Mark list as edited:\n          $(list).data('list-edit', true);\n          let direction = '-1200%';\n          if ($('html').attr('dir') === 'rtl') direction = '1000%';\n          $(this).siblings().css({\n            '-webkit-transform': `translate3d(${ direction },0,0)`,\n            '-webkit-transition': 'all 1s ease-out',\n            'transform': `translate3d(${ direction },0,0)`,\n            'transition': 'all 1s ease-out'\n          });\n\n          setTimeout(() => {\n            listItem.remove();\n          }, 500);\n        });\n\n        // Cancel edits:\n        nav.find('.cancel').on('tap', function() {\n          nav.find('.back').show();\n          $(this).hide();\n          __view.render();\n          nav.find('.done').addClass('edit').removeClass('done');\n          $(list).removeClass('showIndicators');\n          $(list).find('li').removeClass('selected');\n          $(this).hide();\n        });\n      });\n    };\n    // Initialize the editable list:\n    setupDeletability(settings.callback, element, button);\n\n    return {\n      getModel: () => {\n        return __model;\n      },\n\n      getView: () => {\n        return __view;\n      }\n    };\n  }\n});","// Truck Widget - Select List:\nimport '../truck';\nimport './setup';\nimport '../modules/model';\n\n$.extend({\n  //=====================\n  // Setup a select list:\n  //=====================\n  SelectList: function(options) {\n    if (!options || !options.element) return;\n    let settings = {\n      element: undefined,\n      selected: undefined,\n      name: $.uuid(),\n      callback: $.noop,\n      model: undefined\n    };\n    let __selection = {};\n\n    $.extend(settings, options);\n    const name = settings.name;\n    let list = $(settings.element);\n    list.addClass('select-list');\n    list.find('li').forEach((ctx, idx) => {\n      const value = ctx.getAttribute(\"data-select\") !== null ? ctx.getAttribute(\"data-select\") : \"\";\n      ctx.setAttribute('role', 'radio');\n      $(ctx).removeClass('selected').find('input').removeAttr('checked');\n      $(ctx).append('<span class=\"selection-indicator\"><svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"selection-indicator\"><path d=\"M2,13 L9.9294326,16.8406135 L17.1937075,1.90173332\" id=\"checkmark\" stroke=\"#007AFF\" stroke-width=\"2\"></path><circle id=\"outer-circle\" stroke=\"#007AFF\" stroke-width=\"2\" cx=\"10\" cy=\"10\" r=\"9\"></circle><circle id=\"inner-circle\" fill=\"#007AFF\" cx=\"10\" cy=\"10\" r=\"4\"></circle></g></g></svg></span>');\n      if (settings.selected === idx) {\n        ctx.setAttribute('aria-checked', 'true');\n        ctx.classList.add('selected');\n        if (!$(ctx).find('input')[0]) {\n          $(ctx).append(`<input type=\"radio\" checked=\"checked\" name=\"${ name }\" value=\"${ value }\">`);\n        } else {\n          $(ctx).find('input').prop('checked', true).attr('value', value);\n        }\n        __selection = {\n          index: settings.selected,\n          value: value\n        };\n      } else {\n        if (!$(ctx).find('input')[0]) {\n          $(ctx).append(`<input type=\"radio\" name=\"${ name }\" value=\"${ value }\">`);\n        }\n      }\n    });\n    list.on('tap', 'li', function() {\n      const item = $(this);\n      __selection = {\n        index: item.index(),\n        value: item.find('input').val()\n      };\n      item.siblings('li').removeClass('selected');\n      item.siblings('li').removeAttr('aria-checked');\n      item.siblings('li').find('input').removeProp('checked');\n      item.addClass('selected');\n      item.attr('aria-checked', true);\n      item.find('input').prop('checked', true);\n      settings.callback.apply(this, arguments);\n    });\n\n    return {\n      getSelection: () => __selection\n    };\n  }\n});","// Truck Module - Stack:\nimport '../truck';\n\nexport class Stack {\n  constructor(array) {\n    this.data = [];\n    if (array && Array.isArray(array)) {\n      let i = -1;\n      const len = array.length;\n      while (++i < len) {\n        this.data[i] = array[i];\n      }\n    } else if (array) {\n      const arr = Array.prototype.slice.apply(arguments);\n      arr.forEach(function(ctx, idx) {\n        this.data[idx] = ctx;\n      });\n    }\n  }\n\n  size() {\n    return this.data.length;\n  }\n\n  push(data) {\n    this.data.push(data);\n  }\n\n  pop() {\n    return this.data.pop();\n  }\n\n  eq(index) {\n    if (index < 0) {\n      return this.data[this.data.length + index];\n    } else {\n      return this.data[index];\n    }\n  }\n\n  forEach(callback) {\n    let value;\n    let i = 0;\n    const len = this.data.length;\n    for (; i < len; i++) {\n      value = callback.call(this.data[i], this.data[i], i);\n      if (value === false) {\n        break;\n      }\n    }\n  }\n\n  each(callback) {\n    let value;\n    let i = 0;\n    const len = this.data.length;\n    for (; i < len; i++) {\n      value = callback.call(this.data[i], i, this.data[i]);\n      if (value === false) {\n        break;\n      }\n    }\n  }\n\n  shift(...args) {\n    return this.data.shift.apply(this.data, args);\n  }\n\n  unshift(...args) {\n    this.data.unshift.apply(this.data, args);\n  }\n\n  slice(...args) {\n    return this.data.slice.apply(this.data, args);\n  }\n\n  splice(...args) {\n    this.data.splice.apply(this.data, args);\n  }\n\n  sort(...args) {\n    this.data.sort(args);\n  }\n\n  sortBy(...props) {\n    let args = [];\n    const orderBy = () => {\n      return (a, b) => {\n        const sortByProperty = property => {\n          let sortOrder = 1;\n          if (property[0] === \"-\") {\n            sortOrder = -1;\n            property = property.substr(1);\n          }\n          return (a, b) => {\n            const result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n            return result * sortOrder;\n          };\n        };\n        let i = 0;\n        let result = 0;\n        const numberOfProperties = props.length;\n        while (result === 0 && i < numberOfProperties) {\n          result = sortByProperty(props[i])(a, b);\n          i++;\n        }\n        return result;\n      };\n    };\n    this.data.sort(__orderBy.apply(null, args));\n    this[0] = this.data[0];\n    return this;\n  }\n  \n  filter(...args) {\n    return this.data.filter.apply(this.data, args);\n  }\n\n  map(...args) {\n    return this.data.map.apply(this.data, args);\n  }\n\n  join(separator) {\n    return this.data.join(separator);\n  }\n\n  concat(object) {\n    if (Array.isArray(object)) {\n      this.data.push.apply(this.data, object);\n    }\n  }\n\n  reverse(...args) {\n    this.data.reverse.apply(this.data, args);\n  }\n\n  indexOf(...args) {\n    return this.data.indexOf.apply(this.array, args);\n  }\n\n  every(...args) {\n    return this.data.every.apply(this.data, args);\n  }\n\n  some(...args) {\n    return this.data.some.apply(this.data, arguments);\n  }\n\n  unique() {\n    const len = this.data.length;\n    let ret = [];\n    let obj = {};\n\n    for (let i = 0; i < len; i++) {\n      let arrayItem = JSON.stringify(this.data[i]);\n      const arrayItemValue = this.data[i];\n      if (obj[arrayItem] === undefined) {\n        ret.push(arrayItemValue);\n        obj[arrayItem] = 1;\n      } else {\n        obj[arrayItem]++;\n      }\n    }\n    this.data = ret;\n  }\n\n  purge() {\n    this.data = [];\n  }\n\n  getData() {\n    return this.data;\n  }\n}\n\n$.extend({\n  Stack: Stack\n});","// Truck Widget - Multi-Select List:\nimport '../truck';\nimport './setup';\nimport '../modules/model';\nimport '../modules/stack';\n\n$.extend({\n  //===========================\n  // Setup a multi-select list:\n  //===========================\n  MultiSelectList: options => {\n    if (!options || !options.element) return;\n    let settings = {\n      element: undefined,\n      selected: [],\n      name: $.uuid(),\n      callback: $.noop,\n      model: undefined\n    };\n    let __selection = new $.Stack();\n    $.extend(settings, options);\n    let selections = settings.selected;\n    const name = settings.name;\n    const list = $(settings.element);\n    list.addClass('multi-select-list');\n    list.find('li').forEach(function(ctx, idx) {\n      let value = ctx.getAttribute(\"data-select\") !== null ? ctx.getAttribute(\"data-select\") : \"\";\n      selections.forEach(function(item) {\n        if (item.index === idx) {\n          __selection.push({\n            index: idx,\n            value: value\n          });\n        }\n      });\n\n      ctx.setAttribute('role', 'checkbox');\n      $(ctx).removeClass('selected').find('input').removeAttr('checked');\n      $(ctx).prepend(`<span class=\"multi-selection-indicator\"><svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"multi-select-icon\" stroke=\"#979797\"><g id=\"multi-select-circle-+-mulit-select-checkmark\" transform=\"translate(2.000000, 2.000000)\"><circle id=\"multi-select-circle\" cx=\"13\" cy=\"13\" r=\"13\"></circle><path d=\"M4.71521456,15.9877529 L13.0000002,20.7028494 L19.977049,5.70284941\" id=\"mulit-select-checkmark\"></path></g></g></g></svg></span>`);\n      $(ctx).append(`<input type=\"checkbox\" name=\"${ name }\" value=\"${ value }\">`);\n      if (selections.length) {\n        selections.forEach(function(sel) {\n          if (sel === idx) {\n            ctx.setAttribute('aria-checked', 'true');\n            ctx.classList.add('selected');\n            $(ctx).find('input').prop('checked', true).attr('value', value);\n            __selection.push({\n              index: sel,\n              value: value\n            });\n          }\n        });\n\n      }\n    });\n\n    list.on('tap', 'li', function() {\n      const item = $(this);\n      if (item.hasClass('selected')) {\n        item.removeClass('selected').removeAttr('aria-checked');\n        item.find('input').removeProp('checked');\n        let dataObj = {\n          index: item.index(),\n          value: item.attr('data-select')\n        }\n        let pos;\n        __selection.forEach(function(item, idx) {\n          if (item.index === dataObj.index && item.value === dataObj.value) {\n            pos = idx;\n          }\n        });\n        __selection.splice(pos, 1);\n\n        settings.callback.apply(this, arguments);\n      } else {\n        __selection.push({\n          index: item.index(),\n          value: item.attr('data-select')\n        });\n        __selection.unique();\n        item.addClass('selected');\n        item.attr('aria-checked', true);\n        item.find('input').prop('checked', true);\n\n        settings.callback.apply(this, arguments);\n      }\n\n    });\n\n    return {\n      getSelection: () => __selection.getData()\n    };\n  }\n});","// Truck Widget - Paging:\nimport '../truck';\nimport './setup';\n\n$.extend({\n  //========================\n  // Setup a paging control:\n  //========================\n  Paging: options => {\n    if (!options || !options.element) return;\n    const screen = $(options.element);\n    const pager = '<div class=\"pager\">\\n\\\n    <button class=\"previous\">\\n\\\n      <svg width=\"24px\" height=\"36px\" viewBox=\"0 0 24 36\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"pagination-icons\" stroke=\"#979797\"><path d=\"M19.7729197,3 L4.25431067,17.8699971 L19.7729196,32.9558941\" id=\"page-previous\"></path></g></g></svg>\\n\\\n    </button>\\n\\\n    <button class=\"next\">\\n\\\n      <svg width=\"24px\" height=\"36px\" viewBox=\"0 0 24 36\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"pagination-icons\" stroke=\"#979797\"><path d=\"M4.08862955,3.06871359 L20.0261609,18.0528447 L4.08862956,32.9999994\" id=\"page-next\"></path></g></g></svg>\\n\\\n    </button>\\n\\\n    </div>';\n\n    $(screen).find('nav').append(pager);\n\n    const currentSection = $(screen).find('section');\n\n    const articles = function() {\n      return currentSection.find('article').length;\n    };\n    $.AdjustNavbarLayout(screen);\n\n    // Handle paging forward:\n    const pageForward = pagerButton => {\n      if (articles() < 2) return;\n      pagerButton.prev().removeClass('selected');\n      pagerButton.addClass('selected');\n      var currentArticle;\n      if (pagerButton[0] && pagerButton[0].classList.contains('disabled')) return;\n      currentArticle = currentSection.find('article.current');\n      if (currentArticle.index() === articles() - 1) {\n        // start again!\n        currentArticle.removeClass('current').addClass('next');\n        currentArticle.siblings().removeClass('previous').addClass('next');\n        currentSection.find('article').eq(0).addClass('current').removeClass('previous').removeClass('next');\n      } else {\n        currentArticle.removeClass('current').addClass('previous');\n        currentArticle.next().removeClass('next').addClass('current');\n      }\n      setTimeout(function() {\n        pagerButton.removeClass('selected');\n      }, 250);\n    };\n\n    const pageBack = pagerButton => {\n      if (articles() === 1) return;\n      pagerButton.next().removeClass('selected');\n      pagerButton.addClass('selected');\n      var currentArticle;\n      currentArticle = currentSection.find('article.current');\n\n      if (currentArticle.index() === 0) {\n        currentArticle.removeClass('current');\n        currentArticle.siblings().eq(-1).addClass('current').removeClass('next');\n        currentArticle.siblings().eq(-1).siblings().removeClass('next').addClass('previous');\n      } else {\n        currentArticle.removeClass('current').addClass('next');\n        currentArticle.prev().removeClass('previous').addClass('current');\n      }\n      setTimeout(() => {\n        pagerButton.removeClass('selected');\n      }, 250);\n    };\n\n    $('.pager').on($.eventStart, 'button:last-of-type', () => {\n      pageForward($(this));\n    });\n    $('.pager').on($.eventStart, 'button:first-of-type', () => {\n      pageBack($(this));\n    });\n\n  }\n});","// Truck Widget - Popover:\nimport '../truck';\nimport './setup';\nimport './block';\n\n$.extend({\n  //=================================\n  // Setup a popover (dropdown menu):\n  //=================================\n  Popover: options => {\n    /*\n      id: myUniqueID,\n      title: 'Great',\n      callback: myCallback,\n    */\n    options = options || {};\n    let settings = {\n      id: $.uuid(),\n      callback: $.noop,\n      title: '',\n    };\n    $.extend(settings, options);\n    if (options && options.content) {\n      settings.content = options.content;\n    } else {\n      settings.content = '';\n    }\n    const header = `<header><h1>${ settings.title }</h1></header>`;\n    const popover = `<div class=\"popover\" id=\"${ settings.id }\">${ header }<section></section></div>`;\n    const popoverID = '#' + settings.id;\n\n    // Calculate position of popover relative to the button that opened it:\n    const __calcPopPos = element => {\n      const offset = $(element).offset();\n      let left = offset.left;\n      let calcLeft;\n      let calcTop;\n      let popover = $(popoverID);\n      const popoverOffset = popover.offset();\n      calcLeft = popoverOffset.left;\n      calcTop = offset.top + $(element)[0].clientHeight;\n      if ((popover.width() + offset.left) > window.innerWidth) {\n        popover.css({\n          'left': ((window.innerWidth - popover.width()) - 20) + 'px',\n          'top': (calcTop) + 25 + 'px'\n        });\n      } else {\n        popover.css({\n          'left': left + 'px',\n          'top': (calcTop - 30) + 'px'\n        });\n      }\n    };\n\n    if ($('.mask')[0]) {\n      $.ClosePopover();\n      $('body').Unblock();\n      return;\n    }\n    $.Block('.5');\n    $('body').append(popover);\n    if ($('body').hasClass('isAndroid')) {\n      setTimeout(() => {\n        $(popoverID).addClass('opened');\n      }, 300);\n    }\n    if ($('body').hasClass('isWindows')) {\n      $(popoverID).addClass('open');\n    }\n    $(popoverID).data('triggerEl', settings.trigger);\n    $(popoverID).find('section').append(settings.content);\n    settings.callback.call(settings.callback, settings.trigger);\n    __calcPopPos(settings.trigger);\n\n  },\n\n  AlignPopover: () => {\n    let popover = $('.popover');\n    if (!popover.length) return;\n    const triggerID = popover.data('triggerEl');\n    const offset = $(triggerID).offset();\n    const left = offset.left;\n    if (($(popover).width() + offset.left) > window.innerWidth) {\n      popover.css({\n        'left': ((window.innerWidth - $(popover).width()) - 20) + 'px'\n      });\n    } else {\n      popover.css({\n        'left': left + 'px'\n      });\n    }\n  },\n\n  ClosePopover: () => {\n    $.Unblock();\n    $('.popover').css('visibility', 'hidden');\n    setTimeout(() => {\n      $('.popover').off();\n      $('.popover').remove();\n    }, 10);\n  }\n});\n\n$(() => {\n  /////////////////////////////////////////////////\n  // Reposition popovers on window resize:\n  /////////////////////////////////////////////////\n  window.onresize = () => {\n    $.AlignPopover();\n  };\n  const events = \"$.eventStart singletap $.eventEnd\";\n  $('body').on(events, '.mask', e => {\n    if (!$('.popover')[0]) {\n      if (e && e.nodeType === 1) return;\n      // e.stopPropogation();\n    } else {\n      $.ClosePopover();\n    }\n  });\n});","// Truck Widget - Screen Blocker:\nimport '../truck';\nimport './setup';\n\n$.extend({\n\n  //==============\n  // Cover screen:\n  //==============\n  Block: opacity => {\n    opacity = opacity ? ` style='opacity:${ opacity };'` : ` style='opacity: .5;'`;\n    if ($('.mask')[0]) return;\n    $('body').append(`<div class='mask'${ opacity }></div>`);\n    $('screen.current').attr('aria-hidden', true);\n  },\n\n  //================\n  // Uncover screen:\n  //================\n  Unblock: () => {\n    $('.mask').remove();\n    $('screen.current').removeAttr('aria-hidden');\n  }\n});","// Truck Widget - Popup:\nimport '../truck';\nimport './setup';\nimport './block';\n\n$.extend({\n  //=======================\n  // Setup  a popup dialog:\n  //=======================\n  Popup: options => {\n    /*\n    options {\n      id: 'alertID',\n      title: 'Alert',\n      message: 'This is a message from me to you.',\n      cancelButton: 'Cancel',\n      continueButton: 'Go Ahead',\n      width: '100px',\n      callback: function() { // do something },\n      empty: true\n    }\n    */\n    if (!options) return;\n    let settings = {};\n    settings.id = $.uuid();\n    settings.content = true;\n    $.extend(settings, options);\n    let width = '';\n    if (settings.width) {\n      width = `style=\"width:${ settings.width }px;\"`;\n    }\n\n    const id = settings.id;\n    const title = settings.title ? `<header><h1>${ settings.title }</h1></header>` : '';\n    const message = settings.message ? `<p role=\"note\">${ options.message }</p>` : '';\n    const cancelButton = options.cancelButton ? `<button class=\"cancel\" role=\"button\">${ settings.cancelButton }</button>` : '';\n    const continueButton = settings.continueButton ? `<button class=\"continue\" role=\"button\">${ settings.continueButton }</button>` : '';\n    const callback = settings.callback || $.noop;\n    let popup;\n    if (settings.empty) {\n      popup = `<div ${ width } class=\"popup closed\" role=\"alertdialog\" id=\"${ id }\"></div>`;\n    } else {\n      popup = `<div class=\"popup closed\" role=\"alertdialog\" id=\"${ id }\"><div class=\"panel\">${ title }${ message }</div><footer>${ cancelButton }${ continueButton }</footer></div>`;\n    }\n\n    $('body').append(popup);\n    if (callback && continueButton) {\n      $('.popup').find('.continue').on($.eventStart, function() {\n        let $this = $(this);\n        if ($.isAndroid || $.isChrome) {\n          $this.addClass('selected');\n          setTimeout(function() {\n            $this.removeClass('selected');\n            $('.popup').ClosePopup();\n            callback.call(callback);\n          }, 300);\n        } else {\n          $('.popup').ClosePopup();\n          callback.call(callback);\n        }\n      });\n      $('.popup').find('.cancel').on($.eventStart, function() {\n        let $this = $(this);\n        if ($.isAndroid || $.isChrome) {\n          $this.addClass('selected');\n          setTimeout(function() {\n            $this.removeClass('selected');\n            $('.popup').ClosePopup();\n          }, 300);\n        } else {\n          $('.popup').ClosePopup();\n        }\n      });\n    }\n\n    $.CenterPopup();\n    const events = `${ $.eventStart } tap ${ $.eventEnd }`;\n    $('.mask').on(events, function(e) {\n      e.stopPropagation();\n    });\n  },\n\n  // Hanle Orientation Change:\n  //==========================\n  CenterPopup: () => {\n    let popup = $('.popup');\n    if (!popup[0]) return;\n    const tmpTop = ((window.innerHeight / 2) + window.pageYOffset) - (popup[0].clientHeight / 2) + 'px';\n    let tmpLeft;\n    if (window.innerWidth === 320) {\n      tmpLeft = '10px';\n    } else {\n      tmpLeft = Math.floor((window.innerWidth - popup[0].clientWidth) / 2) + 'px';\n    }\n    if ($('body').hasClass('isWindows')) {\n      popup.css({\n        top: tmpTop\n      });\n    } else {\n      popup.css({\n        left: tmpLeft,\n        top: tmpTop\n      });\n    }\n  }\n});\n$.fn.extend({\n  // Show Popup:\n  //============\n  ShowPopup: function() {\n    $.Block('0.5');\n    $(this).removeClass('closed');\n    $(this).addClass('opened');\n    $.CenterPopup();\n  },\n\n  // Close Popup:\n  //=============\n  ClosePopup: function() {\n    $.Unblock();\n    $(this).removeClass('opened');\n    $(this).addClass('closed');\n  }\n});\n\n// Reposition popups on window resize:\n//====================================\n$(() => {\n  window.onresize = () => {\n    $.CenterPopup();\n  };\n});","// Truck Widget - Range Input:\nimport '../truck';\nimport './setup';\n\n$.fn.extend({\n  //=====================\n  // Setup a range input:\n  //=====================\n  Range: function() {\n    if ($('body').hasClass('isWindows')) return;\n    if (this[0].nodeName !== 'INPUT') return;\n    let input = $(this);\n    let newPlace;\n    const width = input.width();\n    const newPoint = (input.val() - input.attr(\"min\")) / (input.attr(\"max\") - input.attr(\"min\"));\n    let offset = -1.3;\n    if (newPoint < 0) {\n      newPlace = 0;\n    } else if (newPoint > 1) {\n      newPlace = width;\n    } else {\n      newPlace = width * newPoint + offset;\n      offset -= newPoint;\n    }\n    if ($('body').hasClass('isAndroid') || $.isChrome) input.css({\n      'background-size': Math.round(newPlace) + 'px 3px, 100% 3px'\n    });\n    else input.css({\n      'background-size': Math.round(newPlace) + 'px 10px'\n    });\n  }\n});\n$(() => {\n  $('input[type=range]').forEach(ctx => {\n    $(ctx).Range();\n  });\n  $('body').on('input', 'input[type=range]', function() {\n    $(this).Range();\n  });\n});","// Truck Widget - Segmented Buttons:\nimport '../truck';\nimport './setup';\n\n$(() => {\n  $.extend({\n    //==========================\n    // Setup a segmented button:\n    //==========================\n    Segmented: function(options) {\n      if (!options || !options.element) return;\n      /* \n        options = {\n          element: '#segmentHolder'\n          labels : ['first','second','third'],\n          selected: 0,\n          callback: function() { alert('Boring!'); }\n        }\n      */\n      let settings = {\n        selected: 0,\n        callback: $.noop\n      };\n      $.extend(settings, options);\n\n      let segmented;\n      const labels = (settings.labels) ? settings.labels : [];\n      let __selection;\n      let __element = settings.element;\n\n      function createSegmentedButton() {\n        let __segmented = ['<div class=\"segmented\">'];\n        labels.forEach(function(ctx, idx) {\n          if (settings.selected === idx) {\n            __segmented.push('<button role=\"radio\" aria-checked=\"true\" class=\"selected\">');\n            __selection = idx;\n          } else {\n            __segmented.push('<button role=\"radio\">');\n          }\n\n          __segmented.push(ctx);\n          __segmented.push('</button>');\n        });\n        __segmented.push('</div>');\n        segmented = __segmented.join('');\n        $(settings.element).append(segmented);\n      }\n      createSegmentedButton();\n\n      const callback = settings.callback;\n      $(__element).on('tap', '.segmented > button', function(e) {\n        let $this = $(this);\n        if (this.parentNode.classList.contains('paging')) return;\n        $this.siblings('button').removeClass('selected');\n        $this.siblings('button').removeAttr('aria-checked');\n        $this.addClass('selected');\n        __selection = $this.index();\n        __element = $(this);\n        $this.attr('aria-checked', true);\n        callback.call(this, e);\n      });\n\n      return {\n        getSelection: function() {\n          return {\n            index: __selection,\n            element: __element\n          }\n        }\n      }\n    }\n  });\n});","// Truck Widget - Sheets:\nimport '../truck';\nimport './setup';\n\n$.extend({\n  //========================\n  // Create a sliding sheet:\n  //========================\n  Sheet: options => {\n    /*\n      var options {\n        id : 'starTrek',\n        background: 'transparent',\n        handle: false,\n        slideDown: false // default is slideUp\n      }\n    */\n    if (!options) return;\n    let settings = {\n      id: $.uuid(),\n      background: '',\n      handle: true,\n      slideDown: false\n    };\n\n    $.extend(settings, options);\n\n    if (settings.background) settings.background = ` style=\"background-color:${ settings.background }\" `;\n    if (settings.slideDown) settings.slideDown = ' class=\"slideDown\" ';\n    if (settings.handle === false) settings.handle = '';\n    else settings.handle = '<div class=\"handle\"><span><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 76 27\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:butt;stroke-linejoin:butt;stroke-miterlimit:1.41421;\"><g id=\"sheet-handle\" transform=\"matrix(1,0,0,1,-29.7966,-15.7797)\"><path id=\"sheet-handle-path\" d=\"M36.25,26.242L67.645,34.215L98.176,25.789\" style=\"fill:none;\"/></g></svg></span></div>';\n\n    const sheet = `<sheet id=\"${ settings.id }\"${ settings.slideDown }${ settings.background }>${ settings.handle }<section></section></sheet>`;\n\n    $('body').append(sheet);\n\n    $('#' + settings.id).find('.handle').on($.eventStart, () => {\n      $.HideSheet('#' + settings.id);\n    });\n  },\n  ShowSheet: id => {\n    let sheet = id ? id : '.sheet';\n    $('screen.current').addClass('blurred');\n    if ($.isAndroid || $.isChrome) {\n      $(sheet).css('display', 'block');\n      setTimeout(function() {\n        $(sheet).addClass('opened');\n      }, 20);\n    } else {\n      $(sheet).addClass('opened');\n    }\n  },\n  HideSheet: id => {\n    $(id).removeClass('opened');\n    $('screen.current').addClass('removeBlurSlow');\n    setTimeout(() => {\n      $('screen').removeClass('blurred');\n      $('screen').removeClass('removeBlurSlow');\n    }, 500);\n  }\n});","// Truck Widget - Slide Out Menu:\nimport '../truck';\nimport './setup';\nimport './navigation';\n\n$.extend({\n  //========================\n  // Setup a slide out menu:\n  //========================\n  SlideOut: () => {\n    const slideoutID = $.uuid();\n    const buttonID = $.uuid();\n    const slideOutButton = $(`<button id=\"${ buttonID }\" class=\"slide-out-button\"></button>`);\n    const slideOut = `<slideout id=\"${ slideoutID }\"><section></section></slideout>`;\n    $('body').prepend(slideOut);\n    $('body').append(slideOutButton);\n    // Get Slide Out & Slide Out button:\n    let slideout = $(`#${ slideoutID }`);\n    let slideOutBtn = $(`#${ buttonID }`);\n\n    // Set up state for Slide Out and screens:\n    slideout.attr('aria-hidden', true);\n    $(\"screens\").attr('aria-hidden', true);\n    $(\"screens\").eq(0).addClass('show').attr('aria-hidden', \"false\");\n\n    // Handle Slide Out button events:\n    slideOutBtn.on('tap', function() {\n      $(this).toggleClass('focused');\n      if (slideout.hasClass('open')) {\n        slideout.removeClass('open');\n        slideout.removeAttr('aria-hidden');\n        $('button.back').removeClass('disabled').removeProp('disabled');\n        $('button.backTo').removeClass('disabled').removeProp('disabled');\n      } else {\n        slideout.addClass('open')\n        slideout.attr('aria-hidden', true);\n        $('button.back').addClass('disabled').prop('disabled', true);\n        $('button.backTo').addClass('disabled').prop('disabled', true);\n      }\n    });\n\n    $(`#${ slideoutID }`).on('tap', 'li', function() {\n      let menuItems = slideout.find('li[data-show]');\n      slideout.attr('aria-hidden', 'true')\n\n      // Toggle Slide Out button:\n      slideOutBtn.toggleClass('focused');\n      \n      $('button.back').removeClass('disabled').removeProp('disabled');\n      $('button.backTo').removeClass('disabled').removeProp('disabled');\n\n      // This list item shows a single screen:\n      menuItems.hazClass('selected').removeClass('selected');\n      $.screens.hazClass('show').removeClass('show').attr('aria-hidden', true);\n      const screenToShow = $(this).attr('data-show');\n      $('#' + screenToShow.split(':')[0]).addClass('show').attr('aria-hidden', false);\n      $('screen.current').addClass('next').removeClass('current');\n      $('screen.previous').addClass('next').removeClass('previous');\n      // Get route to dispatch:\n      $.Router.dispatch(screenToShow);\n\n      // Close slide out:\n      slideout.removeClass('open');\n    });\n\n    return {\n      populate: options => {\n        const slideout = $(`#${ slideoutID }`);\n        if (!slideout[0]) return;\n        if (!options) {\n          return;\n        } else {\n          slideout.find('section').append('<ul class=\"list\"></ul>');\n          let list = slideout.find('ul');\n          options.forEach(ctx => {\n            for (let key in ctx) {\n              if (key === 'header') {\n                list.append('<li class=\"menu-header\"><h2>' + ctx[key] + '</h2></li>');\n              } else {\n                list.append('<li data-show=\"' + key + '\"><h3>' + ctx[key] + '</h3></li>');\n              }\n            }\n          });\n          slideout.find('li').eq(0).addClass('selected');\n        }\n      }\n    };\n  }\n});","// Truck Widget - Stepper:\nimport '../truck';\nimport './setup';\n\n$.extend({\n  //==================\n  // Create a stepper:\n  //==================\n  Stepper: options => {\n    if (!options) return;\n    if (!options.element) return;\n    if (!options.min) return;\n    if (!options.max) return;\n\n    let stepper = $(options.element);\n    const min = options.min;\n    const max = options.max;\n    const defaultValue = options.defaultValue ? options.defaultValue : options.min;\n    let increaseSymbol = '+';\n    let decreaseSymbol = '-';\n    if ($.isWin) {\n      increaseSymbol = '';\n      decreaseSymbol = '';\n    }\n    const decreaseButton = '<button class=\"decrease\"><span>-</span></button>';\n    const label = `<label>${ defaultValue }</label><input type=\"text\" value=\"${ defaultValue }\">`;\n    const increaseButton = '<button class=\"increase\"><span>+</span></button>';\n    stepper.append(decreaseButton + label + increaseButton);\n    stepper.data('data-value', {\n      min: min,\n      max: max,\n      defaultValue: defaultValue\n    });\n\n    const increaseStepperValue = function() {\n      const currentValue = stepper.find('input').val();\n      const value = stepper.data('data-value');\n      const max = value.max;\n      let newValue;\n      if (currentValue >= max) {\n        $(this).addClass('disabled');\n      } else {\n        newValue = Number(currentValue) + 1;\n        stepper.find('button:first-of-type').removeClass('disabled');\n        stepper.find('label').text(newValue);\n        stepper.find('input')[0].value = newValue;\n        if (currentValue === max) {\n          $(this).addClass('disabled');\n        }\n      }\n    };\n\n    const decreaseStepperValue = function() {\n      const currentValue = stepper.find('input').val();\n      const value = stepper.data('data-value');\n      const min = value.min;\n      let newValue;\n      if (currentValue <= min) {\n        $(this).addClass('disabled');\n      } else {\n        newValue = Number(currentValue) - 1;\n        stepper.find('button:last-of-type').removeClass('disabled');\n        stepper.find('label').text(newValue);\n        stepper.find('input')[0].value = newValue;\n        if (currentValue === min) {\n          $(this).addClass('disabled');\n        }\n      }\n    };\n\n    stepper.find('button:last-of-type').on('tap', function() {\n      increaseStepperValue.call(this, stepper);\n    });\n\n    stepper.find('button:first-of-type').on('tap', function() {\n      decreaseStepperValue.call(this, stepper);\n    });\n\n    return {\n      getValue: () => {\n        return stepper.find('input').val();\n      }\n    }\n  }\n});","// Truck Widget - Switches:\nimport '../truck';\nimport './setup';\n\n$.extend({\n  //=========================\n  // Create a switch control:\n  //=========================\n  Switch: options => {\n    if (!options || !options.element) return;\n    let __checked = false;\n    let settings = {\n      element: undefined,\n      name: undefined,\n      value: undefined,\n      checked: false,\n      onCallback: $.noop,\n      offCallback: $.noop\n    };\n\n    $.extend(settings, options);\n    let __selection = {\n      checked: __checked,\n      value: settings.value\n    };\n\n    let __element = $(settings.element);\n    __checked = settings.checked;\n\n    // Abrstract swipe for left-to-right and right-to-left:\n    let swipeOn = \"swiperight\";\n    let swipeOff = \"swipeleft\";\n    if (document.documentElement.dir === \"rtl\") {\n      swipeOn = \"swipeleft\";\n      swipeOff = \"swiperight\";\n    }\n\n    let checkState = settings.checked ? ' checked' : '';\n    const __switch = `<em></em><input type=\"checkbox\" name=\"${ settings.name }\" ${ checkState } value=\"${ settings.value }\">`;\n\n    __element.append(__switch);\n\n    if (__checked) {\n      __element.addClass('checked');\n      __element.attr('role', 'checkbox');\n    }\n\n    __element.on('tap', function() {\n      var checkbox = this.querySelector('input');\n      if (this.classList.contains('checked')) {\n        this.classList.remove('checked');\n        this.setAttribute('aria-checked', false);\n        checkbox.removeAttribute('checked');\n        __selection.checked = false;\n        __checked = false;\n        settings.offCallback.call(this);\n      } else {\n        this.classList.add('checked');\n        checkbox.setAttribute('checked', 'checked');\n        this.setAttribute('aria-checked', true);\n        __selection.checked = true;\n        __checked = true;\n        settings.onCallback.call(this);\n      }\n    });\n    __element.on(swipeOn, function() {\n      var checkbox = this.querySelector('input');\n      if (this.classList.contains('checked')) {\n        this.classList.remove('checked');\n        this.setAttribute('aria-checked', false);\n        checkbox.removeAttribute('checked');\n        __selection.checked = true;\n        __checked = true;\n        settings.offCallback.call(this);\n      }\n    });\n    __element.on(swipeOff, function() {\n      var checkbox = this.querySelector('input');\n      if (!this.classList.contains('checked')) {\n        this.classList.add('checked');\n        checkbox.setAttribute('checked', 'checked');\n        this.setAttribute('aria-checked', true);\n        __selection.checked = false;\n        __checked = false;\n        settings.onCallback.call(this);\n      }\n    });\n\n    return {\n      getValue: () => {\n        return __selection;\n      }\n    };\n  }\n});","// Truck Widget - Center Elements:\nimport '../truck';\n\n$.fn.extend({\n  //============================\n  // Center an Element on Screen\n  //============================\n  Center: function(position) {\n    if (!this[0]) return;\n    const $this = $(this);\n    const parent = $this.parent();\n    if (position) {\n      $(this.css('position', position));\n    } else if ($this.css('position') === 'absolute') {\n      position = 'absolute';\n    } else {\n      position = 'relative';\n    }\n    let height, width, parentHeight, parentWidth;\n    if (position === 'absolute') {\n      height = $this[0].clientHeight;\n      width = $this[0].clientWidth;\n      parentHeight = parent[0].clientHeight;\n      parentWidth = parent[0].clientWidth;\n    } else {\n      height = parseInt($this.css('height'), 10);\n      width = parseInt($this.css('width'), 10);\n      parentHeight = parseInt(parent.css('height'), 10);\n      parentWidth = parseInt(parent.css('width'), 10);\n      $(this).css({\n        'margin-left': 'auto',\n        'margin-right': 'auto'\n      });\n    }\n    let tmpTop, tmpLeft;\n    if (parent[0].nodeName === 'body') {\n      tmpTop = ((window.innerHeight / 2) + window.pageYOffset) - height / 2 + 'px';\n      tmpLeft = ((window.innerWidth / 2) - (width / 2) + 'px');\n    } else {\n      tmpTop = (parentHeight / 2) - (height / 2) + 'px';\n      tmpLeft = (parentWidth / 2) - (width / 2) + 'px';\n    }\n    if (position !== 'absolute') tmpLeft = 0;\n    $this.css({\n      left: tmpLeft,\n      top: tmpTop\n    });\n  }\n});","// Truck Widget - Button functions:\nimport '../truck';\n\nconst truckBackButtonSVG = `<svg id=\"truck-back-button-svg\" width=\"100px\" height=\"100px\" viewBox=\"0 0 100 100\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"truck-back-arrow\" stroke=\"#979797\"><path d=\"M50.7822487,4.05872022 L5.60302012,49.1913445 L50.4625593,94.6779982\" id=\"back-arrow-bracket\"></path><path d=\"M6,49.368351 L95.8300018,49.368351\" id=\"back-arrow-shaft\"></path></g></g></svg>`;\n\n$.fn.extend({\n  decorateBackButton: function() {\n    if ($(this).hasClass('back') || $(this).hasClass('backTo')) {\n      this.forEach(button => {\n        let temp = $(button).text();\n        $(button).html(`<span>${ temp }</span>`);\n        $(button).prepend(truckBackButtonSVG);\n      });\n    }\n  }\n});\n$(function() {\n  $('.back').decorateBackButton();\n  $('.backTo').decorateBackButton();\n  $('button').on($.eventStart, function() {\n    var button = $(this);\n    button.addClass('hover');\n    setTimeout(function() {\n      button.removeClass('hover');\n    }, 400);\n  });\n});","// Truck Widget - Adjust Navbar for iOS:\nimport '../truck';\nimport './setup';\n\n$(() => {\n\n  //===============================\n  // Method to center H1 in Navbar.\n  // Check on widths of siblings:\n  //===============================\n  $.extend({\n    AdjustNavbarLayout: (screen) => {\n      if (!$('link[href*=ios]')[0]) return;\n      screen = $(screen);\n      const h1 = screen.find('h1');\n      const siblings = h1.siblings();\n      let whichSide;\n      let oppositeSide;\n      const rtl = ($('html').attr('dir') === 'rtl');\n      let amount = 0;\n      let hidden = false;\n      let visibleSibling;\n\n      const calculateLongest = (a, b) => {\n        let widthA = a[0].clientWidth;\n        let widthB = b[0].clientWidth;\n        if (!widthA) {\n          widthA = 0;\n          whichSide = 'margin-right';\n          oppositeSide = 'margin-left';\n          if (rtl) {\n            whichSide = 'margin-left';\n            oppositeSide = 'margin-right';\n          }\n        }\n        if (!widthB) {\n          widthB = 0;\n          whichSide = 'margin-left';\n          oppositeSide = 'margin-right';\n          if (rtl) {\n            whichSide = 'margin-right';\n            oppositeSide = 'margin-left';\n          }\n        }\n        if (widthB > widthA) {\n          whichSide = 'margin-left';\n          oppositeSide = 'margin-right';\n          if (rtl) {\n            whichSide = 'margin-right';\n            oppositeSide = 'margin-left';\n          }\n          amount = (widthB - widthA);\n        } else if (widthA > widthB) {\n          whichSide = 'margin-right';\n          oppositeSide = 'margin-left';\n          if (rtl) {\n            whichSide = 'margin-left';\n            oppositeSide = 'margin-right';\n          }\n          amount = (widthA - widthB);\n        } else {\n          amount = 0;\n        }\n      };\n\n      function handleOneSibling(sib) {\n        const sibling = sib || h1.siblings();\n        amount = sibling[0].clientWidth;\n        if (sibling.is(':first-child')) {\n          whichSide = 'margin-right';\n          oppositeSide = 'margin-left';\n          if (rtl) {\n            whichSide = 'margin-left';\n            oppositeSide = 'margin-right';\n          }\n        } else if (sibling.is(':last-child')) {\n          whichSide = 'margin-left';\n          oppositeSide = 'margin-right';\n          if (rtl) {\n            whichSide = 'margin-right';\n            oppositeSide = 'margin-left';\n          }\n        }\n      }\n\n      // If one sibling:\n      if (siblings.length === 1) {\n        handleOneSibling();\n\n        // If two siblings:\n      } else if (siblings.length === 2) {\n        siblings.forEach(item => {\n          if ($(item).css('display') === 'none') {\n            hidden = true;\n          } else {\n            visibleSibling = $(item);\n          }\n        });\n        if (hidden) {\n          handleOneSibling(visibleSibling);\n        } else {\n          calculateLongest(siblings.eq(0), siblings.eq(1));\n        }\n\n        // H1 is alone:\n      } else {\n        whichSide = 'margin-left';\n        oppositeSide = 'margin-right';\n        amount = 0;\n      }\n      let props = {};\n      props[whichSide] = amount;\n      // props[oppositeSide] = 0;\n      let sibwidth = 0;\n      if (siblings.size()) {\n        siblings.forEach(function(item) {\n          sibwidth += $(item)[0].clientWidth;\n        });\n      }\n      // alert(amount)\n      const headerWidth = screen.find('nav').width() / 2;\n      if ((sibwidth + 20) > headerWidth) {\n        h1.css({\n          'margin-left': 0,\n          'margin-right': 0\n        });\n      } else {\n        h1.css(props);\n      }\n    }\n  });\n  setTimeout(() => {\n    $('screen').forEach(screen => {\n      $.AdjustNavbarLayout(screen);\n    });\n  });\n});","// Truck Widget - Setup:\nimport '../truck';\nimport './center';\nimport './buttons';\nimport './navbar';\n\n$(() => {\n  if (!/(mobile)|(ios)|(android)/img.test(navigator.userAgent)) {\n    $('body').addClass('isDesktop');\n  }\n  if ($('link[href*=ios]')[0]) {\n    $('body').addClass('isiOS');\n    $.AdjustNavbarLayout();\n  } else if ($('link[href*=android]')[0]) {\n    $('body').addClass('isAndroid');\n  } else if ($('link[href*=windows]')[0]) {\n    $('body').addClass('isWindows');\n  }\n});","// Truck Widget - Screens:\nimport '../truck';\n\n$(() => {\n  //=================================\n  // Interface for the app's screens:\n  //=================================\n  $.extend({\n    screens: $('screen')\n  });\n  $.extend($.screens, {\n    getCurrent: function() {\n      return this.hazClass('current');\n    },\n\n    getNext: function() {\n      return this.hazClass('next');\n    },\n\n    getPrevious: function() {\n      return this.hazClass('previous');\n    }\n  });\n});","// Truck Module - Mediator:\nimport '../truck';\n\n$.extend({\n    \n  /**\n   * Used by $.Mediator as mediator store. Do not touch!\n   */\n  MediatorStack: (array) => {\n    let __array = [];\n    if (array && Array.isArray(array)) {\n      let i = -1;\n      const len = array.length;\n      while (++i < len) {\n        __array[i] = array[i];\n      }\n    } else if (array) {\n      const arr = Array.prototype.slice.apply(arguments);\n      arr.forEach(function(ctx, idx) {\n        __array[idx] = ctx;\n      });\n    }\n    return {\n\n      size: () => __array.length,\n\n      push: data => __array.push(data),\n\n      eq: index => {\n        if (index < 0) {\n          return __array[__array.length + index];\n        } else {\n          return __array[index];\n        }\n      },\n\n      indexOf: () => __array.indexOf.apply(__array, arguments),\n\n      forEach: callback => {\n        let value;\n        let i = -1;\n        const len = __array.length;\n        while (++i < len) {\n          value = callback.call(__array[i], __array[i], i);\n          if (value === false) {\n            break;\n          }\n        }\n      },\n\n      setExecutable: (token, exec) => {\n        __array.forEach(receiver => {\n          if (receiver.token === token) {\n            receiver.exec = exec;\n            delete receiver.stopAfter;\n          }\n        });\n      },\n\n      setStopAfter: (token, stopAfter) => {\n        __array.forEach(receiver => {\n          if (receiver.token === token) {\n            receiver.stopAfter = stopAfter;\n          }\n        });\n      },\n\n      splice: () => __array.splice.apply(__array, arguments),\n\n      getData: () => __array\n    };\n  },\n\n  /**\n   * Object to hold all the receivers defined.\n   */\n  mediators: {},\n\n  /**\n   * Factory to create a mediator.\n   *\n   * @param {string} handle A string defining a handle the mediator listens for.\n   * @param {Function} callback A callback to execute when the mediator is executed.\n   * @return {object} A mediator object.\n   */\n  Mediator: (handle, callback) => {\n    if (!$.mediators[handle]) {\n      $.mediators[handle] = $.MediatorStack(); // jshint ignore:line\n    }\n    let __exec = true;\n    let __stopAfter;\n    const token = ($.uuid());\n    $.mediators[handle].push({\n      token: token,\n      callback: callback,\n      exec: true\n    });\n\n    var mtor = {};\n    $.extend(mtor, {\n      token: token,\n      handle: handle,\n      count: 0,\n      exec: __exec,\n\n      run: data => {\n        if(!mtor.exec) return;\n        if (__stopAfter && __stopAfter > 0) {\n          callback.call(this, data);\n          __stopAfter--;\n          if(!mtor.stopCount) mtor.count++;\n          $.mediators[handle].setStopAfter(token, __stopAfter);\n          if (__stopAfter === 0) {\n            mtor.exec = false;\n            $.mediators[handle].setExecutable(token, false);\n          }\n        } else {\n          if (callback) {\n            callback.call(this, data);\n            if (!mtor.stopCount) mtor.count++;\n          }\n        }\n      },\n\n      stop: stopAfter => {\n        if (stopAfter) {\n          __stopAfter = stopAfter;\n          $.mediators[handle].setStopAfter(token, stopAfter);\n        } else {\n          mtor.exec = false;\n          $.mediators[handle].setExecutable(token, false);\n        } \n      },\n\n      start: () => {\n        __exec = true;\n        $.mediators[handle].setExecutable(token, true);\n      }\n    });\n    return mtor;\n  },\n\n  /**\n   * Method to create a receiver which responds to dispatches.\n   *\n   * @param {string} handle A string defining the handle the receiver listens for.\n   * @param {Function} callback A callback to execute when the receiver's handle is dispatched.\n   * @return {object} A mediator object.\n   */\n  receive: (handle, callback) => {\n    return $.Mediator(handle, callback);\n  },\n\n  /**\n   * Method to create a dispatcher which sends a handle and any possible data to a receiver or mediator.\n   *\n   * @param {string} handle The handle to dispatch to.\n   * @param {any} args The data, if any, to send with the dispatch.\n   * @return {boolean}\n   */\n  dispatch: (handle, args) => {\n    if (!$.mediators[handle]) {\n      return false;\n    }\n    setTimeout(() => {\n      let len = $.mediators[handle] ? $.mediators[handle].size() : 0;\n      while (len--) {\n        if (!$.mediators[handle].eq(len).exec) return;\n        let stopAfter = $.mediators[handle].eq(len).stopAfter;\n        if (stopAfter > 0) {\n          $.mediators[handle].eq(len).callback(args);\n          stopAfter--;\n          $.mediators[handle].setStopAfter($.mediators[handle].eq(len).token, stopAfter);\n          if (stopAfter === 0) $.mediators[handle].eq(len).exec = false;\n        } else if (stopAfter === 0) {\n          return;\n        } else if (stopAfter === undefined) {\n          $.mediators[handle].eq(len).callback(args);\n        }\n      }\n      return true;\n    });\n    return true;\n  },\n\n  /**\n   * Method to restart a mediator, allowing it to respond to dispatches. Used if a mediator was stopped with `stopDispatch`.\n   *\n   * @param {object} mediator The mediator object to re-start.\n   * @param {void}\n   */\n  startDispatch: mediator => {\n    setTimeout(() => {\n      for (let m in $.mediators) {\n        if ($.mediators[m] && $.mediators[m].size()) {\n          $.mediators[m].forEach((item, i) => {\n            if (item.token === mediator.token) {\n              item.exec = true;\n            }\n          });\n        }\n      }\n      return false;\n    });\n  },\n\n  /**\n   * Method to stop a mediator. This prevents a mediator from runing when dispatches are sent to its handle.\n   *\n   * @param {object} mediator The mediator object to stop.\n   * @return {void}\n   */\n  stopDispatch: mediator => {\n    setTimeout(() => {\n      for (let m in $.mediators) {\n        if ($.mediators[m] && $.mediators[m].size()) {\n          $.mediators[m].forEach((item, i) => {\n            if (item.token === mediator.token) {\n              item.exec = false;\n            }\n          });\n        }\n      }\n      return false;\n    });\n  }\n});","/* */ \nvar defined = require('./$.defined');\nmodule.exports = function(it) {\n  return Object(defined(it));\n};\n","/* */ \nvar $export = require('./$.export'),\n    core = require('./$.core'),\n    fails = require('./$.fails');\nmodule.exports = function(KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY],\n      exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function() {\n    fn(1);\n  }), 'Object', exp);\n};\n","/* */ \nvar toObject = require('./$.to-object');\nrequire('./$.object-sap')('keys', function($keys) {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","/* */ \nrequire('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/$.core').Object.keys;\n","/* */ \nmodule.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","/* */ \n\"format cjs\";\n","/* */ \nvar toInteger = require('./$.to-integer'),\n    defined = require('./$.defined');\nmodule.exports = function(TO_STRING) {\n  return function(that, pos) {\n    var s = String(defined(that)),\n        i = toInteger(pos),\n        l = s.length,\n        a,\n        b;\n    if (i < 0 || i >= l)\n      return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","/* */ \n'use strict';\nvar $at = require('./$.string-at')(true);\nrequire('./$.iter-define')(String, 'String', function(iterated) {\n  this._t = String(iterated);\n  this._i = 0;\n}, function() {\n  var O = this._t,\n      index = this._i,\n      point;\n  if (index >= O.length)\n    return {\n      value: undefined,\n      done: true\n    };\n  point = $at(O, index);\n  this._i += point.length;\n  return {\n    value: point,\n    done: false\n  };\n});\n","/* */ \nmodule.exports = function(){ /* empty */ };","/* */ \nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};","/* */ \nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};","/* */ \nvar IObject = require('./$.iobject'),\n    defined = require('./$.defined');\nmodule.exports = function(it) {\n  return IObject(defined(it));\n};\n","/* */ \n'use strict';\nvar $ = require('./$'),\n    descriptor = require('./$.property-desc'),\n    setToStringTag = require('./$.set-to-string-tag'),\n    IteratorPrototype = {};\nrequire('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function() {\n  return this;\n});\nmodule.exports = function(Constructor, NAME, next) {\n  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","/* */ \n'use strict';\nvar LIBRARY = require('./$.library'),\n    $export = require('./$.export'),\n    redefine = require('./$.redefine'),\n    hide = require('./$.hide'),\n    has = require('./$.has'),\n    Iterators = require('./$.iterators'),\n    $iterCreate = require('./$.iter-create'),\n    setToStringTag = require('./$.set-to-string-tag'),\n    getProto = require('./$').getProto,\n    ITERATOR = require('./$.wks')('iterator'),\n    BUGGY = !([].keys && 'next' in [].keys()),\n    FF_ITERATOR = '@@iterator',\n    KEYS = 'keys',\n    VALUES = 'values';\nvar returnThis = function() {\n  return this;\n};\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind) {\n    if (!BUGGY && kind in proto)\n      return proto[kind];\n    switch (kind) {\n      case KEYS:\n        return function keys() {\n          return new Constructor(this, kind);\n        };\n      case VALUES:\n        return function values() {\n          return new Constructor(this, kind);\n        };\n    }\n    return function entries() {\n      return new Constructor(this, kind);\n    };\n  };\n  var TAG = NAME + ' Iterator',\n      DEF_VALUES = DEFAULT == VALUES,\n      VALUES_BUG = false,\n      proto = Base.prototype,\n      $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT],\n      $default = $native || getMethod(DEFAULT),\n      methods,\n      key;\n  if ($native) {\n    var IteratorPrototype = getProto($default.call(new Base));\n    setToStringTag(IteratorPrototype, TAG, true);\n    if (!LIBRARY && has(proto, FF_ITERATOR))\n      hide(IteratorPrototype, ITERATOR, returnThis);\n    if (DEF_VALUES && $native.name !== VALUES) {\n      VALUES_BUG = true;\n      $default = function values() {\n        return $native.call(this);\n      };\n    }\n  }\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: !DEF_VALUES ? $default : getMethod('entries')\n    };\n    if (FORCED)\n      for (key in methods) {\n        if (!(key in proto))\n          redefine(proto, key, methods[key]);\n      }\n    else\n      $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","/* */ \n'use strict';\nvar addToUnscopables = require('./$.add-to-unscopables'),\n    step = require('./$.iter-step'),\n    Iterators = require('./$.iterators'),\n    toIObject = require('./$.to-iobject');\nmodule.exports = require('./$.iter-define')(Array, 'Array', function(iterated, kind) {\n  this._t = toIObject(iterated);\n  this._i = 0;\n  this._k = kind;\n}, function() {\n  var O = this._t,\n      kind = this._k,\n      index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys')\n    return step(0, index);\n  if (kind == 'values')\n    return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\nIterators.Arguments = Iterators.Array;\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","/* */ \nrequire('./es6.array.iterator');\nvar Iterators = require('./$.iterators');\nIterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\n","/* */ \nmodule.exports = true;","/* */ \nvar global = require('./$.global'),\n    core = require('./$.core'),\n    ctx = require('./$.ctx'),\n    PROTOTYPE = 'prototype';\nvar $export = function(type, name, source) {\n  var IS_FORCED = type & $export.F,\n      IS_GLOBAL = type & $export.G,\n      IS_STATIC = type & $export.S,\n      IS_PROTO = type & $export.P,\n      IS_BIND = type & $export.B,\n      IS_WRAP = type & $export.W,\n      exports = IS_GLOBAL ? core : core[name] || (core[name] = {}),\n      target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE],\n      key,\n      own,\n      out;\n  if (IS_GLOBAL)\n    source = name;\n  for (key in source) {\n    own = !IS_FORCED && target && key in target;\n    if (own && key in exports)\n      continue;\n    out = own ? target[key] : source[key];\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key] : IS_BIND && own ? ctx(out, global) : IS_WRAP && target[key] == out ? (function(C) {\n      var F = function(param) {\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if (IS_PROTO)\n      (exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n$export.F = 1;\n$export.G = 2;\n$export.S = 4;\n$export.P = 8;\n$export.B = 16;\n$export.W = 32;\nmodule.exports = $export;\n","/* */ \nmodule.exports = function(it, Constructor, name){\n  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n  return it;\n};","/* */ \nvar anObject = require('./$.an-object');\nmodule.exports = function(iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined)\n      anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","/* */ \nvar Iterators = require('./$.iterators'),\n    ITERATOR = require('./$.wks')('iterator'),\n    ArrayProto = Array.prototype;\nmodule.exports = function(it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};","/* */ \nvar toInteger = require('./$.to-integer'),\n    min = Math.min;\nmodule.exports = function(it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0;\n};\n","/* */ \nvar cof = require('./$.cof'),\n    TAG = require('./$.wks')('toStringTag'),\n    ARG = cof(function() {\n      return arguments;\n    }()) == 'Arguments';\nmodule.exports = function(it) {\n  var O,\n      T,\n      B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null' : typeof(T = (O = Object(it))[TAG]) == 'string' ? T : ARG ? cof(O) : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","/* */ \nmodule.exports = {};","/* */ \nvar classof = require('./$.classof'),\n    ITERATOR = require('./$.wks')('iterator'),\n    Iterators = require('./$.iterators');\nmodule.exports = require('./$.core').getIteratorMethod = function(it) {\n  if (it != undefined)\n    return it[ITERATOR] || it['@@iterator'] || Iterators[classof(it)];\n};\n","/* */ \nvar ctx = require('./$.ctx'),\n    call = require('./$.iter-call'),\n    isArrayIter = require('./$.is-array-iter'),\n    anObject = require('./$.an-object'),\n    toLength = require('./$.to-length'),\n    getIterFn = require('./core.get-iterator-method');\nmodule.exports = function(iterable, entries, fn, that) {\n  var iterFn = getIterFn(iterable),\n      f = ctx(fn, that, entries ? 2 : 1),\n      index = 0,\n      length,\n      step,\n      iterator;\n  if (typeof iterFn != 'function')\n    throw TypeError(iterable + ' is not iterable!');\n  if (isArrayIter(iterFn))\n    for (length = toLength(iterable.length); length > index; index++) {\n      entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    }\n  else\n    for (iterator = iterFn.call(iterable); !(step = iterator.next()).done; ) {\n      call(iterator, f, step.value, entries);\n    }\n};\n","/* */ \nvar getDesc = require('./$').getDesc,\n    isObject = require('./$.is-object'),\n    anObject = require('./$.an-object');\nvar check = function(O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null)\n    throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? function(test, buggy, set) {\n    try {\n      set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n      set(test, []);\n      buggy = !(test instanceof Array);\n    } catch (e) {\n      buggy = true;\n    }\n    return function setPrototypeOf(O, proto) {\n      check(O, proto);\n      if (buggy)\n        O.__proto__ = proto;\n      else\n        set(O, proto);\n      return O;\n    };\n  }({}, false) : undefined),\n  check: check\n};\n","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};","/* */ \nvar isObject = require('./$.is-object');\nmodule.exports = function(it) {\n  if (!isObject(it))\n    throw TypeError(it + ' is not an object!');\n  return it;\n};\n","/* */ \nvar anObject = require('./$.an-object'),\n    aFunction = require('./$.a-function'),\n    SPECIES = require('./$.wks')('species');\nmodule.exports = function(O, D) {\n  var C = anObject(O).constructor,\n      S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","/* */ \nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};","/* */ \nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length) {\n  aFunction(fn);\n  if (that === undefined)\n    return fn;\n  switch (length) {\n    case 1:\n      return function(a) {\n        return fn.call(that, a);\n      };\n    case 2:\n      return function(a, b) {\n        return fn.call(that, a, b);\n      };\n    case 3:\n      return function(a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n  }\n  return function() {\n    return fn.apply(that, arguments);\n  };\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};","/* */ \nmodule.exports = require('./$.global').document && document.documentElement;\n","/* */ \nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};","/* */ \nvar isObject = require('./$.is-object'),\n    document = require('./$.global').document,\n    is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it) {\n  return is ? document.createElement(it) : {};\n};\n","/* */ \n(function(process) {\n  var ctx = require('./$.ctx'),\n      invoke = require('./$.invoke'),\n      html = require('./$.html'),\n      cel = require('./$.dom-create'),\n      global = require('./$.global'),\n      process = global.process,\n      setTask = global.setImmediate,\n      clearTask = global.clearImmediate,\n      MessageChannel = global.MessageChannel,\n      counter = 0,\n      queue = {},\n      ONREADYSTATECHANGE = 'onreadystatechange',\n      defer,\n      channel,\n      port;\n  var run = function() {\n    var id = +this;\n    if (queue.hasOwnProperty(id)) {\n      var fn = queue[id];\n      delete queue[id];\n      fn();\n    }\n  };\n  var listner = function(event) {\n    run.call(event.data);\n  };\n  if (!setTask || !clearTask) {\n    setTask = function setImmediate(fn) {\n      var args = [],\n          i = 1;\n      while (arguments.length > i)\n        args.push(arguments[i++]);\n      queue[++counter] = function() {\n        invoke(typeof fn == 'function' ? fn : Function(fn), args);\n      };\n      defer(counter);\n      return counter;\n    };\n    clearTask = function clearImmediate(id) {\n      delete queue[id];\n    };\n    if (require('./$.cof')(process) == 'process') {\n      defer = function(id) {\n        process.nextTick(ctx(run, id, 1));\n      };\n    } else if (MessageChannel) {\n      channel = new MessageChannel;\n      port = channel.port2;\n      channel.port1.onmessage = listner;\n      defer = ctx(port.postMessage, port, 1);\n    } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n      defer = function(id) {\n        global.postMessage(id + '', '*');\n      };\n      global.addEventListener('message', listner, false);\n    } else if (ONREADYSTATECHANGE in cel('script')) {\n      defer = function(id) {\n        html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function() {\n          html.removeChild(this);\n          run.call(id);\n        };\n      };\n    } else {\n      defer = function(id) {\n        setTimeout(ctx(run, id, 1), 0);\n      };\n    }\n  }\n  module.exports = {\n    set: setTask,\n    clear: clearTask\n  };\n})(require('process'));\n","/* */ \nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};","/* */ \n(function(process) {\n  var global = require('./$.global'),\n      macrotask = require('./$.task').set,\n      Observer = global.MutationObserver || global.WebKitMutationObserver,\n      process = global.process,\n      Promise = global.Promise,\n      isNode = require('./$.cof')(process) == 'process',\n      head,\n      last,\n      notify;\n  var flush = function() {\n    var parent,\n        domain,\n        fn;\n    if (isNode && (parent = process.domain)) {\n      process.domain = null;\n      parent.exit();\n    }\n    while (head) {\n      domain = head.domain;\n      fn = head.fn;\n      if (domain)\n        domain.enter();\n      fn();\n      if (domain)\n        domain.exit();\n      head = head.next;\n    }\n    last = undefined;\n    if (parent)\n      parent.enter();\n  };\n  if (isNode) {\n    notify = function() {\n      process.nextTick(flush);\n    };\n  } else if (Observer) {\n    var toggle = 1,\n        node = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true});\n    notify = function() {\n      node.data = toggle = -toggle;\n    };\n  } else if (Promise && Promise.resolve) {\n    notify = function() {\n      Promise.resolve().then(flush);\n    };\n  } else {\n    notify = function() {\n      macrotask.call(global, flush);\n    };\n  }\n  module.exports = function asap(fn) {\n    var task = {\n      fn: fn,\n      next: undefined,\n      domain: isNode && process.domain\n    };\n    if (last)\n      last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    }\n    last = task;\n  };\n})(require('process'));\n","/* */ \nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};","/* */ \nvar $ = require('./$'),\n    createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value) {\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value) {\n  object[key] = value;\n  return object;\n};\n","/* */ \nmodule.exports = require('./$.hide');\n","/* */ \nvar redefine = require('./$.redefine');\nmodule.exports = function(target, src) {\n  for (var key in src)\n    redefine(target, key, src[key]);\n  return target;\n};\n","/* */ \nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};","/* */ \nvar def = require('./$').setDesc,\n    has = require('./$.has'),\n    TAG = require('./$.wks')('toStringTag');\nmodule.exports = function(it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG))\n    def(it, TAG, {\n      configurable: true,\n      value: tag\n    });\n};\n","/* */ \nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};","/* */ \nmodule.exports = !require('./$.fails')(function() {\n  return Object.defineProperty({}, 'a', {get: function() {\n      return 7;\n    }}).a != 7;\n});\n","/* */ \n'use strict';\nvar core = require('./$.core'),\n    $ = require('./$'),\n    DESCRIPTORS = require('./$.descriptors'),\n    SPECIES = require('./$.wks')('species');\nmodule.exports = function(KEY) {\n  var C = core[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES])\n    $.setDesc(C, SPECIES, {\n      configurable: true,\n      get: function() {\n        return this;\n      }\n    });\n};\n","/* */ \nvar global = require('./$.global'),\n    SHARED = '__core-js_shared__',\n    store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key) {\n  return store[key] || (store[key] = {});\n};\n","/* */ \nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef","/* */ \nvar store = require('./$.shared')('wks'),\n    uid = require('./$.uid'),\n    Symbol = require('./$.global').Symbol;\nmodule.exports = function(name) {\n  return store[name] || (store[name] = Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};\n","/* */ \nvar ITERATOR = require('./$.wks')('iterator'),\n    SAFE_CLOSING = false;\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function() {\n    SAFE_CLOSING = true;\n  };\n  Array.from(riter, function() {\n    throw 2;\n  });\n} catch (e) {}\nmodule.exports = function(exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING)\n    return false;\n  var safe = false;\n  try {\n    var arr = [7],\n        iter = arr[ITERATOR]();\n    iter.next = function() {\n      safe = true;\n    };\n    arr[ITERATOR] = function() {\n      return iter;\n    };\n    exec(arr);\n  } catch (e) {}\n  return safe;\n};\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = require(\"npm:process@0.11.2/browser.js\");","module.exports = System._nodeRequire ? process : require('process');","module.exports = require(\"github:jspm/nodelibs-process@0.1.2/index\");","/* */ \n(function(process) {\n  'use strict';\n  var $ = require('./$'),\n      LIBRARY = require('./$.library'),\n      global = require('./$.global'),\n      ctx = require('./$.ctx'),\n      classof = require('./$.classof'),\n      $export = require('./$.export'),\n      isObject = require('./$.is-object'),\n      anObject = require('./$.an-object'),\n      aFunction = require('./$.a-function'),\n      strictNew = require('./$.strict-new'),\n      forOf = require('./$.for-of'),\n      setProto = require('./$.set-proto').set,\n      same = require('./$.same-value'),\n      SPECIES = require('./$.wks')('species'),\n      speciesConstructor = require('./$.species-constructor'),\n      asap = require('./$.microtask'),\n      PROMISE = 'Promise',\n      process = global.process,\n      isNode = classof(process) == 'process',\n      P = global[PROMISE],\n      Wrapper;\n  var testResolve = function(sub) {\n    var test = new P(function() {});\n    if (sub)\n      test.constructor = Object;\n    return P.resolve(test) === test;\n  };\n  var USE_NATIVE = function() {\n    var works = false;\n    function P2(x) {\n      var self = new P(x);\n      setProto(self, P2.prototype);\n      return self;\n    }\n    try {\n      works = P && P.resolve && testResolve();\n      setProto(P2, P);\n      P2.prototype = $.create(P.prototype, {constructor: {value: P2}});\n      if (!(P2.resolve(5).then(function() {}) instanceof P2)) {\n        works = false;\n      }\n      if (works && require('./$.descriptors')) {\n        var thenableThenGotten = false;\n        P.resolve($.setDesc({}, 'then', {get: function() {\n            thenableThenGotten = true;\n          }}));\n        works = thenableThenGotten;\n      }\n    } catch (e) {\n      works = false;\n    }\n    return works;\n  }();\n  var sameConstructor = function(a, b) {\n    if (LIBRARY && a === P && b === Wrapper)\n      return true;\n    return same(a, b);\n  };\n  var getConstructor = function(C) {\n    var S = anObject(C)[SPECIES];\n    return S != undefined ? S : C;\n  };\n  var isThenable = function(it) {\n    var then;\n    return isObject(it) && typeof(then = it.then) == 'function' ? then : false;\n  };\n  var PromiseCapability = function(C) {\n    var resolve,\n        reject;\n    this.promise = new C(function($$resolve, $$reject) {\n      if (resolve !== undefined || reject !== undefined)\n        throw TypeError('Bad Promise constructor');\n      resolve = $$resolve;\n      reject = $$reject;\n    });\n    this.resolve = aFunction(resolve), this.reject = aFunction(reject);\n  };\n  var perform = function(exec) {\n    try {\n      exec();\n    } catch (e) {\n      return {error: e};\n    }\n  };\n  var notify = function(record, isReject) {\n    if (record.n)\n      return;\n    record.n = true;\n    var chain = record.c;\n    asap(function() {\n      var value = record.v,\n          ok = record.s == 1,\n          i = 0;\n      var run = function(reaction) {\n        var handler = ok ? reaction.ok : reaction.fail,\n            resolve = reaction.resolve,\n            reject = reaction.reject,\n            result,\n            then;\n        try {\n          if (handler) {\n            if (!ok)\n              record.h = true;\n            result = handler === true ? value : handler(value);\n            if (result === reaction.promise) {\n              reject(TypeError('Promise-chain cycle'));\n            } else if (then = isThenable(result)) {\n              then.call(result, resolve, reject);\n            } else\n              resolve(result);\n          } else\n            reject(value);\n        } catch (e) {\n          reject(e);\n        }\n      };\n      while (chain.length > i)\n        run(chain[i++]);\n      chain.length = 0;\n      record.n = false;\n      if (isReject)\n        setTimeout(function() {\n          var promise = record.p,\n              handler,\n              console;\n          if (isUnhandled(promise)) {\n            if (isNode) {\n              process.emit('unhandledRejection', value, promise);\n            } else if (handler = global.onunhandledrejection) {\n              handler({\n                promise: promise,\n                reason: value\n              });\n            } else if ((console = global.console) && console.error) {\n              console.error('Unhandled promise rejection', value);\n            }\n          }\n          record.a = undefined;\n        }, 1);\n    });\n  };\n  var isUnhandled = function(promise) {\n    var record = promise._d,\n        chain = record.a || record.c,\n        i = 0,\n        reaction;\n    if (record.h)\n      return false;\n    while (chain.length > i) {\n      reaction = chain[i++];\n      if (reaction.fail || !isUnhandled(reaction.promise))\n        return false;\n    }\n    return true;\n  };\n  var $reject = function(value) {\n    var record = this;\n    if (record.d)\n      return;\n    record.d = true;\n    record = record.r || record;\n    record.v = value;\n    record.s = 2;\n    record.a = record.c.slice();\n    notify(record, true);\n  };\n  var $resolve = function(value) {\n    var record = this,\n        then;\n    if (record.d)\n      return;\n    record.d = true;\n    record = record.r || record;\n    try {\n      if (record.p === value)\n        throw TypeError(\"Promise can't be resolved itself\");\n      if (then = isThenable(value)) {\n        asap(function() {\n          var wrapper = {\n            r: record,\n            d: false\n          };\n          try {\n            then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n          } catch (e) {\n            $reject.call(wrapper, e);\n          }\n        });\n      } else {\n        record.v = value;\n        record.s = 1;\n        notify(record, false);\n      }\n    } catch (e) {\n      $reject.call({\n        r: record,\n        d: false\n      }, e);\n    }\n  };\n  if (!USE_NATIVE) {\n    P = function Promise(executor) {\n      aFunction(executor);\n      var record = this._d = {\n        p: strictNew(this, P, PROMISE),\n        c: [],\n        a: undefined,\n        s: 0,\n        d: false,\n        v: undefined,\n        h: false,\n        n: false\n      };\n      try {\n        executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n      } catch (err) {\n        $reject.call(record, err);\n      }\n    };\n    require('./$.redefine-all')(P.prototype, {\n      then: function then(onFulfilled, onRejected) {\n        var reaction = new PromiseCapability(speciesConstructor(this, P)),\n            promise = reaction.promise,\n            record = this._d;\n        reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n        reaction.fail = typeof onRejected == 'function' && onRejected;\n        record.c.push(reaction);\n        if (record.a)\n          record.a.push(reaction);\n        if (record.s)\n          notify(record, false);\n        return promise;\n      },\n      'catch': function(onRejected) {\n        return this.then(undefined, onRejected);\n      }\n    });\n  }\n  $export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: P});\n  require('./$.set-to-string-tag')(P, PROMISE);\n  require('./$.set-species')(PROMISE);\n  Wrapper = require('./$.core')[PROMISE];\n  $export($export.S + $export.F * !USE_NATIVE, PROMISE, {reject: function reject(r) {\n      var capability = new PromiseCapability(this),\n          $$reject = capability.reject;\n      $$reject(r);\n      return capability.promise;\n    }});\n  $export($export.S + $export.F * (!USE_NATIVE || testResolve(true)), PROMISE, {resolve: function resolve(x) {\n      if (x instanceof P && sameConstructor(x.constructor, this))\n        return x;\n      var capability = new PromiseCapability(this),\n          $$resolve = capability.resolve;\n      $$resolve(x);\n      return capability.promise;\n    }});\n  $export($export.S + $export.F * !(USE_NATIVE && require('./$.iter-detect')(function(iter) {\n    P.all(iter)['catch'](function() {});\n  })), PROMISE, {\n    all: function all(iterable) {\n      var C = getConstructor(this),\n          capability = new PromiseCapability(C),\n          resolve = capability.resolve,\n          reject = capability.reject,\n          values = [];\n      var abrupt = perform(function() {\n        forOf(iterable, false, values.push, values);\n        var remaining = values.length,\n            results = Array(remaining);\n        if (remaining)\n          $.each.call(values, function(promise, index) {\n            var alreadyCalled = false;\n            C.resolve(promise).then(function(value) {\n              if (alreadyCalled)\n                return;\n              alreadyCalled = true;\n              results[index] = value;\n              --remaining || resolve(results);\n            }, reject);\n          });\n        else\n          resolve(results);\n      });\n      if (abrupt)\n        reject(abrupt.error);\n      return capability.promise;\n    },\n    race: function race(iterable) {\n      var C = getConstructor(this),\n          capability = new PromiseCapability(C),\n          reject = capability.reject;\n      var abrupt = perform(function() {\n        forOf(iterable, false, function(promise) {\n          C.resolve(promise).then(capability.resolve, reject);\n        });\n      });\n      if (abrupt)\n        reject(abrupt.error);\n      return capability.promise;\n    }\n  });\n})(require('process'));\n","/* */ \nvar core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef","/* */ \nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/$.core').Promise;\n","/* */ \nmodule.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","/* */ \nvar $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};","/* */ \nvar $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc) {\n  return $.setDesc(it, key, desc);\n};\n","/* */ \nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","/* */ \n\"use strict\";\nvar _Object$defineProperty = require('../core-js/object/define-property')[\"default\"];\nexports[\"default\"] = (function() {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor)\n        descriptor.writable = true;\n      _Object$defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function(Constructor, protoProps, staticProps) {\n    if (protoProps)\n      defineProperties(Constructor.prototype, protoProps);\n    if (staticProps)\n      defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n})();\nexports.__esModule = true;\n","/* */ \n\"use strict\";\n\nexports[\"default\"] = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nexports.__esModule = true;","/**\n  * DOMStack, an abstraction of the native NodeList, allowing manipulation of DOM elements without having to extend native elements.\n  * @param {Element[] | Document | Element } args An array of elements, the document, or a node.\n  * @return {DOMStack} DOMStack\n  */\nexport class DOMStack {\n  constructor (args) {\n    this.array = [];\n    this.length = 0;\n    this.objectType = 'domstack';\n    if (Array.isArray(args)) {\n      let i = -1;\n      const len = args.length;\n      while (++i < len) {\n        this.array[i] = args[i];\n      }\n    } else if (args) {\n      if (args === document) {\n        this.array[0] = document;\n      } else {\n        const array = Array.prototype.slice.apply(arguments);\n        array.forEach(function(ctx, idx) {\n          this.array[idx] = ctx;\n        });\n      }\n    }\n  }\n\n  eq(index) {\n    let ret = new DOMStack();\n    if (!this.array.length) return ret;\n    let temp;\n    if (index < 0) {\n      temp = this.array[this.array.length + index];\n      ret.push(temp);\n    } else {\n      temp = this.array[index];\n      ret.push(temp);\n    }\n    ret[0] = ret.array[0];\n    ret.length = ret.array.length;\n    return ret;\n  }\n\n  push(data) {\n    this.array.push(data);\n    this.length = this.array.length;\n    this[0] = this.array[0];\n  }\n\n  pop() {\n    this.length = this.array.length - 1;\n    return this.array.pop();\n  }\n\n  unshift(data) {\n    this.array.unshift(data);\n    this[0] = this.array[0];\n    this.length = this.array.length;\n  }\n\n  shift() {\n    this.length = this.array.length - 1;\n    return this.array.shift();\n  }\n\n  size() {\n    return this.array.length;\n  }\n\n  forEach(callback) {\n    let value;\n    let i = 0;\n    const len = this.array.length;\n    for (; i < len; i++) {\n      value = callback.call(this.array[i], this.array[i], i);\n      if (value === false) {\n        break;\n      }\n    }\n  }\n\n  each(callback) {\n    let value;\n    let i = 0;\n    const len = this.array.length;\n    for (; i < len; i++) {\n      value = callback.call(this.array[i], i, this.array[i]);\n      if (value === false) {\n        break;\n      }\n    }\n  };\n\n  slice(...args) {\n    let ret = new DOMStack();\n    ret.concat(this.array.slice.apply(this.array, args));\n    ret.length = ret.array.length;\n    return ret;\n  };\n\n  splice(...args) {\n    this.array.splice.apply(this.array, args);\n    this[0] = this.array[0];\n    return this;\n  };\n\n  filter(...args) {\n    let ret = new DOMStack();\n\n    ret.concat(this.array.filter.apply(this.array, args));\n    ret[0] = ret.array[0];\n    return ret;\n  };\n\n  map(...args) {\n    let ret = new DOMStack();\n    ret.concat(this.array.map.apply(this.array, args));\n    ret[0] = ret.array[0];\n    return ret;\n  };\n\n  concat(collection) {\n    let i = -1;\n    let len;\n    let temp;\n    if (Array.isArray(collection)) {\n      temp = collection;\n      len = temp.length;\n    } else if (collection && collection.objectType && collection.objectType === 'domstack') {\n      temp = collection.getData();\n      len = temp.length;\n    } else if (collection.constructor.toString().match(/HTMLBodyElementConstructor/)) {\n      temp = [collection];\n      len = 1;\n    }\n    this.array.push.apply(this.array, temp);\n    this[0] = this.array[0];\n    this.length = this.array.length;\n  };\n\n  reverse(...args) {\n    this.array.reverse.apply(this.array, args);\n    this[0] = this.array[0];\n  };\n\n  indexOf(...args) {\n    return this.array.indexOf.apply(this.array, args);\n  };\n\n  every(...args) {\n    return this.array.every.apply(this.array, args);\n  };\n\n  some(...args) {\n    return this.array.some.apply(this.array, args);\n  };\n\n  unique() {\n    const len = this.array.length;\n    let ret = [];\n    let obj = {};\n    for (let i = 0; i < len; i++) {\n      const arrayItem = JSON.stringify(this.array[i]);\n      const arrayItemValue = this.array[i];\n      if (obj[arrayItem] === undefined) {\n        ret.push(arrayItemValue);\n        obj[arrayItem] = 1;\n      } else {\n        obj[arrayItem]++;\n      }\n    }\n    this.array = ret;\n    this[0] = this.array[0];\n    this.length = this.array.length;\n  };\n\n  getData() {\n    return this.array;\n  };\n\n  purge() {\n    this.array.length = 0;\n    this.length = 0;\n  }\n}","// Import DOMStack:\nimport {DOMStack} from './domstack.js';\n/**\n * Truck Core. This function exports the Truck singleton.\n */\nexport default (function(DOMStack) {\n\n\n  /**\n   * Truck singleton. This function can query the DOM with the provided parameters, or execute a callback when the DOM is ready. This is all the base for Truck methods for DOM manipulation, as well as for the Truck MVC modules and widgets.\n   */\n  function Truck(selector, context) {\n    const __this = this;\n    const idRE = /^#([\\w-]*)$/;\n    const classRE = /^\\.([\\w-])$/;\n    const tagRE = /^[\\w-]+$/;\n    const readyRE = /complete|loaded|interactive/;\n    let temp;\n\n    const slice = elements => {\n      temp = new DOMStack([].slice.apply(elements));\n      temp[0] = temp.array[0];\n      return temp;\n    };\n\n    const getId = selector => {\n      const el = document.getElementById(selector.split('#')[1]);\n      if (el) {\n        temp = new DOMStack([el]);\n        temp[0] = new DOMStack([el]).array[0];\n        temp.length = 1;\n        return temp;\n      } else {\n        return new DOMStack();\n      }\n    };\n\n    const getTag = (selector, context) => {\n      if (context) {\n        temp = slice(context.getElementsByTagName(selector));\n        temp[0] = temp.array[0];\n        temp.length = temp.length;\n        return temp;\n      } else {\n        temp = slice(document.getElementsByTagName(selector));\n        temp[0] = temp.array[0];\n        temp.length = temp.array.length;\n        return temp;\n      }\n    };\n\n    const getClass = (selector, context) => {\n      if (context) {\n        temp = slice(context.getElementsByClassName(selector.split('.')[1]));\n        temp[0] = temp.array[0];\n        temp.length = temp.length;\n        return temp;\n      } else {\n        temp = slice(document.getElementsByClassName(selector.split('.')[1]));\n        temp[0] = temp.array[0];\n        temp.length = temp.array.length;\n        return temp;\n      }\n    };\n\n    const getNode = (selector, context) => {\n      if (typeof selector === 'string')\n        selector = selector.trim();\n      if (typeof selector === 'string' && idRE.test(selector)) {\n        return getId(selector);\n      }\n\n      if (selector && (selector instanceof Array) && selector.length)\n        return selector;\n      if (!context && typeof selector === 'string') {\n        if (/<\\/?[^>]+>/.test(selector)) {\n          return __this.html(selector);\n        }\n\n        if (tagRE.test(selector)) {\n          return getTag(selector);\n\n        } else if (classRE.test(selector)) {\n          return getClass(selector);\n\n        } else {\n          temp = slice(document.querySelectorAll(selector));\n          temp[0] = temp.array[0];\n          temp.length = temp.array.length;\n          return temp;\n        }\n\n      } else {\n        if (context) {\n          temp = slice($(context).find(selector));\n          temp[0] = temp.array[0];\n          temp.length = temp.array / length;\n          return temp;\n\n        } else {\n          temp = slice(document.querySelectorAll(selector));\n          temp[0] = temp.array[0];\n          temp.length = temp.array.length;\n          return temp;\n        }\n      }\n    };\n\n    if (selector && selector.objectType && selector.objectType === 'domstack') {\n      return selector;\n    }\n\n    if (selector === document) {\n      return new DOMStack(document);\n    }\n\n    if (selector === null) {\n      return new DOMStack();\n    }\n\n    if (!!context) {\n      if (typeof context === 'string') {\n        temp = slice(document.querySelectorAll(context + ' ' + selector));\n        temp[0] = temp.array[0];\n        temp.length = temp.array.length;\n        return temp;\n      } else if (context.nodeType === 1) {\n        return getNode(selector, context);\n      }\n\n    } else if (typeof selector === 'function') {\n      if (readyRE.test(document.readyState) && document.body) {\n        selector.call(selector);\n      } else {\n        document.addEventListener(\"DOMContentLoaded\", function() {\n          return selector.call(selector);\n        });\n      }\n\n    } else if (selector && selector.nodeType === 1) {\n      temp = new DOMStack();\n      temp[0] = selector;\n      temp.length = temp.array.length;\n      temp.push(selector);\n      return temp;\n\n    } else if (typeof selector === 'string') {\n      if (selector === '') return new DOMStack();\n      if (/<\\/?[^>]+>/.test(selector)) {\n        return Truck.html(selector);\n      } else {\n        try {\n          return getNode(selector) ? getNode(selector) : new DOMStack();\n        } catch (err) {\n          return new DOMStack();\n        }\n      }\n\n    } else if (Array.isArray(selector)) {\n      return new DOMStack(selector);\n      \n    } else if (selector === window) {\n      temp = new DOMStack();\n      temp[0] = window;\n      temp.length = temp.array.length;\n      return temp;\n\n    } else {\n      return new DOMStack();\n    }\n\n    return new DOMStack();\n  }\n  \n  let $ = Truck;\n\n  /**\n   * Truck extend method.\n   */\n  $.extend = (targetObject, sourceObject) => {\n    if (!sourceObject) {\n      sourceObject = targetObject;\n      targetObject = Truck;\n    }\n    let keys = Object.keys(sourceObject);\n    let len = keys.length;\n    while (len--) {\n      targetObject[keys[len]] = sourceObject[keys[len]];\n    }\n    return Truck;\n  };\n\n\n  /**\n   * Truck collection extend method.\n   */\n  $.fn = {\n    extend: object => $.extend(DOMStack.prototype, object)\n  };\n\n  /**\n   * Truck utility methods.\n   */\n  $.extend({\n    lib: \"TruckJS\",\n\n    version: '1.0.0',\n\n    noop: () => {},\n\n    uuid: () => {\n      let d = Date.now();\n      const charset = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\".split('');\n      const randomLetter = charset[Math.floor(Math.random() * charset.length)];\n      return randomLetter + 'xxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        let r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n      });\n    },\n\n    html: HTMLString => {\n      let ret = new DOMStack();\n      let temp;\n\n      const wrapperMap = {\n        option: [1, \"<select multiple='multiple'>\", \"</select>\"],\n        legend: [1, \"<fieldset>\", \"</fieldset>\"],\n        area: [1, \"<map>\", \"</map>\"],\n        param: [1, \"<object>\", \"</object>\"],\n        thead: [1, \"<table>\", \"</table>\"],\n        tr: [2, \"<table><tbody>\", \"</tbody></table>\"],\n        col: [2, \"<table><tbody></tbody><colgroup>\", \"</colgroup></table>\"],\n        td: [3, \"<table><tbody><tr>\", \"</tr></tbody></table>\"],\n        __default: [1, \"<div>\", \"</div>\"]\n      };\n\n      wrapperMap.optgroup = wrapperMap.option;\n      wrapperMap.tbody = wrapperMap.tfoot = wrapperMap.colgroup = wrapperMap.caption = wrapperMap.thead;\n      wrapperMap.th = wrapperMap.td;\n\n      let element = document.createElement('div');\n      const match = /<\\s*\\w.*?>/g.exec(HTMLString);\n\n      if (match !== null) {\n        const tag = match[0].replace(/</g, '').replace(/>/g, '');\n        const map = wrapperMap[tag] || wrapperMap.__default;\n        HTMLString = map[1] + HTMLString + map[2];\n\n        element.innerHTML = HTMLString;\n        element = element.lastChild;\n\n        temp = Array.prototype.slice.apply(element.childNodes);\n        temp.forEach(ctx => {\n          if (ctx.nodeType === 1) {\n            ret.push(ctx);\n          } else if (ctx.nodeType === 3 && ctx.nodeValue.trim().length !== 0) {\n            ret.push(ctx);\n          }\n        });\n\n      } else {\n        element.innerHTML = HTMLString;\n        element = element.lastChild;\n        ret.push(element);\n      }\n\n      return ret;\n    },\n\n    require: (src, callback, ctx) => {\n      let onerror = \"onerror\";\n      const insertScript = function(script) {\n        let firstScript = document.getElementsByTagName(\"script\")[0];\n        firstScript.parentNode.insertBefore(script, firstScript);\n      };\n      let script = document.createElement(\"script\");\n      let done = false;\n      let err;\n      let loadScript;\n      const handleError = function() {\n        err = new Error(src || \"EMPTY\");\n        loadScript();\n      };\n      const setupLoad = function(fn) {\n        return function() {\n          // Only call once.\n          if (done) {\n            return;\n          }\n          done = true;\n          fn();\n          if (callback) {\n            callback.call(ctx, err);\n          }\n        };\n      };\n\n      loadScript = setupLoad(function() {\n        script.onload = script[onerror] = null;\n      });\n\n      script[onerror] = handleError;\n      script.onload = loadScript;\n      script.async = true;\n      script.charset = \"utf-8\";\n      script.src = src;\n      insertScript(script);\n    },\n\n    delay: milliseconds => {\n      return new Promise(function (resolve, reject) {\n        setTimeout(resolve, milliseconds);\n      });\n    },\n\n    each: (obj, callback) => {\n      let value;\n      let key;\n      let i = 0;\n      let length;\n\n      if (Array.isArray(obj)) {\n        length = obj.length;\n        for (; i < length; i++) {\n          value = callback.call(obj[i], i, obj[i]);\n          if (value === false) {\n            break;\n          }\n        }\n        return obj;\n      } else if (obj.objectType && obj.objectType === 'domstack') {\n        obj.forEach((item, idx) => callback.call(item, idx, item));\n        return obj;\n      } else if ($.type(obj) === 'object' && Object.keys(obj).length) {\n        for (key in obj) {\n          if (callback.call(obj[key], key, obj[key]) === false) return obj;\n        }\n      }\n    },\n\n    unique: array => {\n      if (!array || !Array.isArray(array)) return;\n      const len = array.length;\n      let obj = {};\n      let ret = [];\n      for (let i = 0; i < len; i++) {\n        const arrayItem = JSON.stringify(array[i]);\n        const arrayItemValue = array[i];\n        if (obj[arrayItem] === undefined) {\n          ret.push(arrayItemValue);\n          obj[arrayItem] = 1;\n        } else {\n          obj[arrayItem]++;\n        }\n      }\n      return ret;\n    },\n\n    // Replace target element with new element:\n    replace: (newElement, targetElement) => {\n      if (!newElement || !targetElement) return;\n      let newEl;\n      let targEl;\n      if (typeof newElement === 'string') {\n        newEl = $(newElement)[0];\n      } else if (newElement.objectType && newElement.objectType === 'domstack') {\n        newEl = newElement[0];\n      } else if (newElement.nodeType === 1) {\n        newEl = newElement;\n      }\n      if (typeof targetElement === 'string') {\n        targEl = $(targetElement)[0];\n      } else if (targetElement.objectType && targetElement.objectType === 'domstack') {\n        targEl = targetElement[0];\n      } else if (targetElement.nodeType === 1) {\n        targEl = targetElement;\n      }\n      // Remove target's bound events:\n      $(targEl).off();\n      targEl.parentNode.replaceChild(newEl, targEl);\n    },\n\n    // Extra boolean types:\n    isEmptyObject: obj =>  Object.keys(obj).length === 0,\n\n    isInteger: number => (typeof number === 'number' && number % 1 === 0),\n\n    isFloat: number => (typeof number === 'number' && number % 1 !== 0),\n\n    encode: value => encodeURIComponent(value),\n\n    escapeHTML: data => {\n      const tagsToReplace = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '(': '%28',\n        ')': '%29'\n      };\n      let str = JSON.stringify(data);\n\n      const replaceTag = (tag) => tagsToReplace[tag] || tag;\n\n      const safe_tags_replace = (str) => str.replace(/[&<>]/g, replaceTag);\n\n      str = safe_tags_replace(str);\n      return JSON.parse(str);\n    },\n\n    concat: args => (args instanceof Array) ? args.join('') : [].slice.apply(arguments).join('')\n  });\n\n  /**\n   * Truck types method.\n   */\n  $.extend({\n    type: type => {\n      switch (typeof type) {\n        case 'boolean':\n          return 'boolean';\n        case 'number':\n          return 'number';\n        case 'string':\n          return 'string';\n        case 'function':\n          return 'function';\n        case 'object':\n          if (Array.isArray(type)) {\n            return 'array';\n          } else if (Object.prototype.toString.call(type) === '[object Date]') {\n            return 'date';\n          } else if (Object.prototype.toString.call(type) === '[object Error]') {\n            return 'error';\n          } else if (Object.prototype.toString.call(type) === '[object RegExp]') {\n            return 'regexp';\n          } else if (Object.prototype.toString.call(type) === '[object Object]') {\n            return 'object';\n          }\n      }\n    }\n  });\n\n  /**\n   * Truck string methods.\n   */\n  $.extend({\n    camelize: string => {\n      if (typeof string !== 'string')\n        return;\n      return string.replace(/\\-(.)/g, (match, letter) => {\n        return letter.toUpperCase();\n      });\n    },\n\n    deCamelize: string => {\n      if (typeof string !== 'string')\n        return;\n      return string.replace(/([A-Z])/g, '-$1').toLowerCase();\n    },\n\n    capitalize: (string, all) => {\n      const self = this;\n      if (!string) {\n        return;\n      }\n      if (typeof string !== 'string')\n        return;\n      if (all) {\n        const str = string.split(' ');\n        let newstr = [];\n        str.forEach(item => {\n          return newstr.push(self.capitalize(item));\n        });\n        return newstr.join(' ');\n      } else {\n        return string.charAt(0).toUpperCase() + string.substring(1).toLowerCase();\n      }\n    }\n  });\n\n  /**\n   * Truck DOM method.\n   */\n  $.fn.extend({\n    find: function(selector, context) {\n      let ret = new DOMStack();\n      if (!this.size())\n        return ret;\n      if (context) {\n        $(context).forEach(() => {\n          Array.prototype.slice.apply(context.querySelectorAll(selector)).forEach(node=> {\n            return ret.push(node);\n          });\n        });\n      } else {\n        this.forEach(ctx => {\n          if (ctx && ctx.children && ctx.children.length) {\n            Array.prototype.slice.apply(ctx.querySelectorAll(selector)).forEach(node => {\n              return ret.push(node);\n            });\n          }\n        });\n      }\n      return ret;\n    },\n\n    is: function(arg) {\n      let ret = false;\n      if (!this.size() || !arg) return;\n      if (!this.size()) return;\n      const that = this;\n      const __is = (node, arg) => {\n        if (typeof arg === 'string') {\n          let elements = Array.prototype.slice.apply(node.parentNode.querySelectorAll(arg));\n          if (elements.length) {\n            if (elements.indexOf(node) >= 0) {\n              ret = true;\n            }\n          }\n        } else if (typeof arg === 'function') {\n          if (arg.call(that)) {\n            ret = true;\n          }\n        } else if (arg.objectType && arg.objectType === 'domstack') {\n          if (node === arg[0]) {\n            ret = true;\n          }\n        } else if (arg && arg.length) {\n          if (this.slice.apply(arg).indexOf(node) !== -1) {\n            ret = true;\n          }\n        } else if (arg.nodeType === 1) {\n          if (node === arg) {\n            ret = true;\n          }\n        } else {\n          return;\n        }\n        return ret;\n      };\n      this.forEach(item => {\n        if (__is(item, arg)) {\n          ret = true;\n        }\n      });\n      return ret;\n    },\n\n    not: function(selector) {\n      if (!this.size() || !selector) return new DOMStack();\n      let ret = new DOMStack();\n      let temp = [];\n      let elems;\n      if (typeof selector === 'string') {\n        elems = Array.prototype.slice.apply(this.array[0].parentNode.querySelectorAll(selector));\n        this.forEach(element => {\n          if (!elems[0]) {\n            ret.push(element);\n          } else {\n            elems.forEach(item => {\n              if (element !== item) {\n                ret.push(element);\n              }\n            });\n          }\n        });\n        return ret;\n      } else if (selector && selector.objectType && selector.objectType === 'domstack') {\n        this.forEach(element => {\n          selector.forEach(node => {\n            if (node !== element) {\n              temp.push(element);\n            }\n          });\n        });\n        if (temp.length) {\n          ret.concat(temp);\n        }\n        return ret;\n      } else if (selector && selector.nodeType === 1) {\n        this.forEach(element => {\n          if (element !== selector) {\n            temp.push(element);\n          }\n        });\n        if (temp.length) {\n          ret.concat(temp);\n        }\n        return ret;\n      }\n    },\n\n    has: function(arg) {\n      if (!this.size()) return new DOMStack();\n      let items = new DOMStack();\n\n      const __has = (node, arg) => {\n        if (typeof arg === 'string') {\n          if (node.querySelector(arg)) {\n            return true;\n          }\n        } else if (arg.nodeType === 1) {\n          if (Array.prototype.slice(this.children).data.indexOf(arg)) {\n            return true;\n          }\n        } else {\n          return false;\n        }\n      };\n\n      this.forEach(element => {\n        if (__has(element, arg)) {\n          items.push(element);\n        }\n      });\n      return items;\n    },\n\n    prev: function(selector) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      let children;\n      const prevElement = this[0].previousElementSibling;\n      if (selector && typeof selector === 'string') {\n        children = this.siblings(selector);\n        children.forEach(element => {\n          if (prevElement === element) ret.push(element);\n        });\n      } else {\n        ret.push(this[0].previousElementSibling);\n      }\n      return ret;\n    },\n\n    prevAll: function(selector) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      let __siblings;\n      const __self = this[0];\n      let __sibs = Array.prototype.slice.apply(this[0].parentNode.children);\n      let pos = __sibs.indexOf(__self);\n      __sibs.splice(pos, __sibs.length - 1);\n      if (selector && typeof selector === 'string') {\n        __siblings = this.siblings(selector).array;\n        __sibs.forEach(element => {\n          if (__siblings.indexOf(element) > -1) {\n            ret.push(element);\n          }\n        });\n      } else {\n        __siblings = Array.prototype.slice.apply(this[0].parentNode.children);\n        pos = __siblings.indexOf(__self);\n        __siblings.splice(pos, __siblings.length - 1);\n        ret.concat(__siblings);\n      }\n      return ret;\n    },\n\n    next: function(selector) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      let children;\n      let nextElement = this[0].nextElementSibling;\n      if (selector && typeof selector === 'string') {\n        children = this.siblings(selector);\n        children.forEach(element => {\n          if (nextElement === element) ret.push(element);\n        });\n      } else {\n        ret.push(this[0].nextElementSibling);\n      }\n      return ret;\n    },\n\n    nextAll: function(selector) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      let __siblings;\n      let __parent;\n      const __self = this[0];\n      let __sibs = Array.prototype.slice.apply(this[0].parentNode.children);\n      let pos = __sibs.indexOf(__self);\n      __sibs.splice(0, pos + 1);\n      if (selector && typeof selector === 'string') {\n        __parent = this.array[0].parentNode;\n        __siblings = $(__parent).find(selector);\n        __sibs.splice(0, __sibs.indexOf(this.array[0]));\n        __sibs.forEach(element => {\n          if (__siblings.array.indexOf(element) > -1) {\n            ret.push(element);\n          }\n        });\n      } else {\n        __siblings = Array.prototype.slice.apply(this[0].parentNode.children);\n        pos = __siblings.indexOf(__self);\n        __siblings.splice(0, pos + 1);\n        ret.concat(__siblings);\n      }\n      return ret;\n    },\n\n    first: function() {\n      if (!this.size()) return new DOMStack();\n      return this.eq(0);\n\n    },\n\n    last: function() {\n      if (!this.size()) return new DOMStack();\n      return this.eq(-1);\n    },\n\n    index: function(element) {\n      if (!this.size()) return undefined;\n      if (!element) {\n        return Array.prototype.slice.apply(this[0].parentNode.children).indexOf(this[0]);\n      } else {\n        if (element && element.objectType && element.objectType === 'domstack') {\n          return this.indexOf(element.getData()[0]);\n        } else if (element.nodeType === 1) {\n          return this.indexOf(element);\n        } else {\n          return this.indexOf(element);\n        }\n      }\n    },\n\n    children: function(selector) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      if (!selector) {\n        this.forEach(node => {\n          Array.prototype.slice.apply(node.children).forEach(ctx => ret.push(ctx));\n        });\n        ret[0] = ret.array[0];\n      } else {\n        this.forEach(node => {\n          Array.prototype.slice.apply(node.children).forEach(ctx => {\n            if ($(ctx).is(selector)) {\n              ret.push(ctx);\n            }\n          });\n        });\n        ret[0] = ret.array[0];\n      }\n      return ret;\n    },\n\n    siblings: function(selector) {\n      if (!this.size())\n        return new DOMStack();\n      let __siblings;\n      let ret = new DOMStack();\n      const $this = this;\n      let parent;\n      let children = Array.prototype.slice.apply(this.array[0].parentNode.children);\n\n      // Remove this from siblings;\n      var pos = children.indexOf($this[0]);\n      children.splice(pos, 1);\n\n      children.splice(children.indexOf(this.array[0]), 0);\n      if (selector && typeof selector === 'string') {\n        parent = this.array[0].parentNode;\n        __siblings = $(parent).find(selector);\n        __siblings.array.splice(__siblings.array.indexOf(this.array[0]), 0);\n        ret.concat(__siblings.array);\n      } else {\n        ret.concat(children);\n      }\n      return ret;\n    },\n\n    parent: function() {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      this.forEach(ctx => {\n        return ret.push(ctx.parentNode);\n      });\n      ret.unique();\n      return ret;\n    },\n\n    closest: function(selector) {\n      if (!this.size())\n        return new DOMStack();\n      let ret = new DOMStack();\n      if (typeof selector === 'undefined') {\n        return new DOMStack();\n      }\n      let position = null;\n      let p = this[0].parentNode;\n      if (!p) {\n        return new DOMStack();\n      }\n      if (typeof selector === 'string') {\n        selector.trim();\n      }\n      if (typeof selector === 'number') {\n        position = selector || 1;\n        for (let i = 1; i < position; i++) {\n          if (p && p.nodeName === 'HTML') {\n            return p;\n          } else {\n            if (p !== null) {\n              p = p.parentNode;\n            }\n          }\n        }\n        ret.push(p);\n      } else if (typeof selector === 'string') {\n        if (p && $(p).is(selector)) {\n          ret.push(p);\n        } else {\n          ret.push($(p).closest(selector).array[0]);\n        }\n      }\n      return ret;\n    },\n\n    css: function(property, value) {\n      if (!this.size()) return new DOMStack();\n      const pixelRE = /top|bottom|left|right|margin|padding/img;\n      let postFix = '';\n      let ret = new DOMStack();\n      const testForPixelSupport = (value, property) => {\n        if ($.type(value) === 'number' && property.match(pixelRE)) {\n          postFix = 'px';\n        }\n      };\n      if (!property) return new DOMStack();\n      if (!value && $.type(property) === 'object') {\n        this.forEach(node => {\n          for (var key in property) {\n            if (property.hasOwnProperty(key)) {\n              testForPixelSupport(property[key], key);\n              node.style[$.camelize(key)] = property[key] + postFix;\n            }\n          }\n          ret.push(node);\n        });\n      } else if (!value && typeof property === 'string') {\n        if (!this.size())\n          return;\n        return document.defaultView.getComputedStyle(this.eq(0).array[0], null).getPropertyValue(property.toLowerCase());\n      } else if (!!value) {\n        this.forEach(node => {\n          testForPixelSupport(value, property);\n          node.style[$.camelize(property)] = value + postFix;\n          ret.push(node);\n        });\n      }\n      return ret;\n    },\n\n    width: function() {\n      if (!this.size())\n        return;\n      return this.eq(0).array[0].clientWidth;\n    },\n\n    height: function() {\n      if (!this.size())\n        return;\n      return this.eq(0).array[0].clientHeight;\n    },\n\n    before: function(content) {\n      if (!this.size()) {\n        return new DOMStack();\n      }\n      const __before = (node, content) => {\n        if (typeof content === 'string' || typeof content === 'number') {\n          content = $.html(content);\n        }\n        if (content && content.objectType && content.objectType === 'domstack') {\n          const len = content.size();\n          let i = 0;\n          while (i < len) {\n            node.parentNode.insertBefore(content.array[i], node);\n            i++;\n          }\n        } else if (content && content.nodeType === 1) {\n          node.parentNode.insertBefore(content, node);\n        }\n        return this;\n      };\n      this.forEach(node => {\n        return __before(node, content);\n      });\n      return this;\n    },\n\n    after: function(args) {\n      if (!this.size()) return new DOMStack();\n      const __after = (node, content) => {\n        let parent = node.parentNode;\n        if (typeof content === 'string' || typeof content === 'number') {\n          content = $.html(content);\n        }\n        if (content && content.objectType && content.objectType === 'domstack') {\n          let i = 0,\n            len = content.size();\n          while (i < len) {\n            if (node === parent.lastChild) {\n              parent.appendChild(content.array[i]);\n            } else {\n              parent.insertBefore(content.array[i], node.nextSibling);\n            }\n            i++;\n          }\n        } else if (content && content.nodeType === 1) {\n          parent.appendChild(content);\n        }\n        return this;\n      };\n      this.forEach(node => {\n        return __after(node, args);\n      });\n      return this;\n    },\n\n    prepend: function(content) {\n      if (!this.size()) return new DOMStack();\n\n      if (typeof content === 'string' || typeof content === 'number') {\n        this.forEach(element => {\n          element.insertAdjacentHTML('afterbegin', content);\n        });\n      } else if (content && content.objectType && content.objectType === 'domstack') {\n        this.forEach(element => {\n          content.forEach(node => {\n            element.insertBefore(node, element.firstChild);\n          });\n        });\n      } else if (content && content.nodeType === 1) {\n        this.forEach(element => {\n          element.insertBefore(node, element.firstChild);\n        });\n      }\n      return this;\n    },\n\n    append: function(content) {\n      if (!this.size()) return new DOMStack();\n\n      if (typeof content === 'string' || typeof content === 'number') {\n        this.forEach(element => {\n          element.insertAdjacentHTML('beforeend', content);\n        });\n      } else if (content && content.objectType && content.objectType === 'domstack') {\n        this.forEach(element => {\n          content.forEach(node => {\n            element.insertBefore(node, null);\n          });\n        });\n\n      } else if (content && content.nodeType === 1) {\n        this.forEach(element => {\n          element.insertBefore(node, null);\n        });\n      }\n      return this;\n    },\n\n    prependTo: function(selector) {\n      if (!this.size()) return new DOMStack();\n      this.reverse();\n      this.forEach(item => {\n        return $(selector).prepend(item);\n      });\n      return this;\n    },\n\n    appendTo: function(selector) {\n      if (!this.size()) return new DOMStack();\n      this.forEach(item => {\n        return $(selector).append(item);\n      });\n      return this;\n    },\n\n    clone: function(value) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      this.forEach(ctx => {\n        if (value === true || !value) {\n          ret.push(ctx.cloneNode(true));\n        } else {\n          ret.push(ctx.cloneNode(false));\n        }\n      });\n      return ret;\n    },\n\n    wrap: function(string) {\n      if (!this.size() || !string) return new DOMStack();\n      let tempNode;\n      let empNode;\n      let whichClone;\n      this.forEach(ctx => {\n        tempNode = $.html(string);\n        empNode = tempNode.array[0];\n        whichClone = $(ctx).clone(true);\n        tempNode.append(whichClone);\n        $(ctx).before(tempNode);\n        $(ctx).remove();\n      });\n    },\n\n    unwrap: function() {\n      if (!this.size()) return new DOMStack();\n      let parentNode = null;\n      this.forEach(node => {\n        if (node.parentNode === parentNode) {\n          return;\n        }\n        parentNode = node.parentNode;\n        if (node.parentNode.nodeName === 'BODY') {\n          return false;\n        }\n        $.replace(node, node.parentNode);\n      });\n    },\n\n    offset: function() {\n      if (!this.size())\n        return;\n      const offset = this.eq(0).array[0].getBoundingClientRect();\n      return {\n        top: Math.round(offset.top),\n        left: Math.round(offset.left)\n      };\n    },\n\n    position: function() {\n      let obj = {\n        top: 0,\n        left: 0\n      };\n      const pos = this.array[0].getBoundingClientRect();\n      const borderTop = parseInt(this.parent().css('border-top-width'), 10) || 0;\n      const borderLeft = parseInt(this.parent().css('border-left-width'), 10) || 0;\n      const parentPos = this.array[0].parentNode.getBoundingClientRect();\n      var compareOffsets1 = function(val1, val2) {\n        return Math.round(val1 - val2);\n      };\n      obj.top = compareOffsets1(pos.top, (parentPos.top + borderTop));\n      obj.left = compareOffsets1(pos.left, (parentPos.left + borderLeft));\n      return obj;\n    },\n\n    empty: function() {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      this.forEach(ctx => {\n        $(ctx).children().off();\n        ctx.textContent = '';\n        ret.push(ctx);\n      });\n      return ret;\n    },\n\n    html: function(content) {\n      if (!this.size()) return new DOMStack();\n      if (content === '') {\n        this.forEach(node => {\n          node.innerHTML = '';\n        });\n        return this;\n      } else if (content) {\n        this.forEach(node => {\n          node.innerHTML = content;\n        });\n        return this;\n      } else if (!content) {\n        return this.array[0].innerHTML.trim();\n      }\n    },\n\n    text: function(string) {\n      let ret = '';\n      if (!this.size()) return new DOMStack();\n      if (!!string || string === 0) {\n        this.forEach(element => {\n          element.innerText = string;\n        });\n        return this;\n      } else {\n        this.forEach(element => {\n          ret += element.innerText;\n          ret.trim();\n        });\n        return ret;\n      }\n    },\n\n    replaceWith: function(content) {\n      if (content && content.nodeType && content.nodeType === 1) {\n        $(content).off();\n      } else if (content && contnet.objectType && content.objectType === 'domstack') {\n        content.off();\n      }\n      this.forEach(node => {\n        $(node).off();\n        if (typeof content === 'string') {\n          $.replace($(content), node);\n        } else {\n          $.replace($(content), node);\n        }\n      });\n    },\n\n    remove: function() {\n      if (!this.size()) return new DOMStack();\n      this.forEach(node => {\n        $(node).off();\n        node.parentNode.removeChild(node);\n      });\n    },\n\n    addClass: function(className) {\n      if (!this.size()) return new DOMStack();\n      if (typeof className !== \"string\")\n        return;\n      let ret = new DOMStack();\n      let classes;\n      this.forEach(node => {\n        if (/\\s/.test(className)) {\n          classes = className.split(' ');\n          classes.forEach(name => {\n            node.classList.add(name);\n          });\n        } else {\n          node.classList.add(className);\n        }\n        ret.push(node);\n      });\n      return ret;\n    },\n\n    hasClass: function(className) {\n      if (!this.size()) return new DOMStack();\n      let temp = false;\n      this.forEach(element => {\n        if (element.classList.contains(className)) {\n          temp = true;\n        }\n      });\n      return temp;\n    },\n\n    removeClass: function(className) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      let classes;\n      this.forEach(node => {\n        if (!node)\n          return;\n        if (/\\s/.test(className)) {\n          classes = className.split(' ');\n          classes.forEach(name => {\n            node.classList.remove(name);\n          });\n        } else {\n          node.classList.remove(className);\n        }\n        if (node.getAttribute('class') === '') {\n          node.removeAttribute('class');\n        }\n        ret.push(node);\n      });\n      return ret;\n    },\n\n    toggleClass: function(className) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      this.forEach(node => {\n        node.classList.toggle(className);\n        ret.push(node);\n      });\n      return ret;\n    },\n\n    attr: function(property, value) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      const __attr = (node, property, value) => {\n        if (value === undefined) {\n          return node.getAttribute(property);\n        } else {\n          return node.setAttribute(property, value);\n        }\n      };\n      if (value === undefined) {\n        if (this[0].hasAttribute(property)) {\n          return this[0].getAttribute(property);\n        }\n      } else {\n        this.forEach(node => {\n          __attr(node, property, value);\n          ret.push(node);\n        });\n      }\n      if (ret.length) {\n        return ret;\n      }\n    },\n\n    removeAttr: function(attribute) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      this.forEach(node => {\n        if (!!node.hasAttribute(attribute)) {\n          node.removeAttribute(attribute);\n          ret.push(node);\n        }\n      });\n      return ret;\n    },\n\n    prop: function(property, value) {\n      if (!this.size()) return new DOMStack();\n      if (value === false || !!value) {\n        this.forEach(element => {\n          element[property] = value;\n        });\n        return this;\n      } else if (this.array[0] && this.array[0][property]) {\n        return this.array[0][property];\n      }\n    },\n\n    removeProp: function(property) {\n      if (!this.size()) return new DOMStack();\n      this[0][property] = false;\n      return [this[0]];\n    },\n\n    disable: function() {\n      if (!this.size()) return new DOMStack();\n      this.forEach(node => {\n        node.classList.add('disabled');\n        node.disabled = true;\n        node.style.cursor = 'default';\n      });\n      return this;\n    },\n\n    enable: function() {\n      if (!this.size()) return new DOMStack();\n      this.forEach(node => {\n        node.classList.remove('disabled');\n        node.removeAttribute('disabled');\n        node.style.cursor = 'auto';\n      });\n      return this;\n    },\n\n    val: function(value) {\n      if (!this.size()) return new DOMStack();\n      if (value) {\n        this.array[0].value = value;\n        return this;\n      } else {\n        if (this.array[0] && this.array[0].value) {\n          return this.array[0].value;\n        }\n      }\n    },\n\n    hide: function() {\n      let display = this.css('display');\n      this.data('display_attr', display);\n      this.css('display', 'none');\n    },\n\n    show: function() {\n      let display = this.data('display_attr');\n      if (display === 'none' || !display) {\n        display = 'block';\n      }\n      this.css('display', display);\n    }\n  });\n\n  /**\n   * Truck data cache.\n   */\n  let TruckDataCache = {\n    elements: {}\n  };\n  $.fn.extend({\n    data: function(key, value) {\n      if (!this.size()) return new DOMStack();\n      let val;\n      let id;\n      const ctx = this.array[0];\n      if (!ctx.id) {\n        ctx.id = $.uuid();\n      }\n      id = ctx.id;\n      if (!TruckDataCache.elements[id]) {\n        TruckDataCache.elements[id] = {};\n      }\n      if (key === 'undefined' || key === null) {\n        return;\n      }\n      if (value || value === 0) {\n        val = value;\n        let obj = {};\n        obj[key] = value;\n\n        TruckDataCache.elements[id][key] = value;\n      } else {\n        if (!TruckDataCache.elements[id]) return;\n        if (TruckDataCache.elements[id][key] === 0) {\n          return TruckDataCache.elements[id][key];\n        }\n        if (!TruckDataCache.elements[id][key]) return;\n        return TruckDataCache.elements[id][key];\n      }\n      return this;\n    },\n\n    removeData: function(key) {\n      if (!this.size()) return this;\n      this.forEach((element) => {\n        const id = element.id;\n        if (!id) return this;\n        if (!TruckDataCache.elements[id]) {\n          return this;\n        }\n        if (!key) {\n          delete TruckDataCache.elements[id];\n          return this;\n        }\n        if (Object.keys(TruckDataCache.elements[id]).length === 0) {\n          delete TruckDataCache.elements[id];\n        } else {\n          delete TruckDataCache.elements[id][key];\n        }\n        return this;\n      });\n    }\n  });\n\n  /**\n   * Truck serialize methods.\n   */\n  $.fn.extend({\n    serializeArray: function() {\n      let name;\n      let type;\n      let ret = [];\n      const add = value => {\n        if ($.type(value) === 'array') {\n          return value.forEach(add);\n        }\n        ret.push({\n          name: name,\n          value: value\n        });\n      };\n      if (this[0]) {\n        $.each([].slice.apply(this[0].elements), (idx, field) => {\n          type = field.type;\n          name = field.name;\n          if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n            !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n            ((type != 'radio' && type != 'checkbox') || field.checked)) {\n            add($(field).val());\n          }\n        });\n      }\n      return ret;\n    },\n\n    // Serialize the values of a form:\n    //================================\n    serialize: function() {\n      let ret = [];\n      this.serializeArray().forEach(element => {\n        ret.push(encodeURIComponent(element.name) + '=' + encodeURIComponent(element.value));\n      });\n      return ret.join('&');\n    }\n  });\n\n  /**\n   * Truck param method.\n   */\n  $.extend({\n\n    // Serialize an object for posting to server:\n    //===========================================\n    param: function(obj, traditional) {\n\n      // Private function used by $.param:\n      //==================================\n      function serialize(params, obj, traditional, scope) {\n        let type, array = $.type(obj) === 'array',\n          hash = $.isEmptyObject(obj);\n\n        // If it's an array of objects:\n        if ($.type(obj) === 'array') {\n          $.each(obj, (key, value) => {\n            type = $.type(value);\n            if (scope) {\n              key = traditional ? scope : scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']';\n            }\n            if (!scope && array) {\n              params.add(value.name, value.value);\n            } else if (type == \"array\" || (!traditional && type == \"object\")) {\n              serialize(params, value, traditional, key);\n            } else {\n              params.add(key, value);\n            }\n          });\n\n          // Else its an object (use key/value loop):\n        } else if ($.type(obj) === 'object') {\n          for (let key in obj) {\n            type = $.type(obj[key]);\n            if (scope) {\n              key = traditional ? scope : scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']';\n            }\n            if (!scope && array) {\n              params.add(obj[key].name, obj[key].obj[key]);\n            } else if (type == \"array\" || (!traditional && type == \"object\")) {\n              serialize(params, obj[key], traditional, key);\n            } else {\n              params.add(key, obj[key]);\n            }\n          }\n        }\n      }\n      let params = [];\n      params.add = function(key, value) {\n        if ($.type(value) === 'function') value = value();\n        if (value === null) value = \"\";\n        this.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n      };\n      serialize(params, obj, traditional);\n      return params.join('&').replace(/%20/g, '+');\n    }\n  });\n\n  /**\n    * Truck event methods.\n    */\n\n  (() => {\n    \n    // ======================================\n    // Define interface for handling events:\n    // ======================================\n    let TruckEventStack = (array) => {\n      let __array = [];\n      if (array && Array.isArray(array)) {\n        let i = -1;\n        const len = array.length;\n        while (++i < len) {\n          __array[i] = array[i];\n        }\n      } else if (array) {\n        const arr = Array.prototype.slice.apply(arguments);\n        arr.forEach((ctx, idx) => {\n          __array[idx] = ctx;\n        });\n      }\n      return {\n\n        size: () => __array.length,\n\n        push: (data) => __array.push(data),\n\n        pop: () => __array.pop(),\n\n        eq: (index) => {\n          if (index < 0) {\n            return __array[__array.length + index];\n          } else {\n            return __array[index];\n          }\n        },\n\n        forEach: (callback) => {\n          let value;\n          let i = -1;\n          const len = __array.length;\n          while (++i < len) {\n            value = callback.call(__array[i], __array[i], i);\n            if (value === false) {\n              break;\n            }\n          }\n        },\n\n        shift: () => __array.shift.apply(__array, arguments),\n\n        unshift: () => __array.unshift.apply(__array, arguments),\n\n        splice: () => __array.splice.apply(__array, arguments),\n\n        indexOf: () => __array.indexOf.apply(__array, arguments),\n\n        getData: () => __array,\n\n        purge: () => __array = []\n      };\n    };\n\n    let TruckEventCache = {\n      elements: {}\n    };\n\n    /* jshint, evil: false, validthis:true, unused:false, loopfunc: false,\n    smarttabs: true, nonew: false */\n\n    // //////////////////////////////////////////////////\n    // Private method to set events on TruckEventCache\n    // //////////////////////////////////////////////////\n    const bind = function(element, event, callback, capturePhase) {\n      if (!element.id) element.id = Truck.uuid();\n      if (!TruckEventCache.elements[element.id]) {\n        TruckEventCache.elements[element.id] = TruckEventStack(); // jshint ignore:line\n      }\n      TruckEventCache.elements[element.id].push({\n        event: event,\n        callback: callback\n      });\n      element.addEventListener(event, callback, capturePhase);\n    };\n\n\n    // Delete items from event stack:\n    //===============================\n    const deleteFromEventStack = function(toDelete, evtStck) {\n      var len = toDelete.length;\n      for (var i = 0; len > i; len--) {\n        evtStck.splice(toDelete[len - 1], 1);\n      }\n    };\n    ////////////////////////////////////////////////////\n    // Private method to unbind events on TruckEventCache\n    ////////////////////////////////////////////////////\n    const unbind = function(element, event, callback, capturePhase) {\n\n      var eventStack = TruckEventCache.elements[element.id];\n      if (!eventStack) return;\n      var deleteOrder = [];\n\n      if (!event) {\n        deleteOrder = [];\n        eventStack.forEach((evt, idx) => {\n          element.removeEventListener(evt.event, evt.callback, evt.capturePhase);\n          deleteOrder.push(idx);\n        });\n\n        deleteFromEventStack(deleteOrder, eventStack);\n\n      } else if (!!event && !callback) {\n        deleteOrder = [];\n        eventStack.forEach((evt, idx) => {\n          if (evt.event === event) {\n            element.removeEventListener(evt.event, evt.callback, evt.capturePhase);\n            deleteOrder.push(idx);\n          }\n        });\n\n        deleteFromEventStack(deleteOrder, eventStack);\n\n      } else if (callback) {\n        deleteOrder = [];\n        eventStack.forEach((evt, idx) => {\n          if (callback === evt.callback) {\n            element.removeEventListener(evt.event, evt.callback, evt.capturePhase);\n            deleteOrder.push(idx);\n          }\n        });\n        deleteFromEventStack(deleteOrder, eventStack);\n      }\n    };\n\n    //////////////////////////////////////////////////////////////\n    // Private method to set delegated events on TruckEventCache\n    //////////////////////////////////////////////////////////////\n\n    const delegate = (element, selector, event, callback, capturePhase) => {\n      let delegateElement = $(element).array[0];\n      $(element).forEach(ctx => {\n        $(ctx).on(event, (e) => {\n          let target = e.target;\n          if (e.target.nodeType === 3) {\n            target = e.target.parentNode;\n          }\n          $(ctx).find(selector).forEach(delegateElement => {\n            if (delegateElement === target) {\n              callback.call(delegateElement, e);\n            } else {\n              try {\n                const ancestor = $(target).closest(selector);\n                if (delegateElement === ancestor.array[0]) {\n                  callback.call(delegateElement, e);\n                }\n              } catch (err) {}\n            }\n          });\n        }, capturePhase);\n      });\n    };\n\n\n    ///////////////////////////////////////////////////////////////////\n    // Private method to remove delegated events from TruckEventCache\n    ///////////////////////////////////////////////////////////////////\n    const undelegate = (element, selector, event, callback, capturePhase) => {\n\n      unbind($(element).array[0], event, callback, capturePhase);\n    };\n\n    $.fn.extend({\n      on: function(event, selector, callback, capturePhase) {\n\n        if (!selector && /Object/img.test(event.constructor.toString())) {\n          this.forEach(element => {\n            for (var key in event) {\n              if (event.hasOwnProperty(key)) {\n                $(element).on(key, event[key]);\n              }\n            }\n          });\n        }\n        let ret = [];\n        let events;\n        if (typeof event === 'string') {\n          event = event.trim();\n          if (/\\s/.test(event)) {\n            events = event.split(' ');\n            this.forEach(ctx => {\n              events.forEach(evt => {\n                if (typeof selector === 'function') {\n                  bind(ctx, evt, selector, callback);\n                  ret.push(ctx);\n                } else {\n                  delegate(ctx, selector, evt, callback, capturePhase);\n                  // ret.push(ctx);\n                }\n              });\n            });\n          }\n        }\n        this.forEach(ctx => {\n          if (typeof selector === 'function') {\n            return bind(ctx, event, selector, callback);\n          } else {\n            delegate(ctx, selector, event, callback, capturePhase);\n            // ret.push(ctx);\n          }\n        });\n        return this;\n      },\n\n      off: function(event, selector, callback, capturePhase) {\n        let ret = new DOMStack();\n        if (!this.size()) return ret;\n\n        this.forEach(function(ctx) {\n          if (typeof event === 'undefined') {\n            ret.push(ctx);\n            unbind(ctx);\n            return ret;\n          } else if (typeof selector === 'function' || !selector) {\n            unbind(ctx, event, selector, callback, capturePhase);\n            return this;\n          } else {\n            undelegate(ctx, selector, event, callback, capturePhase);\n            return this;\n          }\n        });\n      },\n\n      trigger: function(event) {\n        if (!this.size()) return new DOMStack();\n        this.forEach(ctx => {\n          if (document.createEvent) {\n            var evtObj = document.createEvent('Events');\n            evtObj.initEvent(event, true, false);\n            ctx.dispatchEvent(evtObj);\n          }\n        });\n      }\n    });\n  })();\n\n\n  /**\n   * Truck event aliases.\n   */\n  $.extend({\n    eventStart: null,\n    eventEnd: null,\n    eventMove: null,\n    eventCancel: null,\n    // Define min-length for gesture detection:\n    gestureLength: 30\n  });\n  $(() => {\n    //=======================\n    // Setup Event Variables:\n    //=======================\n    // Pointer events for IE10 and WP8:\n    if (window.navigator.pointerEnabled) {\n      $.eventStart = 'pointerdown';\n      $.eventEnd = 'pointerup';\n      $.eventMove = 'pointermove';\n      $.eventCancel = 'pointercancel';\n      // Pointer events for IE10 and WP8:\n    } else if (window.navigator.msPointerEnabled) {\n      $.eventStart = 'MSPointerDown';\n      $.eventEnd = 'MSPointerUp';\n      $.eventMove = 'MSPointerMove';\n      $.eventCancel = 'MSPointerCancel';\n      // Touch events for iOS & Android:\n    } else if ('ontouchstart' in window && /mobile/img.test(navigator.userAgent)) {\n      $.eventStart = 'touchstart';\n      $.eventEnd = 'touchend';\n      $.eventMove = 'touchmove';\n      $.eventCancel = 'touchcancel';\n      // Mouse events for desktop:\n    } else {\n      $.eventStart = 'mousedown';\n      $.eventEnd = 'click';\n      $.eventMove = 'mousemove';\n      $.eventCancel = 'mouseout';\n    }\n  });\n\n  /**\n   * Truck gestures.\n   */\n  (function() {\n    \"use strict\";\n    let touch = {};\n    let touchTimeout;\n    let swipeTimeout;\n    let tapTimeout;\n    const longTapDelay = 750;\n    let singleTapDelay = 150;\n    $.gestureLength = 50;\n    if ($.isAndroid) singleTapDelay = 200;\n    var longTapTimeout;\n\n    function parentIfText(node) {\n      return 'tagName' in node ? node : node.parentNode;\n    }\n\n    function swipeDirection(x1, x2, y1, y2) {\n      return Math.abs(x1 - x2) >=\n        Math.abs(y1 - y2) ? (x1 - x2 > 0 ? 'left' : 'right') : (y1 - y2 > 0 ? 'up' : 'down');\n    }\n\n    function longTap() {\n      longTapTimeout = null;\n      if (touch.last) {\n        try {\n          if (touch && touch.el) {\n            touch.el.trigger('longtap');\n            touch = {};\n          }\n        } catch (err) {};\n      }\n    }\n\n    function cancelLongTap() {\n      if (longTapTimeout) clearTimeout(longTapTimeout);\n      longTapTimeout = null;\n    }\n\n    function cancelAll() {\n      if (touchTimeout) clearTimeout(touchTimeout);\n      if (tapTimeout) clearTimeout(tapTimeout);\n      if (swipeTimeout) clearTimeout(swipeTimeout);\n      if (longTapTimeout) clearTimeout(longTapTimeout);\n      touchTimeout = tapTimeout = swipeTimeout = longTapTimeout = null;\n      touch = {};\n    }\n\n    // Execute this after DOM loads:\n    //==============================\n    $(() => {\n      let now;\n      let delta;\n      const body = $('body');\n      let twoTouches = false;\n\n      // Capture start of event:\n      //========================\n      body.on($.eventStart, function(e) {\n        now = Date.now();\n        delta = now - (touch.last || now);\n        if (e.originalEvent) e = e.originalEvent;\n\n        // Handle MSPointer Events:\n        if (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) {\n          if (window && window.jQuery && $ === window.jQuery) {\n            if (e.originalEvent && !e.originalEvent.isPrimary) return;\n          } else {\n            if (!e.isPrimary) return;\n          }\n          // Handle event if jQuery or not:\n          e = e.originalEvent ? e.originalEvent : e;\n          body.on('MSHoldVisual', e => {\n            e.preventDefault();\n          });\n          touch.el = $(parentIfText(e.target));\n          touchTimeout && clearTimeout(touchTimeout); // jshint ignore:line\n          touch.x1 = e.pageX;\n          touch.y1 = e.pageY;\n          twoTouches = false;\n\n        } else {\n          if ($.eventStart === 'mousedown') {\n            touch.el = $(parentIfText(e.target));\n            touchTimeout && clearTimeout(touchTimeout); // jshint ignore:line\n            touch.x1 = e.pageX;\n            touch.y1 = e.pageY;\n            twoTouches = false;\n\n            // Detect two or more finger gestures:\n          } else {\n            if (e.touches.length === 1) {\n              touch.el = $(parentIfText(e.touches[0].target));\n              touchTimeout && clearTimeout(touchTimeout); // jshint ignore:line\n              touch.x1 = e.touches[0].pageX;\n              touch.y1 = e.touches[0].pageY;\n              if (e.targetTouches.length === 2) {\n                twoTouches = true;\n              } else {\n                twoTouches = false;\n              }\n            }\n          }\n        }\n        if (delta > 0 && delta <= 250) {\n          touch.isDoubleTap = true;\n        }\n        touch.last = now;\n        longTapTimeout = setTimeout(longTap, longTapDelay);\n      });\n\n      // Capture event move:\n      //====================\n      body.on($.eventMove, e => {\n        if (e.originalEvent) e = e.originalEvent;\n        if (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) {\n          if (window && window.jQuery && $ === window.jQuery) {\n            if (e.originalEvent && !e.originalEvent.isPrimary) return;\n          } else {\n            if (!e.isPrimary) return;\n          }\n          e = e.originalEvent ? e.originalEvent : e;\n          cancelLongTap();\n          touch.x2 = e.pageX;\n          touch.y2 = e.pageY;\n\n        } else {\n          cancelLongTap();\n          if ($.eventMove === 'mousemove') {\n            touch.x2 = e.pageX;\n            touch.y2 = e.pageY;\n          } else {\n            // One finger gesture:\n            if (e.touches.length === 1) {\n              touch.x2 = e.touches[0].pageX;\n              touch.y2 = e.touches[0].pageY;\n            }\n          }\n        }\n      });\n\n      // Capture event end:\n      //===================\n      body.on($.eventEnd, e => {\n        if (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) {\n          if (window && window.jQuery && $ === window.jQuery) {\n            if (e.originalEvent && !e.originalEvent.isPrimary) return;\n          } else {\n            if (!e.isPrimary) return;\n          }\n        }\n\n        cancelLongTap();\n        if (!!touch.el) {\n          // Swipe detection:\n          if ((touch.x2 && Math.abs(touch.x1 - touch.x2) > $.gestureLength) ||\n            (touch.y2 && Math.abs(touch.y1 - touch.y2) > $.gestureLength)) {\n            swipeTimeout = setTimeout(function() {\n              if (touch && touch.el) {\n                touch.el.trigger('swipe');\n                touch.el.trigger('swipe' + (swipeDirection(touch.x1, touch.x2, touch.y1, touch.y2)));\n                touch = {};\n              }\n            }, 0);\n\n            // Normal tap:\n          } else if ('last' in touch) {\n            // Delay by one tick so we can cancel the 'tap' event if 'scroll' fires:\n            tapTimeout = setTimeout(() => {\n              // Trigger double tap immediately:\n              if (touch && touch.isDoubleTap) {\n                if (touch && touch.el) {\n                  touch.el.trigger('doubletap');\n                  touch = {};\n                }\n\n              } else {\n                // Trigger tap after singleTapDelay:\n                touchTimeout = setTimeout(() => {\n                  touchTimeout = null;\n                  if (touch && touch.el) {\n                    touch.el.trigger('tap');\n                    touch = {};\n                    return false;\n                  }\n                }, singleTapDelay);\n              }\n            }, 0);\n          }\n\n        } else {\n          return;\n        }\n      });\n      body.on('touchcancel', cancelAll);\n    });\n\n    // Register events:\n    //=================\n    ['tap', 'doubletap', 'longtap', 'swipeleft', 'swiperight', 'swipeup', 'swipedown'].forEach(method => {\n      $.fn.extend({\n        method: function(callback) {\n          return this.on(method, callback);\n        }\n      });\n    });\n  })();\n\n  /**\n   * Truck collection utilities.\n   */\n  $.fn.extend({\n    forEach: function(callback) {\n      this.each((idx, ctx) => {\n        callback.call(ctx, ctx, idx);\n      });\n    },\n\n    disable: function() {\n      if (!this.size()) return $();\n      this.forEach(node => {\n        node.classList.add('disabled');\n        node.disabled = true;\n        node.style.cursor = 'default';\n      });\n      return this;\n    },\n\n    enable: function() {\n      if (!this.size()) return $();\n      this.forEach(node => {\n        node.classList.remove('disabled');\n        node.removeAttribute('disabled');\n        node.style.cursor = 'auto';\n      });\n      return this;\n    },\n\n    iz: function(selector) {\n      var ret = $();\n      this.forEach(ctx => {\n        if ($(ctx).is(selector)) {\n          ret.push(ctx);\n        }\n      });\n      return ret;\n    },\n\n    iznt: function(selector) {\n      var ret = $();\n      this.each((_, ctx) => {\n        if (!$(ctx).is(selector)) {\n          ret.push(ctx);\n        }\n      });\n      return ret;\n    },\n\n    haz: function(selector) {\n      var ret;\n      if (typeof jQuery !== 'undefined') {\n        ret = this.has(selector);\n      } else {\n        ret = new DOMStack();\n        this.forEach(element => {\n          if ($(element).has(selector)[0]) {\n            ret.push(element);\n          }\n        });\n      }\n      return ret;\n    },\n\n    haznt: function(selector) {\n      var ret;\n      if (typeof jQuery !== 'undefined') {\n        ret = $();\n        this.each((_, element) => {\n          if (!$(element).has(selector)[0]) {\n            ret.push(element);\n          }\n        });\n      } else {\n        ret = new DOMStack();\n        this.forEach(element => {\n          if (!$(element).has(selector)[0]) {\n            ret.push(element);\n          }\n        });\n      }\n      return ret;\n    },\n\n    hazClass: function(className) {\n      if (className) {\n        return this.iz('.' + className);\n      } else {\n        return new DOMStack();\n      }\n    },\n\n    hazntClass: function(className) {\n      if (className) {\n        return this.iznt('.' + className);\n      } else {\n        return new DOMStack();\n      }\n    },\n\n    hazAttr: function(attribute) {\n      if (attribute) {\n        return this.iz('[' + attribute + ']');\n      } else {\n        return new DOMStack();\n      }\n    },\n\n    hazntAttr: function(attribute) {\n      if (attribute) {\n        return this.iznt('[' + attribute + ']');\n      } else {\n        return new DOMStack();\n      }\n    }\n  });\n\n  window.$ = Truck;\n\n  return $;\n})(DOMStack);","// Truck Module - Box, Data Persistence:\nimport '../truck';\n\n$.extend({\n  Box: (function(globalObject) {\n    //==================\n    // IndexedDB Driver:\n    //==================\n    (function() {\n      const self = this;\n      const indexedDB = indexedDB || globalObject.indexedDB || globalObject.webkitIndexedDB || globalObject.mozIndexedDB || globalObject.OIndexedDB || globalObject.msIndexedDB;\n      if (!indexedDB) {\n        return;\n      }\n\n      const DETECT_BLOB__support_STORE = 'truck-box-detect-blob-support';\n      let supportsBlobs;\n      let dbContexts;\n\n      function __createBlob(parts, properties) {\n        parts = parts || [];\n        properties = properties || {};\n        try {\n          return new Blob(parts, properties);\n        } catch (e) {\n          if (e.name !== 'TypeError') {\n            throw e;\n          }\n          const BlobBuilder = globalObject.BlobBuilder || globalObject.MSBlobBuilder || globalObject.MozBlobBuilder || globalObject.WebKitBlobBuilder;\n          let builder = new BlobBuilder();\n          for (let i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n          }\n          return builder.getBlob(properties.type);\n        }\n      }\n\n      function __binStringToArrayBuffer(bin) {\n        const length = bin.length;\n        const buf = new ArrayBuffer(length);\n        let arr = new Uint8Array(buf);\n        for (let i = 0; i < length; i++) {\n          arr[i] = bin.charCodeAt(i);\n        }\n        return buf;\n      }\n\n      function __blobAjax(url) {\n        return new Promise(function(resolve, reject) {\n          const xhr = new XMLHttpRequest();\n          xhr.open('GET', url);\n          xhr.withCredentials = true;\n          xhr.responseType = 'arraybuffer';\n\n          xhr.onreadystatechange = function() {\n            if (xhr.readyState !== 4) {\n              return;\n            }\n            if (xhr.status === 200) {\n              return resolve({\n                response: xhr.response,\n                type: xhr.getResponseHeader('Content-Type')\n              });\n            }\n            reject({\n              status: xhr.status,\n              response: xhr.response\n            });\n          };\n          xhr.send();\n        });\n      }\n\n      function __checkBlobSupportWithoutCaching(idb) {\n        return new Promise(function(resolve, reject) {\n          const blob = __createBlob([''], {\n            type: 'image/png'\n          });\n          const txn = idb.transaction([DETECT_BLOB__support_STORE], 'readwrite');\n          txn.objectStore(DETECT_BLOB__support_STORE).put(blob, 'key');\n          txn.oncomplete = function() {\n            const blobTxn = idb.transaction([DETECT_BLOB__support_STORE], 'readwrite');\n            const getBlobReq = blobTxn.objectStore(DETECT_BLOB__support_STORE).get('key');\n            getBlobReq.onerror = reject;\n            getBlobReq.onsuccess = function(e) {\n\n              const storedBlob = e.target.result;\n              const url = URL.createObjectURL(storedBlob);\n\n              __blobAjax(url).then(function(res) {\n                resolve(!!(res && res.type === 'image/png'));\n              }, function() {\n                resolve(false);\n              }).then(function() {\n                URL.revokeObjectURL(url);\n              });\n            };\n          };\n        })['catch'](function() {\n          return false; // error, so assume unsupported\n        });\n      }\n\n      function __checkBlobSupport(idb) {\n        if (typeof supportsBlobs === 'boolean') {\n          return Promise.resolve(supportsBlobs);\n        }\n        return __checkBlobSupportWithoutCaching(idb).then(function(value) {\n          supportsBlobs = value;\n          return supportsBlobs;\n        });\n      }\n\n      function __encodeBlob(blob) {\n        return new Promise(function(resolve, reject) {\n          const reader = new FileReader();\n          reader.onerror = reject;\n          reader.onloadend = function(e) {\n            const base64 = btoa(e.target.result || '');\n            resolve({\n              __truck_box_encoded_blob: true,\n              data: base64,\n              type: blob.type\n            });\n          };\n          reader.readAsBinaryString(blob);\n        });\n      }\n\n      function __decodeBlob(encodedBlob) {\n        const arrayBuff = __binStringToArrayBuffer(atob(encodedBlob.data));\n        return __createBlob([arrayBuff], {\n          type: encodedBlob.type\n        });\n      }\n\n      function __isEncodedBlob(value) {\n        return value && value.__truck_box_encoded_blob;\n      }\n\n      function __initStorage(options) {\n        const self = this;\n        let dbInfo = {\n          db: null\n        };\n\n        if (options) {\n          for (let i in options) {\n            dbInfo[i] = options[i];\n          }\n        }\n\n        if (!dbContexts) {\n          dbContexts = {};\n        }\n\n        let dbContext = dbContexts[dbInfo.name];\n\n        if (!dbContext) {\n          dbContext = {\n            box: [],\n            db: null\n          };\n          dbContexts[dbInfo.name] = dbContext;\n        }\n\n        dbContext.box.push(this);\n\n        let readyPromises = [];\n\n        function ignoreErrors() {\n          return Promise.resolve();\n        }\n\n        for (let j = 0; j < dbContext.box.length; j++) {\n          const truckbox = dbContext.box[j];\n          if (truckbox !== this) {\n            readyPromises.push(truckbox.ready()['catch'](ignoreErrors));\n          }\n        }\n\n        const box = dbContext.box.slice(0);\n        return Promise.all(readyPromises).then(function() {\n          dbInfo.db = dbContext.db;\n          return __getOriginalConnection(dbInfo);\n        }).then(function(db) {\n          dbInfo.db = db;\n          if (_isUpgradeNeeded(dbInfo, self.__defaultConfig.version)) {\n            return __getUpgradedConnection(dbInfo);\n          }\n          return db;\n        }).then(function(db) {\n          dbInfo.db = dbContext.db = db;\n          self.__dbInfo = dbInfo;\n          for (let k in box) {\n            let truckbox = box[k];\n            if (truckbox !== self) {\n              truckbox.__dbInfo.db = dbInfo.db;\n              truckbox.__dbInfo.version = dbInfo.version;\n            }\n          }\n        });\n      }\n\n      function __getOriginalConnection(dbInfo) {\n        return __getConnection(dbInfo, false);\n      }\n\n      function __getUpgradedConnection(dbInfo) {\n        return __getConnection(dbInfo, true);\n      }\n\n      function __getConnection(dbInfo, upgradeNeeded) {\n        return new Promise(function(resolve, reject) {\n          if (dbInfo.db) {\n            if (upgradeNeeded) {\n              dbInfo.db.close();\n            } else {\n              return resolve(dbInfo.db);\n            }\n          }\n\n          let dbArgs = [dbInfo.name];\n\n          if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n          }\n\n          let openreq = indexedDB.open.apply(indexedDB, dbArgs);\n\n          if (upgradeNeeded) {\n            openreq.onupgradeneeded = function(e) {\n              const db = openreq.result;\n              try {\n                db.createObjectStore(dbInfo.boxName);\n                if (e.oldVersion <= 1) {\n                  db.createObjectStore(DETECT_BLOB__support_STORE);\n                }\n              } catch (ex) {\n                if (ex.name === 'ConstraintError') {\n                  globalObject.console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.boxName + '\" already exists.');\n                } else {\n                  throw ex;\n                }\n              }\n            };\n          }\n\n          openreq.onerror = function() {\n            reject(openreq.error);\n          };\n\n          openreq.onsuccess = function() {\n            resolve(openreq.result);\n          };\n        });\n      }\n\n      function _isUpgradeNeeded(dbInfo, defaultVersion) {\n        if (!dbInfo.db) {\n          return true;\n        }\n\n        const isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.boxName);\n        const isDowngrade = dbInfo.version < dbInfo.db.version;\n        let isUpgrade = dbInfo.version > dbInfo.db.version;\n\n        if (isDowngrade) {\n          if (dbInfo.version !== defaultVersion) {\n            globalObject.console.warn('The database \"' + dbInfo.name + '\"' + ' can\\'t be downgraded from version ' + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n          }\n          dbInfo.version = dbInfo.db.version;\n        }\n\n        if (isUpgrade || isNewStore) {\n          if (isNewStore) {\n            const incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n              dbInfo.version = incVersion;\n            }\n          }\n\n          return true;\n        }\n\n        return false;\n      }\n\n      function get(key, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            const store = dbInfo.db.transaction(dbInfo.boxName, 'readonly').objectStore(dbInfo.boxName);\n            let req = store.get(key);\n\n            req.onsuccess = function() {\n              let value = req.result;\n              if (value === undefined) {\n                value = null;\n              }\n              if (__isEncodedBlob(value)) {\n                value = __decodeBlob(value);\n              }\n              resolve(value);\n            };\n\n            req.onerror = function() {\n              reject(req.error);\n            };\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function each(iterator, callback) {\n        const self = this;\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            const store = dbInfo.db.transaction(dbInfo.boxName, 'readonly').objectStore(dbInfo.boxName);\n\n            const req = store.openCursor();\n            let iterationNumber = 1;\n\n            req.onsuccess = function() {\n              const cursor = req.result;\n\n              if (cursor) {\n                let value = cursor.value;\n                if (__isEncodedBlob(value)) {\n                  value = __decodeBlob(value);\n                }\n                const result = iterator(value, cursor.key, iterationNumber++);\n\n                if (result !== void 0) {\n                  resolve(result);\n                } else {\n                  cursor['continue']();\n                }\n              } else {\n                resolve();\n              }\n            };\n\n            req.onerror = function() {\n              reject(req.error);\n            };\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function set(key, value, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n          const dbInfo = self.__dbInfo;\n            return __checkBlobSupport(dbInfo.db);\n          }).then(function(blobSupport) {\n            if (!blobSupport && value instanceof Blob) {\n              return __encodeBlob(value);\n            }\n            return value;\n          }).then(function(value) {\n            const transaction = dbInfo.db.transaction(dbInfo.boxName, 'readwrite');\n            let store = transaction.objectStore(dbInfo.boxName);\n            if (value === null) {\n              value = undefined;\n            }\n\n            const req = store.put(value, key);\n            transaction.oncomplete = function() {\n              if (value === undefined) {\n                value = null;\n              }\n\n              resolve(value);\n            };\n            transaction.onabort = transaction.onerror = function() {\n              const err = req.error ? req.error : req.transaction.error;\n              reject(err);\n            };\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function remove(key, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            const transaction = dbInfo.db.transaction(dbInfo.boxName, 'readwrite');\n            const store = transaction.objectStore(dbInfo.boxName);\n            const req = store['delete'](key);\n            transaction.oncomplete = function() {\n              resolve();\n            };\n\n            transaction.onerror = function() {\n              reject(req.error);\n            };\n\n            transaction.onabort = function() {\n              const err = req.error ? req.error : req.transaction.error;\n              reject(err);\n            };\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function clear(callback) {\n        const self = this;\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            const transaction = dbInfo.db.transaction(dbInfo.boxName, 'readwrite');\n            const store = transaction.objectStore(dbInfo.boxName);\n            const req = store.clear();\n\n            transaction.oncomplete = function() {\n              resolve();\n            };\n\n            transaction.onabort = transaction.onerror = function() {\n              const err = req.error ? req.error : req.transaction.error;\n              reject(err);\n            };\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function size(callback) {\n        const self = this;\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            const store = dbInfo.db.transaction(dbInfo.boxName, 'readonly').objectStore(dbInfo.boxName);\n            const req = store.count();\n\n            req.onsuccess = function() {\n              resolve(req.result);\n            };\n\n            req.onerror = function() {\n              reject(req.error);\n            };\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function key(n, callback) {\n        const self = this;\n        const promise = new Promise(function(resolve, reject) {\n          if (n < 0) {\n            resolve(null);\n\n            return;\n          }\n\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            const store = dbInfo.db.transaction(dbInfo.boxName, 'readonly').objectStore(dbInfo.boxName);\n\n            let advanced = false;\n            const req = store.openCursor();\n            req.onsuccess = function() {\n              const cursor = req.result;\n              if (!cursor) {\n                resolve(null);\n\n                return;\n              }\n\n              if (n === 0) {\n                resolve(cursor.key);\n              } else {\n                if (!advanced) {\n                  advanced = true;\n                  cursor.advance(n);\n                } else {\n                  resolve(cursor.key);\n                }\n              }\n            };\n\n            req.onerror = function() {\n              reject(req.error);\n            };\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function keys(callback) {\n        const self = this;\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            const store = dbInfo.db.transaction(dbInfo.boxName, 'readonly').objectStore(dbInfo.boxName);\n\n            const req = store.openCursor();\n            let keys = [];\n\n            req.onsuccess = function() {\n              const cursor = req.result;\n\n              if (!cursor) {\n                resolve(keys);\n                return;\n              }\n\n              keys.push(cursor.key);\n              cursor['continue']();\n            };\n\n            req.onerror = function() {\n              reject(req.error);\n            };\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function executeCallback(promise, callback) {\n        if (callback) {\n          promise.then(function(result) {\n            callback(null, result);\n          }, function(error) {\n            callback(error);\n          });\n        }\n      }\n\n      const asyncStorage = {\n        __driver: 'asyncStorage',\n        __initStorage: __initStorage,\n        each: each,\n        get: get,\n        set: set,\n        remove: remove,\n        clear: clear,\n        size: size,\n        key: key,\n        keys: keys\n      };\n\n      // Export driver:\n      this.asyncStorage = asyncStorage;\n      globalObject.asyncStorage = asyncStorage;\n    }).call(window);\n\n    //===============\n    // WebSQL Driver:\n    //===============\n    (function() {\n      const globalObject = this;\n      const openDatabase = this.openDatabase;\n      if (!openDatabase) {\n        return;\n      }\n\n      function __initStorage(options) {\n        const self = this;\n        let dbInfo = {\n          db: null\n        };\n\n        if (options) {\n          for (let i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n          }\n        }\n\n        const dbInfoPromise = new Promise(function(resolve, reject) {\n          try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n          } catch (e) {\n            return self.setDriver(self.LOCALSTORAGE).then(function() {\n              return self.__initStorage(options);\n            }).then(resolve)['catch'](reject);\n          }\n\n          dbInfo.db.transaction(function(t) {\n            t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.boxName + ' (id INTEGER PRIMARY KEY, key unique, value)', [], function() {\n              self.__dbInfo = dbInfo;\n              resolve();\n            }, function(t, error) {\n              reject(error);\n            });\n          });\n        });\n\n        return new Promise(function(resolve, reject) {\n          resolve(truckBoxSerializer);\n        }).then(function(lib) {\n          dbInfo.serializer = lib;\n          return dbInfoPromise;\n        });\n      }\n\n      function get(key, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function(t) {\n              t.executeSql('SELECT * FROM ' + dbInfo.boxName + ' WHERE key = ? LIMIT 1', [key], function(t, results) {\n                let result = results.rows.length ? results.rows.item(0).value : null;\n                if (result) {\n                  result = dbInfo.serializer.deserialize(result);\n                }\n\n                resolve(result);\n              }, function(t, error) {\n\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function each(iterator, callback) {\n        const self = this;\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n\n            dbInfo.db.transaction(function(t) {\n              t.executeSql('SELECT * FROM ' + dbInfo.boxName, [], function(t, results) {\n                const rows = results.rows;\n                const length = rows.length;\n\n                for (let i = 0; i < length; i++) {\n                  const item = rows.item(i);\n                  let result = item.value;\n                  if (result) {\n                    result = dbInfo.serializer.deserialize(result);\n                  }\n                  result = iterator(result, item.key, i + 1);\n                  if (result !== void 0) {\n                    resolve(result);\n                    return;\n                  }\n                }\n\n                resolve();\n              }, function(t, error) {\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function set(key, value, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            if (value === undefined) {\n              value = null;\n            }\n\n            const originalValue = value;\n\n            const dbInfo = self.__dbInfo;\n            dbInfo.serializer.serialize(value, function(value, error) {\n              if (error) {\n                reject(error);\n              } else {\n                dbInfo.db.transaction(function(t) {\n                  t.executeSql('INSERT OR REPLACE INTO ' + dbInfo.boxName + ' (key, value) VALUES (?, ?)', [key, value], function() {\n                    resolve(originalValue);\n                  }, function(t, error) {\n                    reject(error);\n                  });\n                }, function(sqlError) {\n                  if (sqlError.code === sqlError.QUOTA_ERR) {\n                    reject(sqlError);\n                  }\n                });\n              }\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function remove(key, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function(t) {\n              t.executeSql('DELETE FROM ' + dbInfo.boxName + ' WHERE key = ?', [key], function() {\n                resolve();\n              }, function(t, error) {\n\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function clear(callback) {\n        const self = this;\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function(t) {\n              t.executeSql('DELETE FROM ' + dbInfo.boxName, [], function() {\n                resolve();\n              }, function(t, error) {\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function size(callback) {\n        const self = this;\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function(t) {\n              t.executeSql('SELECT COUNT(key) as c FROM ' + dbInfo.boxName, [], function(t, results) {\n                const result = results.rows.item(0).c;\n\n                resolve(result);\n              }, function(t, error) {\n\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function key(n, callback) {\n        const self = this;\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function(t) {\n              t.executeSql('SELECT key FROM ' + dbInfo.boxName + ' WHERE id = ? LIMIT 1', [n + 1], function(t, results) {\n                const result = results.rows.length ? results.rows.item(0).key : null;\n                resolve(result);\n              }, function(t, error) {\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function keys(callback) {\n        const self = this;\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function(t) {\n              t.executeSql('SELECT key FROM ' + dbInfo.boxName, [], function(t, results) {\n                let keys = [];\n\n                for (let i = 0; i < results.rows.length; i++) {\n                  keys.push(results.rows.item(i).key);\n                }\n\n                resolve(keys);\n              }, function(t, error) {\n\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function executeCallback(promise, callback) {\n        if (callback) {\n          promise.then(function(result) {\n            callback(null, result);\n          }, function(error) {\n            callback(error);\n          });\n        }\n      }\n\n      const webSQLStorage = {\n        __driver: 'webSQLStorage',\n        __initStorage: __initStorage,\n        each: each,\n        get: get,\n        set: set,\n        remove: remove,\n        clear: clear,\n        size: size,\n        key: key,\n        keys: keys\n      };\n\n      // Export driver:\n      this.webSQLStorage = webSQLStorage;\n      globalObject.webSQLStorage = webSQLStorage;\n    }).call(window);\n\n    //=====================\n    // localStorage Driver:\n    //=====================\n    (function() {\n      const globalObject = this;\n      let localStorage = null;\n      try {\n        if (!this.localStorage || !('setItem' in this.localStorage)) {\n          return;\n        }\n        localStorage = this.localStorage;\n      } catch (e) {\n        return;\n      }\n\n      function __initStorage(options) {\n        const self = this;\n        let dbInfo = {};\n        if (options) {\n          for (let i in options) {\n            dbInfo[i] = options[i];\n          }\n        }\n\n        dbInfo.keyPrefix = dbInfo.name + '/';\n\n        if (dbInfo.boxName !== self.__defaultConfig.boxName) {\n          dbInfo.keyPrefix += dbInfo.boxName + '/';\n        }\n\n        self.__dbInfo = dbInfo;\n\n        return new Promise(function(resolve, reject) {\n          resolve(truckBoxSerializer);\n        }).then(function(lib) {\n          dbInfo.serializer = lib;\n          return Promise.resolve();\n        });\n      }\n\n      function clear(callback) {\n        const self = this;\n        const promise = self.ready().then(function() {\n          const keyPrefix = self.__dbInfo.keyPrefix;\n\n          for (let i = localStorage.length - 1; i >= 0; i--) {\n            const key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n              localStorage.removeItem(key);\n            }\n          }\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function get(key, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = self.ready().then(function() {\n          const dbInfo = self.__dbInfo;\n          let result = localStorage.getItem(dbInfo.keyPrefix + key);\n          if (result) {\n            result = dbInfo.serializer.deserialize(result);\n          }\n\n          return result;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function each(iterator, callback) {\n        const self = this;\n\n        const promise = self.ready().then(function() {\n          const dbInfo = self.__dbInfo;\n          const keyPrefix = dbInfo.keyPrefix;\n          const keyPrefixLength = keyPrefix.length;\n          const length = localStorage.length;\n          let iterationNumber = 1;\n\n          for (let i = 0; i < length; i++) {\n            const key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n              continue;\n            }\n            let value = localStorage.getItem(key);\n            if (value) {\n              value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n            if (value !== void 0) {\n              return value;\n            }\n          }\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function key(n, callback) {\n        const self = this;\n        const promise = self.ready().then(function() {\n          const dbInfo = self.__dbInfo;\n          let result;\n          try {\n            result = localStorage.key(n);\n          } catch (error) {\n            result = null;\n          }\n\n          if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n          }\n\n          return result;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function keys(callback) {\n        const self = this;\n        const promise = self.ready().then(function() {\n          const dbInfo = self.__dbInfo;\n          const length = localStorage.length;\n          let keys = [];\n\n          for (let i = 0; i < length; i++) {\n            if (localStorage.key(i).indexOf(dbInfo.keyPrefix) === 0) {\n              keys.push(localStorage.key(i).substring(dbInfo.keyPrefix.length));\n            }\n          }\n          return keys;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function size(callback) {\n        const self = this;\n        const promise = self.keys().then(function(keys) {\n          return keys.length;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function remove(key, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = self.ready().then(function() {\n          const dbInfo = self.__dbInfo;\n          localStorage.removeItem(dbInfo.keyPrefix + key);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function set(key, value, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = self.ready().then(function() {\n          if (value === undefined) {\n            value = null;\n          }\n          const originalValue = value;\n\n          return new Promise(function(resolve, reject) {\n            const dbInfo = self.__dbInfo;\n            dbInfo.serializer.serialize(value, function(value, error) {\n              if (error) {\n                reject(error);\n              } else {\n                try {\n                  localStorage.setItem(dbInfo.keyPrefix + key, value);\n                  resolve(originalValue);\n                } catch (e) {\n                  if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                    reject(e);\n                  }\n                  reject(e);\n                }\n              }\n            });\n          });\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function executeCallback(promise, callback) {\n        if (callback) {\n          promise.then(function(result) {\n            callback(null, result);\n          }, function(error) {\n            callback(error);\n          });\n        }\n      }\n\n      const localStorageWrapper = {\n        __driver: 'localStorageWrapper',\n        __initStorage: __initStorage,\n        each: each,\n        get: get,\n        set: set,\n        remove: remove,\n        clear: clear,\n        size: size,\n        key: key,\n        keys: keys\n      };\n\n      // Export driver:\n      this.localStorageWrapper = localStorageWrapper;\n      window.localStorageWrapper = localStorageWrapper;\n    }).call(window);\n\n    //=================\n    // Blob Serializer:\n    //=================\n    (function() {\n      const BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n      const BLOB_TYPE_PREFIX = '~~truck_box_type~';\n      const BLOB_TYPE_PREFIX_REGEX = /^~~truck_box_type~([^~]+)~/;\n      const SERIALIZED_MARKER = '__lfsc__:';\n      const SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n      const TYPE_ARRAYBUFFER = 'arbf';\n      const TYPE_BLOB = 'blob';\n      const TYPE_INT8ARRAY = 'si08';\n      const TYPE_UINT8ARRAY = 'ui08';\n      const TYPE_UINT8CLAMPEDARRAY = 'uic8';\n      const TYPE_INT16ARRAY = 'si16';\n      const TYPE_INT32ARRAY = 'si32';\n      const TYPE_UINT16ARRAY = 'ur16';\n      const TYPE_UINT32ARRAY = 'ui32';\n      const TYPE_FLOAT32ARRAY = 'fl32';\n      const TYPE_FLOAT64ARRAY = 'fl64';\n      const TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n      const globalObject = this;\n\n      function __createBlob(parts, properties) {\n        parts = parts || [];\n        properties = properties || {};\n\n        try {\n          return new Blob(parts, properties);\n        } catch (err) {\n          if (err.name !== 'TypeError') {\n            throw err;\n          }\n\n          const BlobBuilder = globalObject.BlobBuilder || globalObject.MSBlobBuilder || globalObject.MozBlobBuilder || globalObject.WebKitBlobBuilder;\n\n          let builder = new BlobBuilder();\n          for (let i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n          }\n\n          return builder.getBlob(properties.type);\n        }\n      }\n\n      function serialize(value, callback) {\n        let valueString = '';\n        if (value) {\n          valueString = value.toString();\n        }\n\n        if (value && (value.toString() === '[object ArrayBuffer]' || value.buffer && value.buffer.toString() === '[object ArrayBuffer]')) {\n          let buffer;\n          let marker = SERIALIZED_MARKER;\n\n          if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n          } else {\n            buffer = value.buffer;\n\n            if (valueString === '[object Int8Array]') {\n              marker += TYPE_INT8ARRAY;\n            } else if (valueString === '[object Uint8Array]') {\n              marker += TYPE_UINT8ARRAY;\n            } else if (valueString === '[object Uint8ClampedArray]') {\n              marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueString === '[object Int16Array]') {\n              marker += TYPE_INT16ARRAY;\n            } else if (valueString === '[object Uint16Array]') {\n              marker += TYPE_UINT16ARRAY;\n            } else if (valueString === '[object Int32Array]') {\n              marker += TYPE_INT32ARRAY;\n            } else if (valueString === '[object Uint32Array]') {\n              marker += TYPE_UINT32ARRAY;\n            } else if (valueString === '[object Float32Array]') {\n              marker += TYPE_FLOAT32ARRAY;\n            } else if (valueString === '[object Float64Array]') {\n              marker += TYPE_FLOAT64ARRAY;\n            } else {\n              callback(new Error('Failed to get type for BinaryArray'));\n            }\n          }\n\n          callback(marker + bufferToString(buffer));\n        } else if (valueString === '[object Blob]') {\n          const fileReader = new FileReader();\n\n          fileReader.onload = function() {\n            const str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n          };\n\n          fileReader.readAsArrayBuffer(value);\n        } else {\n          try {\n            callback(JSON.stringify(value));\n          } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n          }\n        }\n      }\n\n      function deserialize(value) {\n        if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n          return JSON.parse(value);\n        }\n        let serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n        const type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n        let blobType;\n        if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n          const matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n          blobType = matcher[1];\n          serializedString = serializedString.substring(matcher[0].length);\n        }\n        const buffer = stringToBuffer(serializedString);\n\n        switch (type) {\n          case TYPE_ARRAYBUFFER:\n            return buffer;\n          case TYPE_BLOB:\n            return __createBlob([buffer], {\n              type: blobType\n            });\n          case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n          case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n          case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n          case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n          case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n          case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n          case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n          case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n          case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n          default:\n            throw new Error('Unkown type: ' + type);\n        }\n      }\n\n      function stringToBuffer(serializedString) {\n        let bufferLength = serializedString.length * 0.75;\n        const len = serializedString.length;\n        let i;\n        let p = 0;\n        let encoded1, encoded2, encoded3, encoded4;\n        if (serializedString[serializedString.length - 1] === '=') {\n          bufferLength--;\n          if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n          }\n        }\n        const buffer = new ArrayBuffer(bufferLength);\n        let bytes = new Uint8Array(buffer);\n\n        for (i = 0; i < len; i += 4) {\n          encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n          encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n          encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n          encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n          /*jslint bitwise: true */\n          bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n          bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n          bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n        }\n        return buffer;\n      }\n\n      function bufferToString(buffer) {\n        const bytes = new Uint8Array(buffer);\n        let base64String = '';\n        let i;\n\n        for (i = 0; i < bytes.length; i += 3) {\n          /*jslint bitwise: true */\n          base64String += BASE_CHARS[bytes[i] >> 2];\n          base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n          base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n          base64String += BASE_CHARS[bytes[i + 2] & 63];\n        }\n        if (bytes.length % 3 === 2) {\n          base64String = base64String.substring(0, base64String.length - 1) + '=';\n        } else if (bytes.length % 3 === 1) {\n          base64String = base64String.substring(0, base64String.length - 2) + '==';\n        }\n        return base64String;\n      }\n\n      const truckBoxSerializer = {\n        serialize: serialize,\n        deserialize: deserialize,\n        stringToBuffer: stringToBuffer,\n        bufferToString: bufferToString\n      };\n\n      // Export driver:\n      this.truckBoxSerializer = truckBoxSerializer;\n      window.truckBoxSerializer = truckBoxSerializer;\n    }).call(window);\n\n    //==========================\n    // Truck Box Implementation:\n    //==========================\n    let CustomDrivers = {};\n    const DriverType = {\n      INDEXEDDB: 'asyncStorage',\n      LOCALSTORAGE: 'localStorageWrapper',\n      WEBSQL: 'webSQLStorage'\n    };\n    let DefaultDriverOrder = [DriverType.INDEXEDDB, DriverType.WEBSQL, DriverType.LOCALSTORAGE];\n    const LibraryMethods = ['clear', 'get', 'each', 'key', 'keys', 'size', 'remove', 'set'];\n\n    let DefaultConfig = {\n      description: '',\n      driver: DefaultDriverOrder.slice(),\n      name: 'truckbox',\n      size: 4980736,\n      boxName: 'keyvaluepairs',\n      version: 1.0\n    };\n\n    const driverSupport = (function(self) {\n      const indexedDB = indexedDB || self.indexedDB || self.webkitIndexedDB || self.mozIndexedDB || self.OIndexedDB || self.msIndexedDB;\n       let result = {};\n      result[DriverType.WEBSQL] = !!self.openDatabase;\n      result[DriverType.INDEXEDDB] = !!(function() {\n        if (typeof self.openDatabase !== 'undefined' && self.navigator && self.navigator.userAgent && /Safari/.test(self.navigator.userAgent) && !/Chrome/.test(self.navigator.userAgent)) {\n          return false;\n        }\n        try {\n          return indexedDB && typeof indexedDB.open === 'function' &&\n            typeof self.IDBKeyRange !== 'undefined';\n        } catch (e) {\n          return false;\n        }\n      })();\n\n      result[DriverType.LOCALSTORAGE] = !!(function() {\n        try {\n          return self.localStorage && 'setItem' in self.localStorage && self.localStorage.setItem;\n        } catch (e) {\n          return false;\n        }\n      })();\n\n      return result;\n    })(window);\n\n    const isArray = Array.isArray || function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    };\n\n    function callWhenReady(truckBoxInstance, libraryMethod) {\n      truckBoxInstance[libraryMethod] = function() {\n        const __args = arguments;\n        return truckBoxInstance.ready().then(function() {\n          return truckBoxInstance[libraryMethod].apply(truckBoxInstance, __args);\n        });\n      };\n    }\n\n    function extend() {\n      for (let i = 1; i < arguments.length; i++) {\n        const arg = arguments[i];\n\n        if (arg) {\n          for (let key in arg) {\n            if (arg.hasOwnProperty(key)) {\n              if (isArray(arg[key])) {\n                arguments[0][key] = arg[key].slice();\n              } else {\n                arguments[0][key] = arg[key];\n              }\n            }\n          }\n        }\n      }\n\n      return arguments[0];\n    }\n\n    function isLibraryDriver(driverName) {\n      for (let driver in DriverType) {\n        if (DriverType.hasOwnProperty(driver) && DriverType[driver] === driverName) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    const TruckBox = (function() {\n      function TruckBox(options) {\n\n        this.INDEXEDDB = DriverType.INDEXEDDB;\n        this.LOCALSTORAGE = DriverType.LOCALSTORAGE;\n        this.WEBSQL = DriverType.WEBSQL;\n\n        this.__defaultConfig = extend({}, DefaultConfig);\n        this.__config = extend({}, this.__defaultConfig, options);\n        this.__driverSet = null;\n        this.__initDriver = null;\n        this.__ready = false;\n        this.__dbInfo = null;\n\n        this.__wrapLibraryMethodsWithReady();\n        this.setDriver(this.__config.driver);\n      }\n\n      TruckBox.prototype.config = function(options) {\n        if (typeof options === 'object') {\n          if (this.__ready) {\n            return new Error(\"Can't call config() after truckbox \" + 'has been used.');\n          }\n          for (let i in options) {\n            if (i === 'boxName') {\n              options[i] = options[i].replace(/\\W/g, '_');\n            }\n\n            this.__config[i] = options[i];\n          }\n          if ('driver' in options && options.driver) {\n            this.setDriver(this.__config.driver);\n          }\n\n          return true;\n        } else if (typeof options === 'string') {\n          return this.__config[options];\n        } else {\n          return this.__config;\n        }\n      };\n\n      TruckBox.prototype.defineDriver = function(driverObject, callback, errorCallback) {\n        const promise = new Promise(function(resolve, reject) {\n          try {\n            const driverName = driverObject.__driver;\n            const complianceError = new Error('Custom driver not compliant; see Truck Box documentation');\n            const namingError = new Error('Custom driver name already in use: ' + driverObject.__driver);\n            if (!driverObject.__driver) {\n              reject(complianceError);\n              return;\n            }\n            if (isLibraryDriver(driverObject.__driver)) {\n              reject(namingError);\n              return;\n            }\n\n            const customDriverMethods = LibraryMethods.concat('__initStorage');\n            for (let i = 0; i < customDriverMethods.length; i++) {\n              const customDriverMethod = customDriverMethods[i];\n              if (!customDriverMethod || !driverObject[customDriverMethod] || typeof driverObject[customDriverMethod] !== 'function') {\n                reject(complianceError);\n                return;\n              }\n            }\n\n            let supportPromise = Promise.resolve(true);\n            if ('__support' in driverObject) {\n              if (driverObject.__support && typeof driverObject.__support === 'function') {\n                supportPromise = driverObject.__support();\n              } else {\n                supportPromise = Promise.resolve(!!driverObject.__support);\n              }\n            }\n\n            supportPromise.then(function(supportResult) {\n              driverSupport[driverName] = supportResult;\n              CustomDrivers[driverName] = driverObject;\n              resolve();\n            }, reject);\n          } catch (e) {\n            reject(e);\n          }\n        });\n\n        promise.then(callback, errorCallback);\n        return promise;\n      };\n\n      TruckBox.prototype.driver = function() {\n        return this.__driver || null;\n      };\n\n      TruckBox.prototype.getDriver = function(driverName, callback, errorCallback) {\n        const self = this;\n        const getDriverPromise = (function() {\n          if (isLibraryDriver(driverName)) {\n            switch (driverName) {\n              case self.INDEXEDDB:\n                return new Promise(function(resolve, reject) {\n                  resolve(asyncStorage);\n                });\n              case self.LOCALSTORAGE:\n                return new Promise(function(resolve, reject) {\n                  resolve(localStorageWrapper);\n                });\n              case self.WEBSQL:\n                return new Promise(function(resolve, reject) {\n                  resolve(webSQLStorage);\n                });\n            }\n          } else if (CustomDrivers[driverName]) {\n            console.log('Using: ' + driverName)\n            return Promise.resolve(CustomDrivers[driverName]);\n          }\n\n          return Promise.reject(new Error('Driver not found.'));\n        })();\n\n        getDriverPromise.then(callback, errorCallback);\n        return getDriverPromise;\n      };\n\n      TruckBox.prototype.getSerializer = function(callback) {\n        const serializerPromise = new Promise(function(resolve, reject) {\n          resolve(truckBoxSerializer)\n        });\n        if (callback && typeof callback === 'function') {\n          serializerPromise.then(function(result) {\n            callback(result);\n          });\n        }\n        return serializerPromise;\n      };\n\n      TruckBox.prototype.ready = function(callback) {\n        const self = this;\n\n        const promise = self.__driverSet.then(function() {\n          if (self.__ready === null) {\n            self.__ready = self.__initDriver();\n          }\n\n          return self.__ready;\n        });\n\n        promise.then(callback, callback);\n        return promise;\n      };\n\n      TruckBox.prototype.setDriver = function(drivers, callback, errorCallback) {\n        const self = this;\n\n        if (!isArray(drivers)) {\n          drivers = [drivers];\n        }\n\n        const supportedDrivers = this.__getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n          self.__config.driver = self.driver();\n        }\n\n        function initDriver(supportedDrivers) {\n          return function() {\n            let currentDriverIndex = 0;\n\n            function driverPromiseLoop() {\n              while (currentDriverIndex < supportedDrivers.length) {\n                const driverName = supportedDrivers[currentDriverIndex];\n                currentDriverIndex++;\n\n                self.__dbInfo = null;\n                self.__ready = null;\n\n                return self.getDriver(driverName).then(function(driver) {\n                  self.__extend(driver);\n                  setDriverToConfig();\n\n                  self.__ready = self.__initStorage(self.__config);\n                  return self.__ready;\n                })['catch'](driverPromiseLoop);\n              }\n\n              setDriverToConfig();\n              const error = new Error('No available storage method found.');\n              self.__driverSet = Promise.reject(error);\n              return self.__driverSet;\n            }\n\n            return driverPromiseLoop();\n          };\n        }\n\n        const oldDriverSetDone = this.__driverSet !== null ? this.__driverSet['catch'](function() {\n          return Promise.resolve();\n        }) : Promise.resolve();\n\n        this.__driverSet = oldDriverSetDone.then(function() {\n          const driverName = supportedDrivers[0];\n          self.__dbInfo = null;\n          self.__ready = null;\n\n          return self.getDriver(driverName).then(function(driver) {\n            self.__driver = driver.__driver;\n            setDriverToConfig();\n            self.__wrapLibraryMethodsWithReady();\n            self.__initDriver = initDriver(supportedDrivers);\n          });\n        })['catch'](function() {\n          setDriverToConfig();\n          const error = new Error('No available storage method found.');\n          self.__driverSet = Promise.reject(error);\n          return self.__driverSet;\n        });\n\n        this.__driverSet.then(callback, errorCallback);\n        return this.__driverSet;\n      };\n\n      TruckBox.prototype.supports = function(driverName) {\n        return !!driverSupport[driverName];\n      };\n\n      TruckBox.prototype.__extend = function(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n      };\n\n      TruckBox.prototype.__getSupportedDrivers = function(drivers) {\n        let supportedDrivers = [];\n        for (let i = 0, len = drivers.length; i < len; i++) {\n          const driverName = drivers[i];\n          if (this.supports(driverName)) {\n            supportedDrivers.push(driverName);\n          }\n        }\n        return supportedDrivers;\n      };\n\n      TruckBox.prototype.__wrapLibraryMethodsWithReady = function() {\n        for (let i = 0; i < LibraryMethods.length; i++) {\n          callWhenReady(this, LibraryMethods[i]);\n        }\n      };\n\n      TruckBox.prototype.createInstance = function(options) {\n        return new TruckBox(options);\n      };\n\n      return TruckBox;\n    })();\n\n    const truckBox = new TruckBox();\n    return truckBox;\n  })(window)\n});","// Truck Module - Model:\nimport '../truck';\nimport './mediator';\nimport './box';\n\n$.extend({\n\n  /**\n   * Factory to create a model.\n   *\n   * @param {any} data The data for the model. Can be just \"\" or [].\n   * @param {string} handle A handle used by models to annouce their changes. When a view is bound to a model, a mediator listens for the model's handle to update the view.\n   * @return {object} A model.\n   */\n  Model: (data, handle) => {\n\n    // Define handle name:\n    let __handle = handle || $.uuid();\n    // Init private data:\n    let __data = data || '';\n    data = null;\n\n    // Used for boxing a model:\n    let __name;\n    let __boxName;\n    let __key;\n    let __autobox = false;\n    let __lastBoxTime;\n    let __lastModifiedTime = 0;\n\n    const checkPublicationName = (__handle) => {\n      return typeof __handle === 'string';\n    };\n\n    const propagateDataLoop = (handle, data) => {\n      if ($.mediators[handle]) {\n        $.mediators[handle].forEach((cntrl) => {\n          if (cntrl && cntrl.callback) {\n            cntrl.callback.call(cntrl.callback, data);\n          }\n        });\n      }\n    };\n\n    const propagateData = (__handle, data, doNotPropogate) => {\n      if (!doNotPropogate) {\n        propagateDataLoop(__handle, data);\n      } else if (doNotPropogate && checkPublicationName(doNotPropogate) === 'string') {\n        propagateDataLoop(doNotPropogate, data);\n      }\n    };\n\n    // Return closure to encapsulate data:\n    var mod = {}\n    $.extend(mod, {\n\n      key: () => __key,\n\n      // Get size of array data:\n      size: () => {\n        if (mod.hasData() && mod.isIterable()) {\n          return __data.length;\n        }\n      },\n\n      // Define getter:\n      eq: prop => {\n        if (Array.isArray(__data)) {\n          if (__data && isNaN(prop)) {\n            return __data[prop];\n          } else if (__data && !isNaN(prop) && prop < 0) {\n            return __data[__data.length - 1];\n          } else if (__data && !isNaN(prop) && prop > -1) {\n            return __data[prop];\n          }\n        } else if (mod.hasData()) {\n          return __data[prop];\n        }\n      },\n\n      // Allow setting a property value on an object.\n      // This is for objects that are not iterable.\n      setProp: (prop, value, doNotPropogate) => {\n        if (!prop || (mod.hasData() && mod.isIterable())) {\n          return;\n        }\n        if (!__data) {\n          __data = {};\n          __data[prop] = value;\n          propagateData(__handle, __data, doNotPropogate);\n        } else {\n          __data[prop] = value;\n          propagateData(__handle, __data, doNotPropogate);\n        }\n        __lastModifiedTime = Date.now();\n      },\n\n      // Get a property on an object.\n      // This is for objects that are not iterable.\n      getProp: prop => {\n        if (!prop || (mod.hasData() && mod.isIterable())) {\n          return;\n        } else {\n          return __data[prop];\n        }\n      },\n\n      // Replace a single object with another.\n      // This is for objects that are not iterable.\n      setObject: (obj, doNotPropogate) => {\n        if (!obj || (mod.hasData() && mod.isIterable())) {\n          return;\n        }\n        __data = obj;\n        __lastModifiedTime = Date.now();\n        propagateData(__handle, __data, doNotPropogate);\n      },\n\n      // Merge new object into existing object.\n      // New properties will be added,\n      // existing properties will be updated.\n      mergeObject: (obj, doNotPropogate) => {\n        if (!obj || $.type(obj) !== 'object') return;\n        const temp = mod.getData();\n        $.extend(temp, obj);\n        mod.setObject(temp, doNotPropogate);\n      },\n\n      // Define push for collections.\n      // Add item to end of collection:\n      push: (data, doNotPropogate) => {\n        if (!data) return;\n        if (Array.isArray(__data)) {\n          __data.push(data);\n          __lastModifiedTime = Date.now();\n          propagateData(__handle, data, doNotPropogate);\n          if (__autobox) {\n            mod.box({\n              key: __key\n            });\n          }\n        }\n      },\n\n      // Define pop for collections.\n      // Remove item from end of collection:\n      pop: doNotPropogate => {\n        if (mod.hasData() && mod.isIterable()) {\n          const data = __data.pop();\n          __lastModifiedTime = Date.now();\n          propagateData(__handle, data, doNotPropogate);\n          if (__autobox) {\n            mod.box({\n              key: __key\n            });\n          }\n          return data;\n        }\n      },\n\n      // Unshift for collections.\n      // Add item to beginning of collection:\n      unshift: (data, doNotPropogate) => {\n        if (!data) return;\n        if (Array.isArray(__data)) {\n          __data.unshift(data);\n          __lastModifiedTime = Date.now();\n          propagateData(__handle, data, doNotPropogate);\n          if (__autobox) {\n            mod.box({\n              key: __key\n            });\n          }\n        }\n      },\n\n      // Shift for collections.\n      // Remove item from beginning of collection:\n      shift: doNotPropogate => {\n        if (mod.hasData() && mod.isIterable()) {\n          const __d = __data.shift();\n          __lastModifiedTime = Date.now();\n          propagateData(__handle, __d, doNotPropogate);\n          if (__autobox) {\n            mod.box({\n              key: __key\n            });\n          }\n          return __d;\n        }\n      },\n\n      // Define concat for collections.\n      // Merge one array into view model:\n      concat: (data, doNotPropogate) => {\n        if (!data) return;\n        if (Array.isArray(__data)) {\n          __data.push.apply(__data, data);\n          __lastModifiedTime = Date.now();\n          propagateData(__handle, __data, doNotPropogate);\n          if (__autobox) {\n            mod.box({\n              key: __key\n            });\n          }\n        }\n      },\n\n      // Define insert for collections.\n      // Insert data at position:\n      insert: (position, data, doNotPropogate) => {\n        if (!position) return;\n        if (mod.hasData() && mod.isIterable()) {\n          let len = data.length;\n          // The position is greater than the collection,\n          // so add to end of collection:\n          if (position >= len -1) {\n            __data.push(data);\n            __lastModifiedTime = Date.now();\n            propagateData(__handle, data, doNotPropogate);\n          // Otherwise insert it at the position:\n          } else {\n            __data.splice(position, 0, data);\n            __lastModifiedTime = Date.now();\n            propagateData(__handle, data, doNotPropogate);\n          }\n        }\n        if (__autobox) {\n          mod.box({\n            key: __key\n          });\n        }\n      },\n\n      // Define unique for collections.\n      // Remove duplicates from view model:\n      unique: doNotPropogate => {\n        const len = __data.length;\n        let ret = [];\n        let obj = {};\n\n        if (mod.hasData() && mod.isIterable()) {\n          for (let i = 0; i < len; i++) {\n            const arrayItem = JSON.stringify(__data[i]);\n            const arrayItemValue = __data[i];\n            if (obj[arrayItem] === undefined) {\n              ret.push(arrayItemValue);\n              obj[arrayItem] = 1;\n            } else {\n              obj[arrayItem]++;\n            }\n          }\n          __lastModifiedTime = Date.now();\n          __data = ret;\n        }\n        if (doNotPropogate) {\n          if (checkPublicationName(doNotPropogate)) {\n            $.mediators[doNotPropogate].forEach(handle => {\n              handle.callback.call(handle.callback, data);\n            });\n          }\n        } else {\n          $.dispatch(__handle, __data);\n        }\n        if (__autobox) {\n          mod.box({\n            key: __key\n          });\n        }\n      },\n\n      // Get the index of data from a collection:\n      index: (prop, value) => {\n        if (mod.hasData() && mod.isIterable()) {\n          if (value) {\n            for (let i = 0; i < __data.length; i++) {\n              if (__data[i][prop] === value) {\n                return i;\n              }\n            }\n          } else {\n            return __data.indexOf(prop);\n          }\n        }\n        return;\n      },\n\n      // Filter the data of a collection:\n      filter: (...args) => {\n        if (mod.hasData() && mod.isIterable()) {\n          return __data.filter.apply(__data, args);\n        }\n      },\n\n      // Map the data of a collection:\n      map: (...args) => {\n        if (mod.hasData() && mod.isIterable()) {\n          return __data.map.apply(__data, args);\n        }\n      },\n\n      // Pluck the property value from a collection:\n      pluck: property => {\n        if (!property) return;\n        let ret = [];\n        if (mod.hasData() && mod.isIterable()) {\n          const len = mod.size();\n          for (let i = 0; i < len; i++) {\n            ret.push(__data[i][property]);\n          }\n          return ret;\n        }\n      },\n\n      sort: args => {\n        __lastModifiedTime = Date.now();\n        return __data.sort.call(__data, args);\n      },\n\n      reverse: () => {\n        __lastModifiedTime = Date.now();\n        __data.reverse();\n        if (__autobox) {\n          mod.box({\n            key: __key\n          });\n        }\n      },\n\n      // Sort the data of a collection:\n      sortBy: function(...props) {\n        const orderBy = (args) => {\n          return (a, b) => {\n            const sortByProperty = (property) => {\n              // Default sort order:\n              let sortOrder = 1;\n              // If user provided property \n              // with \"-\" prefix, make\n              // sort order descending:\n              if (property[0] === \"-\") {\n                sortOrder = -1;\n                // Extract property from hyphen prefix:\n                property = property.substr(1);\n              }\n              // Sort objects by provided properties:\n              //=====================================\n              return (a, b) => {\n                const result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n                return result * sortOrder;\n              };\n            };\n\n            // Loop over all properties and sort\n            // objects based on those properties:\n            //===================================\n            let i = 0;\n            let result = 0;\n            const numberOfProperties = props.length;\n            while (result === 0 && i < numberOfProperties) {\n              // Use the private function to compare two values:\n              //================================================\n              result = sortByProperty(props[i])(a, b);\n              i++;\n            }\n            __lastModifiedTime = Date.now();\n            return result;\n          };\n        };\n        if (mod.hasData() && mod.isIterable()) {\n          return __data.sort(orderBy.apply(null, props));\n        }\n      },\n\n      // Enable user to delete either an object property,\n      // or an index of a collection;\n      delete: (data, doNotPropogate) => {\n        let pos;\n        if (data !== 0 && !data) return;\n        if (mod.hasData() && mod.isIterable()) {\n          pos = __data.indexOf(data);\n          __data.splice(pos, 1);\n          __lastModifiedTime = Date.now();\n        } else if (mod.hasData()) {\n          __lastModifiedTime = Date.now();\n          delete __data[data];\n        }\n        propagateData(__handle, __data, doNotPropogate);\n        if (__autobox) {\n          mod.box({\n            key: __key\n          });\n        }\n      },\n\n      // Enable callback execution with model:\n      run: callback => {\n        callback.call(callback, mod, __data);\n      },\n\n      // For the model to announce its current data state:\n      poke: () => {\n        if (mod.hasData() && mod.isIterable() && __handle) {\n          $.mediators[__handle].forEach(handle => {\n            handle.callback.call(handle.callback, data);\n          });\n        }\n      },\n\n      // Get the current model handle:\n      getHandle: () => __handle,\n\n      // Set the handle that the model uses.\n      // If a handle was set up at initialization,\n      // it will be replace with this handel\n      setHandle: (handle) => {\n        if (handle && typeof handle === 'string') {\n          __handle = handle;\n        }\n      },\n\n      // Delete all data in the model:\n      purge: () => {\n        if ($.type(__data) === 'array') {\n          __data.length = 0;\n        } else if ($.type(__data) === 'object') {\n          for (k in __data)\n            if (!(__data[k] instanceof Function)) delete __data[k];\n        }\n        if (__autobox) {\n          mod.box({\n            key: __key\n          });\n        }\n      },\n\n      // Determine if the model has any data:\n      hasData: () => {\n        if ($.type(__data) === 'array' && __data.length || $.type(__data) === 'object' && !$.isEmptyObject(__data)) {\n          return true;\n        } else {\n          return false;\n        }\n      },\n\n      // Returns whether the model's data is\n      // an array or an object:\n      getType: () => {\n        if (Array.isArray(__data)) {\n          return 'array';\n        } else if (typeof __data === 'object') {\n          return 'object';\n        } else {\n          return;\n        }\n      },\n\n      isIterable: () => {\n        if (Array.isArray(__data)) {\n          return true;\n        } else {\n          return false;\n        }\n      },\n\n      forEach: callback => {\n        if (mod.hasData() && mod.isIterable()) {\n          let value;\n          let i = -1;\n          const len = __data.length;\n          while (++i < len) {\n            value = callback.call(__data[i], __data[i], i);\n            if (value === false) {\n              break;\n            }\n          }\n        }\n      },\n\n      // Get all current data from model:\n      getData: () => {\n        if (mod.hasData()) {\n          return __data;\n        }\n      },\n\n      // Set a value on an object property in a stack,\n      // or replace the object with another:\n      setItemProp: (index, prop, value, doNotPropogate) => {\n        if (mod.hasData() && mod.isIterable()) {\n          if (isNaN(index)) return;\n          if (!isNaN(index) && value) {\n            __data[index][prop] = value;\n            __lastModifiedTime = Date.now();\n            propagateData(__handle, __data, doNotPropogate);\n          } else if (prop && !value) {\n            // __data[index][prop];\n            __data.splice(index, 1, prop);\n            __lastModifiedTime = Date.now();\n            propagateData(__handle, __data, doNotPropogate);\n          }\n        } else {\n          __data[index] = prop;\n          __lastModifiedTime = Date.now();\n          propagateData(__handle, __data, value);\n        }\n        if (__autobox) {\n          mod.box({\n            key: __key\n          });\n        }\n      },\n\n      // Get the value of a property on an object in a stack,\n      // or get the whole object at that index.\n      getItemProp: (index, prop) => {\n        if (mod.hasData() && mod.isIterable()) {\n          if (isNaN(index)) return;\n          if (prop) {\n            return __data[index][prop];\n          } else {\n            return __data[index];\n          }\n        } else {\n          return __data[index];\n        }\n      },\n\n      deleteItemProp: (index, prop, doNotPropogate) => {\n        if (mod.hasData() && mod.isIterable()) {\n          if (isNaN(index)) return;\n          if (typeof prop === 'string') {\n            __lastModifiedTime = Date.now();\n            delete __data[index][prop];\n            propagateData(__handle, __data, doNotPropogate);\n          } else if (prop === true) {\n            __lastModifiedTime = Date.now();\n            __data.splice(index, 1);\n            propagateData(__handle, __data, prop);\n          } else {\n            __lastModifiedTime = Date.now();\n            __data.splice(index, 1);\n            propagateData(__handle, __data, doNotPropogate);\n          }\n        }\n        if (__autobox) {\n          mod.box({\n            key: __key\n          });\n        }\n      },\n\n      getLastModTime: () => __lastModifiedTime,\n\n      box: options => {\n        /*\n          options = {\n            key: key,\n            boxName: name\n          }\n        */\n\n        if (!options) return;\n        let value;\n        __autobox = options.autobox || __autobox;\n        __name = options.name || $.Box.__config.name;\n        __boxName = options.boxName || 'keyvaluepairs';\n        __key = options.key || mod.getHandle();\n\n        // Box the model's data:\n        value = mod.getData();\n        $.Box.set(__key, value).then((item) => {\n          __lastBoxTime = Date.now();\n        });\n      },\n\n      setToAutobox: options => {\n        __autobox = true;\n        __name = options.name || $.Box.__config.name;\n        __boxName = options.boxName || 'keyvaluepairs';\n        __key = options.key || mod.getHandle();\n      },\n\n      isBoxed: () => __lastBoxTime ? true : false,\n\n      isAutoBoxed: () => __autobox ? true : false,\n\n      getLastBoxTime: () => __lastBoxTime\n\n    });\n    return mod;\n  }\n});","// Truck Widget - Router:\nimport '../truck';\nimport '../modules/model';\n\n$(() => {\n  $.extend({\n    //===============\n    // Define Router:\n    //===============\n    TruckRoutes: $.Model([], 'Truck-Routes'),\n\n    Router: () => {\n\n      $.receive('Truck-Routes', $.noop);\n\n      return {\n        addRoute: options => {\n          if ($.type(options) === 'array') {\n            options.forEach(function(item) {\n              if (!$.mediators[item.route]) {\n                $.mediators[item.route] = $.MediatorStack();\n                $.mediators[item.route].push({\n                  token: $.uuid(),\n                  callback: item.callback,\n                  exec: true,\n                  count: 0\n                });\n              }\n            });\n          }\n        },\n\n        getFullRoute: () => $.TruckRoutes.getData().join('/'),\n\n        getRoutesStack: () => $.TruckRoutes.getData(),\n\n        getCurrentLoc: () => {\n          const temp = this.getFullRoute().split('/');\n          return temp[temp.length - 1];\n        },\n\n        dispatch: route => {\n          let temp;\n          let id;\n          if (route.match(/\\:/)) {\n            temp = route.split(':');\n            id = temp[1];\n            route = temp[0];\n          }\n          if ($.mediators[route]) {\n            $.mediators[route].getData()[0].callback(id);\n          }\n        },\n\n        pushRoute: route => $.TruckRoutes.push(route),\n\n        popRoute: () => $.TruckRoutes.pop(),\n\n        unshiftRoute: route => $.TruckRoutes.unshift(route),\n\n        shiftRoute: () => $.TruckRoutes.shift(),\n\n        insert: (position, route) => {\n          if ($.TruckRoutes.size() >= position) {\n            $.TruckRoutes.push(route);\n          } else {\n            $.TruckRoutes.splice(position, 0, route);\n          }\n        },\n\n        eq: number => $.TruckRoutes.eq(number),\n\n        indexOf: route => $.TruckRoutes.indexOf(route),\n\n        delete: (route, baseRouteOnly) => {\n          if (baseRouteOnly) {\n            $.TruckRoutes.delete(route);\n          } else {\n            $.TruckRoutes.forEach(function(r) {\n              if (r && route === r.split(':')[0]) {\n                $.TruckRoutes.delete(r);\n              }\n            });\n          }\n        }\n      };\n    }\n  });\n\n  $.extend($.Router, {\n    dispatch: route => {\n      if (!route) return;\n      let temp;\n      let id;\n      if (route.match(/\\:/)) {\n        temp = route.split(':');\n        id = temp[1];\n        route = temp[0];\n      }\n      if ($.mediators[route]) {\n        $.mediators[route].getData()[0].callback(id);\n      }\n    }\n  });\n\n  $.extend($.TruckRoutes, {\n    getFullRoute: function() {\n      return this.getData().join('/');\n    }\n  });\n\n  // Set up initial route:\n  if ($('screen').size()) {\n    $.TruckRoutes.push($('screen')[0].id, true);\n  }\n\n});","// Truck Widget - Navigation Module:\nimport '../truck';\nimport './setup';\nimport './screens';\nimport './router';\n\n$(() => {\n  // Private variable to track navigation state:\n  let isNavigating = false;\n  // get screen by id:\n  const getScreen = screen => $('#' + screen);\n\n  // Handle state of screens:\n  const makeScreenCurrent = screen => {\n    screen = $(screen);\n    screen.addClass('current');\n    screen.removeClass('previous');\n    screen.removeClass('next');\n  };\n  const makeScreenPrevious = screen => {\n    screen = $(screen);\n    screen.removeClass('current');\n    screen.removeClass('next');\n    screen.addClass('previous');\n  };\n  const makeScreenNext = screen => {\n    screen = $(screen);\n    screen.removeClass('current');\n    screen.removeClass('previous');\n    screen.addClass('next');\n  };\n\n  $.extend({\n\n    ///////////////////////////////\n    // Navigate to Specific Article\n    ///////////////////////////////\n    GoToScreen: destination => {\n      if (isNavigating) return;\n      isNavigating = true;\n      $.TruckRoutes.push(destination);\n      const currentScreen = $.screens.getCurrent();\n      const destinationScreen = (function() {\n        var temp;\n        var regex = /:/img;\n        temp = regex.test(destination) ?\n          destination.split(':')[0] : destination;\n        return getScreen(temp);\n      })();\n      if (currentScreen[0]) currentScreen[0].scrollTop = 0;\n      if (destinationScreen[0]) destinationScreen[0].scrollTop = 0;\n      makeScreenPrevious(currentScreen);\n      makeScreenCurrent(destinationScreen);\n      $.Router.dispatch(destination);\n      setTimeout(function() {\n        isNavigating = false;\n      }, 500);\n    },\n\n    ////////////////////////////////////\n    // Navigate Back to Previous Article\n    ////////////////////////////////////\n    GoBack: () => {\n      const currentScreen = $.screens.getCurrent();\n      $.TruckRoutes.pop();\n      const desintation = $.TruckRoutes.eq(-1);\n      let dest = $.TruckRoutes.eq(-1).split(':')[0];\n      const destinationScreen = getScreen(dest);\n      if ($.TruckRoutes.size() === 0) {\n        dest = $.screens.eq(0);\n        $.TruckRoutes.push(dest[0].id);\n      }\n      if (currentScreen[0]) currentScreen[0].scrollTop = 0;\n      if (destinationScreen[0]) destinationScreen[0].scrollTop = 0;\n      $.Router.dispatch(desintation);\n      makeScreenNext(currentScreen);\n      makeScreenCurrent(destinationScreen);\n      if ($.TruckRoutes.size() === 1) return;\n    },\n\n    isNavigating: false,\n\n    //////////////////////////////////////\n    // Navigate Back to Non-linear Article\n    //////////////////////////////////////\n    GoBackToScreen: destination => {\n      const position = $.TruckRoutes.index(destination);\n      const destinationScreen = getScreen(destination);\n      let temp;\n      while ($.TruckRoutes.size() > position + 1) {\n        temp = $.TruckRoutes.pop();\n        temp = getScreen(temp);\n        makeScreenNext(temp);\n      }\n      makeScreenCurrent(destinationScreen);\n      $.Router.dispatch(destination);\n    }\n  });\n\n\n  ///////////////////////////////////////////////////////////\n  // Make sure that navs and articles have navigation states:\n  ///////////////////////////////////////////////////////////\n\n  ///////////////////////////\n  // Initialize Back Buttons:\n  ///////////////////////////\n  $('body').on('tap', '.back', function() {\n    if (this.hasAttribute('disabled')) return;\n    $.GoBack();\n  });\n\n  ////////////////////////////////\n  // Handle navigation list items:\n  ////////////////////////////////\n\n  const handleNavigationEvent = element => {\n    element = $(element);\n    if ($.isNavigating) return;\n    if (!element.hazAttr('data-goto')[0]) return;\n    if (element.closest('ul').is('.deletable')) return;\n    var destination = element.attr('data-goto');\n    if (!destination) return;\n    element.addClass('selected');\n    setTimeout(function() {\n      element.removeClass('selected');\n    }, 1000);\n    // Handle navigation:\n    if ($.isAndroid || $.isChrome) {\n      setTimeout(function() {\n        $.GoToScreen(destination);\n      }, 200);\n    } else {\n      $.GoToScreen(destination);\n    }\n  };\n  $('body').on('tap', 'li', function() {\n    handleNavigationEvent($(this));\n  });\n  $('body').on('doubletap', 'li', function() {\n    if (!$.isNavigating) {\n      handleNavigationEvent($(this));\n    }\n  });\n});","// Truck Widget - Tab Bar:\nimport '../truck';\nimport './setup';\nimport './navigation';\n\n$.extend({\n  //=========================================\n  // Creates a Tab Bar for Toggling Articles:\n  //=========================================\n  TabBar: options => {\n    /*\n    var options = {\n      id: 'mySpecialTabbar',\n      labels: [\"Refresh\", \"Add\", \"Info\", \"Downloads\", \"Favorite\"],\n      icons: [\"refresh\", \"add\", \"info\", \"downloads\", \"favorite\"],\n      screens: [],\n      selected: 2,\n      showIcons: false // set to true for Android and Windows\n    }\n    */\n    if (!options) return;\n    let id = $.uuid();\n    let settings = {\n      selected: 0\n    };\n    $.extend(settings, options);\n    if (!settings.icons.length) {\n      settings.icons = settings.labels;\n    }\n    if (!settings.id) {\n      settings.id = id;\n    } else {\n      id = settings.id;\n    }\n\n    // Private variable to keep track of screens:\n    let __tabbarScreens = $();\n\n    let screens = $();\n    const screenPrefix = '#';\n\n    if (settings.screens) {\n      settings.screens.forEach(screen => {\n        if (!/screenPrefix/img.test(screen)) {\n          __tabbarScreens.push($(screenPrefix + screen)[0]);\n          $(screenPrefix + screen).addClass('tabScreen');\n        } else {\n          __tabbarScreens.concat($(screen)[0]);\n          $(screen).addClass('tabScreen');\n        }\n      });\n    } else {\n      settings.labels.forEach((screen, idx) => {\n        __tabbarScreens.push(screens.eq(idx));\n      });\n    }\n    let selectedScreen;\n    const showIcons = settings.showIcons ? ' class=\"showIcons\" ' : '';\n\n    // Helper: Set Screen to Current:\n    //===============================\n    const setToCurrent = element => {\n      $(element).removeClass('previous').removeClass('next').addClass('current');\n      $(element).attr('aria-hidden', 'false');\n    };\n\n    // Helper: Set Screen to Next:\n    //============================\n    const setToNext = element => {\n      $(element).removeClass('current').addClass('next');\n      $(element).attr('aria-hidden', 'true');\n    };\n\n    // Create tabs:\n    //=============\n    const makeTab = (label, icon, idx) => {\n      let tab = `<button role=\"tab\" class=\"${ icon }`;\n      if (settings.selected === idx) {\n        tab += ' selected';\n      }\n      tab += '\"';\n      if (settings.screens && settings.screens.length) {\n        tab += ` data-id=\"${ settings.screens[idx] }\"`;\n      }\n      tab += `><span class=\"icon\"></span><label>${ settings.labels[idx] }</label></button>`;\n      return tab;\n    };\n    // Create tab bar:\n    //================\n    let tabbarTmpl = $(`<tabbar role=\"tabpanel\"${ showIcons }></tabbar>`);\n    tabbarTmpl[0].id = settings.id;\n    tabbarTmpl.addClass('tabbar');\n\n    setToNext($('screen'));\n    selectedScreen = $('screen').eq(settings.selected);\n    setToCurrent(selectedScreen);\n\n    if (settings.labels.length) {\n      settings.labels.forEach((label, idx) => {\n        tabbarTmpl.append(makeTab(label, settings.icons[idx], idx));\n      });\n    }\n    $('body').prepend(tabbarTmpl);\n\n\n\n    // Get id of appended tab bar:\n    let tabbar = $('#' + settings.id);\n\n    // Private variables to manage tab bar: \n    const __tabbarButtons = tabbar.find('button');\n    const __selectedTabbarButton = __tabbarButtons.eq(settings.selected);\n    const __selectedTabbarScreen = __tabbarScreens.eq(settings.selected);\n\n\n\n\n    // Setup events on tabs:\n    //======================\n    $(() => {\n\n      $.TruckRoutes.purge();\n      $.TruckRoutes.push(__tabbarScreens.eq(settings.selected)[0].id);\n\n      const tabbarButtons = tabbar.find('button');\n      $.Router.dispatch(__selectedTabbarScreen[0].id);\n      tabbarButtons.forEach((button, idx) => {\n        $(button).data('truck-route', __tabbarScreens.eq(idx)[0].id);\n      });\n\n      // Tap on tab:\n      tabbar.on('tap', 'button', function() {\n        const routes = $(this).data('truck-route').split('/');\n        const fullRoute = $.TruckRoutes.getFullRoute();\n\n        // This tab holds a navigation list:\n        if (routes.length > 1) {\n          __tabbarButtons.hazClass('selected').data('truck-route', fullRoute);\n          __tabbarButtons.hazClass('selected').removeClass('selected').addClass('next');\n          // Set this tab to `selected`:\n          $(this).addClass('selected');\n          // Deal with previously selected tab and screen:\n          $('screens').removeClass('current').addClass('next')\n            .attr('aria-hidden', true);\n          $('screens').removeClass('previous').addClass('next')\n            .attr('aria-hidden', true);\n          let navRoutesFull = $(this).data('truck-route');\n          const navRoutes = navRoutesFull.split('/');\n          navRoutes.forEach((route, idx) => {\n            const routing = route.split(':');\n            let whichRoute = routing[0];\n            if (idx !== routes.length - 1) {\n              $('#' + whichRoute).removeClass('next').addClass('previous').attr('aria-hidden', true);\n            } else {\n              $('#' + whichRoute).removeClass('next').addClass('current').attr('aria-hidden', false);\n            }\n          });\n          // Take care of routes:\n          $.TruckRoutes.purge();\n          $.TruckRoutes.concat(navRoutes);\n          $.Router.dispatch(routes[routes.length - 1]);\n\n          // This tab has a single screen:\n        } else {\n\n          __tabbarButtons.hazClass('selected').data('truck-route', fullRoute);\n          __tabbarButtons.hazClass('selected').removeClass('selected').addClass('next');\n          // Deal with previously selected tab and screen:\n          $('screen').removeClass('current').addClass('next')\n            .attr('aria-hidden', true);\n          $('screen').removeClass('previous').addClass('next')\n            .attr('aria-hidden', true);\n          // Set this tab to `selected`:\n          $(this).addClass('selected');\n          // Make this tab's screen `current`:\n          $.screens.eq($(this).index()).removeClass('next').removeClass('previous')\n            .addClass('current').attr('aria-hidden', false);\n          // Take care of routes:\n          $.TruckRoutes.purge();\n          $.TruckRoutes.concat(routes);\n          $.Router.dispatch(fullRoute);\n\n        }\n      });\n    });\n\n    return {\n\n      getSelectedTab: () => {\n        return __selectedTabbarButton;\n      },\n\n      getSelectedScreen: () => {\n        return __selectedTabbarScreen;\n      },\n\n      setSelectedTab: (position) => {\n        tabbar.find('button').iz('.selected').removeClass('selected').addClass('next');\n        tabbar.children('button').eq(position).addClass('selected');\n        setToNext(__tabbarScreens.iz('.current')[0]);\n        setToCurrent(__tabbarScreens.eq(position)[0]);\n      }\n    };\n  }\n});"]}